/*
    *
    * Wijmo Library 5.20143.23
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){"use strict";var i=function(n){function t(t){n.call(this);this._engine=t}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.EventArgs),r,u;t.RenderEventArgs=i;r=function(r){function u(){r.apply(this,arguments);this._palette=null;this._selectionMode=0;this._defPalette=t.Palettes.standard;this._notifyCurrentChanged=!0;this._legendHost=null;this._needBind=!1;this.rendering=new n.Event;this.rendered=new n.Event}return __extends(u,r),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onRendered=function(n){this.rendered.raise(this,new i(n))},u.prototype.onRendering=function(n){this.rendering.raise(this,new i(n))},u.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);this.isUpdating||this._refreshChart()},u.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},u.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},u.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},u.prototype._getColorLight=function(t){var i=this._getColor(t),r=new n.Color(i);return r!=null&&(r.a*=.7,i=r.toString()),i},u.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},u.prototype._clearCachedValues=function(){},u.prototype._render=function(){},u.prototype._performBind=function(){},u.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this._render(this._currentRenderEngine)},u.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,l=null,v=null,c=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(l=f.foreground),f.fill&&(l=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(c=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s);r.height-=h.height;i.textFill=l;e?(c=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s):c=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,c=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s):c=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},u.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace("px","")),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace("px","")),e&&!isNaN(e)&&(r.y-=e)),r},u.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},u.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(" ",4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},u.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},u.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},u.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},u.prototype._getHostOffset=function(){var i,r,t=new n.Point,u=this.hostElement,f=u&&u.ownerDocument,e;return f?(i=f.documentElement,e=u.getBoundingClientRect(),r=f.defaultView,t.y=e.top+r.pageYOffset-i.clientTop,t.x=e.left+r.pageXOffset-i.clientLeft,t):t},u.prototype._getHostSize=function(){var i=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),r=f.offsetWidth,u=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace("px","")),o=parseFloat(t.paddingRight.replace("px","")),s=parseFloat(t.paddingTop.replace("px","")),h=parseFloat(t.paddingBottom.replace("px",""));isNaN(e)||(r-=e);isNaN(o)||(r-=o);isNaN(s)||(u-=s);isNaN(h)||(u-=h);i.width=r;i.height=u}return i},u.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},u.prototype._find=function(n,t){for(var i,f,r=[],u=0;u<n.childElementCount;u++)i=n.childNodes.item(u),t.indexOf(i.nodeName)>=0?r.push(i):(f=this._find(i,t),f.length>0&&r.push(f));return r},u._WIDTH=300,u._HEIGHT=200,u._SELECTION_THRESHOLD=15,u}(n.Control);t.FlexChartBase=r;u=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){return t=="seriesName"&&i.series?i.series.name:t=="pointIndex"&&i.pointIndex!==null?i.pointIndex.toFixed():t=="y"&&i.series?r?n.Globalize.format(i.y,r):i._yfmt:t=="x"&&i.series?r?n.Globalize.format(i.x,r):i._xfmt:t=="value"?r?n.Globalize.format(i.value,r):i.value:t=="name"?i.name:""},t}();t._KeyWords=u})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f=function(f){function e(i,r){f.call(this,i,null,!0);this._areas=[];this._keywords=new t._KeyWords;this._startAngle=0;this._innerRadius=0;this._offset=0;this._reversed=!1;this._isAnimated=!1;this._selectedItemPosition=0;this._selectedItemOffset=0;this._rotationAngle=0;this._center=new n.Point;this._selectedOffset=new n.Point;this._selectedIndex=-1;this._angles=[];this._values=[];this._labels=[];this._pels=[];this._sum=0;this.applyTemplate("wj-control wj-flexchart",null,null);this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new t.ChartTooltip;this._tooltip.content="<b>{name}<\/b><br/>{value}";this._tooltip.showDelay=0;var u=this;n.isTouchDevice()||this.hostElement.addEventListener("mousemove",function(t){var r=u._tooltip,e=r.content,i,f;e&&(i=u.hitTest(t),i.distance<=r.threshold?(f=u._getTooltipContent(i),u._showToolTip(f,new n.Rect(t.clientX,t.clientY,5,5))):u._hideToolTip())});this.hostElement.addEventListener("click",function(i){var o=!0,f,e,s,r,h;u.selectionMode!=0&&(r=u.hitTest(i),f=t.FlexChart._SELECTION_THRESHOLD,u.tooltip&&u.tooltip.threshold&&(f=u.tooltip.threshold),r.distance<=f?(r.pointIndex!=u._selectionIndex&&u.selectedItemPosition!=0&&(o=!1),u._select(r.pointIndex,!0)):u._select(null));o&&n.isTouchDevice()&&(e=u._tooltip,s=e.content,s&&(r=u.hitTest(i),r.distance<=e.threshold?(h=u._getTooltipContent(r),u._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):u._hideToolTip()))});r&&this.initialize(r);this.refresh()}return __extends(e,f),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(n,i){var f=this._toControl(n,i),r=new t.HitTestInfo(this,f),v=null,c,u,e,h;if(t.FlexChart._contains(this._rectHeader,f))r._chartElement=5;else if(t.FlexChart._contains(this._rectFooter,f))r._chartElement=6;else if(t.FlexChart._contains(this._rectLegend,f))r._chartElement=4,v=this.legend._hitTest(f);else if(t.FlexChart._contains(this._rectChart,f)){if(c=this._areas.length,u=f.clone(),this._rotationAngle!=0){var o=-this._center.x+u.x,s=-this._center.y+u.y,l=Math.sqrt(o*o+s*s),a=Math.atan2(s,o)-this._rotationAngle*Math.PI/180;u.x=this._center.x+l*Math.cos(a);u.y=this._center.y+l*Math.sin(a)}for(e=0;e<c;e++)if(h=this._areas[e],e==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y),h.contains(u)){r._pointIndex=h.tag;r._dist=0;break}r._chartElement=3}else r._chartElement=9;return r},e.prototype._performBind=function(){var r,e,u,i,t,f;if(this._sum=0,this._values=[],this._labels=[],this._cv&&(this._selectionIndex=this._cv.currentPosition,r=this._cv.items,r))for(e=r.length,u=0;u<e;u++)i=r[u],this.binding&&(i=i[this.binding]),t=0,n.isNumber(i)&&!isNaN(t)&&isFinite(t)?t=n.asNumber(i):i&&(t=parseFloat(i.toString())),!isNaN(t)&&isFinite(t)?(this._sum+=t,this._values.push(t)):(t=0,this._values.push(t)),this.bindingName&&r[u]?(f=r[u][this.bindingName],f&&(f=f.toString()),this._labels.push(f)):this._labels.push(t.toString())},e.prototype._render=function(i){var l,h,f,s,r,u;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var a=this.hostElement,c=this._getHostSize(),e=c.width,o=c.height;(e==0||isNaN(e))&&(e=t.FlexChart._WIDTH);(o==0||isNaN(o))&&(o=t.FlexChart._HEIGHT);l=new n.Size(e,o);i.beginRender();i.setViewportSize(e,o);this._areas=[];h=this.legend;r=new n.Rect(0,0,e,o);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();e=r.width;o=r.height;f=h._getDesiredSize(i);switch(h.position){case 3:e-=f.width;s=new n.Point(e,r.top+.5*(o-f.height));break;case 1:r.left+=f.width;e-=f.width;s=new n.Point(0,r.top+.5*(o-f.height));break;case 2:o-=f.height;s=new n.Point(.5*(e-f.width),r.top);r.top+=f.height;break;case 4:o-=f.height;s=new n.Point(.5*(e-f.width),r.top+o)}r.width=e;r.height=o;this.onRendering(i);this._pieGroup=i.startGroup(null,null,!0);u=this._parseMargin(this.plotMargin);u.left||(u.left=4);u.right||(u.right=4);u.top||(u.top=4);u.bottom||(u.bottom=4);r.top+=u.top;r.height-=u.top+u.bottom;r.left+=u.left;r.width-=u.left+u.right;this._renderData(i,r,this._pieGroup);i.endGroup();f?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(s.x,s.y,f.width,f.height),this.legend._render(i,s),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.onRendered(i);i.endRender()},e.prototype._renderData=function(i,r){var rt=this,k,d,nt,u,h,c,g,v;this._pels=[];this._angles=[];var ut=this._values.length,y=this._sum,ft=this.startAngle+180,a=this.reversed==!0,et=this.innerRadius,s=this.offset,p=null;if(y>0){var o=ft*Math.PI/180,w=r.left+.5*r.width,b=r.top+.5*r.height,f=Math.min(.5*r.width,.5*r.height);for(this._center.x=w,this._center.y=b,k=Math.max(s,this.selectedItemOffset),k>0&&(f=f/(1+k),s=s*f),this._radius=f,d=et*f,nt=0,u=0;u<ut;u++){h=w;c=b;i.fill=this._getColorLight(u);i.stroke=this._getColor(u);var tt=this._values[u],e=Math.abs(tt-y)<1e-10?2*Math.PI:2*Math.PI*tt/y,ot=i.startGroup(),it=s,l=a?o-.5*e:o+.5*e;u==this._cv.currentPosition&&(nt=l);this._angles.push(l);p&&u<p.length&&(it=p[u]);it>0&&(g=o+.5*e,a&&(g=-g),h+=s*Math.cos(l),c+=s*Math.sin(l));e>=2*Math.PI&&(h=w,c=b);this.itemFormatter?(v=new t.HitTestInfo(this,new n.Point(h+f*Math.cos(l),c+f*Math.sin(l))),v._chartElement=8,v._pointIndex=u,this.itemFormatter(i,v,function(){rt._drawSilce(i,u,a,h,c,f,d,o,e)})):this._drawSilce(i,u,a,h,c,f,d,o,e);a?o-=e:o+=e;i.endGroup();this._pels.push(ot)}this._highlightCurrent()}},e.prototype._drawSilce=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getTooltipContent=function(t){var i=this._tooltip.content;return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,t){if(typeof t=="undefined"&&(t=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this._highlight(!0,this._selectionIndex,t),this.selectionMode==2){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}},e.prototype._highlightCurrent=function(){if(this.selectionMode!=0){var n=-1,t=this._cv;t&&(n=t.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;typeof r=="undefined"&&(r=!1);this.selectionMode==2&&i!==undefined&&i!==null&&(u=this._pels[i],n?(u.parentNode.appendChild(u),h=this._find(u,["ellipse"]),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),f=this._angles[i],this.selectedItemPosition!=0&&f!=0&&(e=0,this.selectedItemPosition==1?e=180:this.selectedItemPosition==2?e=-90:this.selectedItemPosition==4&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u.setAttribute("transform","translate("+c.toFixed()+","+l.toFixed()+")")),this._selectedIndex=i):(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute("transform"),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(t,r){var f=i.clampAngle(this._rotationAngle);t=i.clampAngle(t);var e=t-f,u=this,o=f,s=u._pieGroup;u._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){s==u._pieGroup&&(u._rotationAngle=f=o+e*n,u._pieGroup.transform.baseVal.getItem(0).setRotate(f,u._center.x,u._center.y),n==1&&clearInterval(u._selectionAnimationID))},r*1e3)},e}(t.FlexChartBase);t.FlexPie=f;var i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}(),r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle-u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},n}(),u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},n}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var h,c,p,f;(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea"})(t.ChartType||(t.ChartType={}));h=t.ChartType,function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"}(t.Stacking||(t.Stacking={}));c=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));p=t.SelectionMode;f=function(r){function u(f,e){var o,s,h;r.call(this,f,null,!0);this._series=new n.collections.ObservableArray;this._axes=new t.AxisCollection;this._axisX=new t.Axis(4);this._axisY=new t.Axis(1);this._chartType=0;this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new i;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this._rotated=!1;this._stacking=0;this._xlabels=[];this._xvals=[];this._hitTester=new g;this.selectionChanged=new n.Event;this.seriesVisibilityChanged=new n.Event;this.applyTemplate("wj-control wj-flexchart",null,null);o=this;o._series.collectionChanged.addHandler(function(){for(var t,r=o._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.Series),!t)throw"chartSeries array must contain Series objects.";t._chart=o;t.axisX&&(t.axiX._chart=o);t.axisY&&(t.axisY._chart=o)}o.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new y;this._tooltip.showDelay=0;s=this._axisX;h=this._axisY;this._axisX.majorGrid=!1;this._axisX.name="axisX";this._axisY.majorGrid=!0;this._axisY.majorTickMarks=0;this._axisY.name="axisY";s._chart=this;h._chart=this;this._axes.push(s);this._axes.push(h);o._axes.collectionChanged.addHandler(function(){for(var i,r=o._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw"axes array must contain Axis objects.";i._chart=o}o.refresh()});this._keywords=new t._KeyWords;n.isTouchDevice()?this.hostElement.addEventListener("click",function(t){var r=o._tooltip,f=r.content,i,u;f&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getTooltipContent(i),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())}):this.hostElement.addEventListener("mousemove",function(t){var r=o._tooltip,f=r.content,i,u;f&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getTooltipContent(i),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())});this.hostElement.addEventListener("click",function(n){if(o.selectionMode!=0){var t=o._hitTestData(n),i=u._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(i=o.tooltip.threshold);t.distance<=i&&t.series?o._select(t.series,t.pointIndex):o.selectionMode==1?(t=o.hitTest(n),t.chartElement==4&&t.series?o._select(t.series,null):o._select(null,null)):o._select(null,null)}o.legendToggle===!0&&(t=o.hitTest(n),t.chartElement==4&&t.series&&(t.series.visibility==2?t.series.visibility=0:t.series.visibility==0&&(t.series.visibility=2)))});e&&this.initialize(e)}return __extends(u,r),Object.defineProperty(u.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,h),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"axisX",{get:function(){return this._axisX},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"axisY",{get:function(){return this._axisY},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(t){t!=this._stacking&&(this._stacking=n.asEnum(t,c),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selection},set:function(n){n!=this._selection&&(this._selection=n,this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},u.prototype.hitTest=function(n,i){var r=this._toControl(n,i),f=new t.HitTestInfo(this,r),e=null,o;return u._contains(this._rectHeader,r)?f._chartElement=5:u._contains(this._rectFooter,r)?f._chartElement=6:u._contains(this._rectLegend,r)?(f._chartElement=4,e=this.legend._hitTest(r),e!==null&&e>=0&&e<this.series.length&&(f._series=this.series[e])):u._contains(this._rectChart,r)?(o=this._hitTester.hitTest(r),o&&o.area?(f._pointIndex=o.area.tag.pointIndex,e=o.area.tag.seriesIndex,e!==null&&e>=0&&e<this.series.length&&(f._series=this.series[e]),f._dist=o.distance,f._chartElement=u._contains(this._plotRect,r)?0:u._contains(this.axisX._axrect,r)?1:u._contains(this.axisY._axrect,r)?2:3):u._contains(this._plotRect,r)?f._chartElement=0:u._contains(this._rectChart,r)&&(f._chartElement=3)):f._chartElement=9,f},u.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},u.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},u.prototype._copy=function(i,r){var f,u,e;if(i=="series"){for(f=n.asArray(r),u=0;u<f.length;u++)e=new t.Series,n.copy(e,f[u]),this.series.push(e);return!0}return!1},u.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},u.prototype._performBind=function(){var i,f,r,e,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(f=i.length,r=0;r<f;r++)e=i[r],this._bindingX&&(t=e[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=2):n.isDate(t)&&(this._xvals.push(u._toOADate(n.asDate(t))),this._xDataType=4),this._xlabels.push(e[this._bindingX]));this._xvals.length==f?this._xlabels.splice(0):this._xvals.splice(0)}},u.prototype._hitTestSeries=function(n,i){var e=this._toControl(n),r=new t.HitTestInfo(this,e),u=i,f=this._hitTester.hitTestSeries(e,i);return f&&f.area&&(r._pointIndex=f.area.tag.pointIndex,u=f.area.tag.seriesIndex,u!==null&&u>=0&&u<this.series.length&&(r._series=this.series[u]),r._chartElement=0,r._dist=f.distance),r},u.prototype._hitTestData=function(n){var f=this._toControl(n),u=new t.HitTestInfo(this,f),i=this._hitTester.hitTest(f,!0),r;return i&&i.area&&(u._pointIndex=i.area.tag.pointIndex,r=i.area.tag.seriesIndex,r!==null&&r>=0&&r<this.series.length&&(u._series=this.series[r]),u._dist=i.distance),u},u._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},u._dist=function(n,t,i){return Math.sqrt(u._distToSegmentSquared(n,t,i))},u._distToSegmentSquared=function(t,i,r){var e=u._dist2(i,r),f;return e==0?u._dist2(t,i):(f=((t.x-i.x)*(r.x-i.x)+(t.y-i.y)*(r.y-i.y))/e,f<0)?u._dist2(t,i):f>1?u._dist2(t,r):u._dist2(t,new n.Point(i.x+f*(r.x-i.x),i.y+f*(r.y-i.y)))},u.prototype._isRotated=function(){return this._chartType==1?!this._rotated:this._rotated},u.prototype._render=function(t){var st=this.hostElement,ft=this._getHostSize(),f=ft.width,e=ft.height,et,tt,r,l,i,w,c,b,k,d,a,it,v,rt,g,ut,h,s,o,p;(f==0||isNaN(f))&&(f=u._WIDTH);(e==0||isNaN(e))&&(e=u._HEIGHT);et=new n.Size(f,e);t.beginRender();t.setViewportSize(f,e);this._hitTester.clear();tt=this.legend;i=new n.Rect(0,0,f,e);this._rectChart=i.clone();t.startGroup(u._CSS_HEADER);i=this._drawTitle(t,i,this.header,this.headerStyle,!1);t.endGroup();t.startGroup(u._CSS_FOOTER);i=this._drawTitle(t,i,this.footer,this.footerStyle,!0);t.endGroup();f=i.width;e=i.height;r=tt._getDesiredSize(t);switch(tt.position){case 3:f-=r.width;l=new n.Point(f,i.top+.5*(e-r.height));break;case 1:i.left+=r.width;f-=r.width;l=new n.Point(0,i.top+.5*(e-r.height));break;case 2:e-=r.height;l=new n.Point(.5*(f-r.width),i.top);i.top+=r.height;break;case 4:e-=r.height;l=new n.Point(.5*(f-r.width),i.top+e)}for(i.width=f,i.height=e,o=this._getPlotter(null),o.stacking=this._stacking,w=this._isRotated(),this._dataInfo.analyse(this._series,w,o.stacking,this._xvals.length>0?this._xvals:null),c=o.adjustLimits(this._dataInfo,i.clone()),w?(b=this._dataInfo.getDataTypeX(),b||(b=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),c.left,c.right),this.axisY._updateActualLimits(b,c.top,c.bottom,this._xlabels,this._xvals)):(k=this._dataInfo.getDataTypeX(),k||(k=this._xDataType),this.axisX._updateActualLimits(k,c.left,c.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),c.top,c.bottom)),d=this._getAxes(),this._updateAuxAxes(d,w),this._layout(i,et,t),t.startGroup(u._CSS_PLOT_AREA),a=this._plotRect,t.fill="transparent",t.stroke=null,t.drawRect(a.left,a.top,a.width,a.height),t.endGroup(),it=this._series.length,this._clearPlotters(),v={},h=0;h<it;h++)s=this._series[h],rt=s._getAxisY(),rt&&(g=rt._uniqueId,v[g]?v[g].count+=1:v[g]={count:1,index:0}),o=this._getPlotter(s),o.seriesCount++;this.onRendering(t);for(h=0;h<d.length;h++)ut=d[h],ut.axisType==0?t.startGroup(u._CSS_AXIS_X):t.startGroup(u._CSS_AXIS_Y),ut._render(t),t.endGroup();for(t.startGroup(),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),t.addClipRect(this._plotRect,this._plotrectId),h=0;h<it;h++){s=this._series[h];s._pointIndexes=[];o=this._getPlotter(s);s._hostElement=t.startGroup(s.cssClass,o.clipping?this._plotrectId:null);var ot=s.visibility,nt=s.axisX,y=s.axisY;nt||(nt=this.axisX);y||(y=this.axisY);(ot==0||ot==1)&&(p=v[y._uniqueId],p?(o.plotSeries(t,nt,y,s,this,p.index,p.count),p.index++):(o.plotSeries(t,nt,y,s,this,o.seriesIndex,o.seriesCount),o.seriesIndex++));t.endGroup()}t.endGroup();r?(this._legendHost=t.startGroup(u._CSS_LEGEND),this._rectLegend=new n.Rect(l.x,l.y,r.width,r.height),this.legend._render(t,l),t.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(t);t.endRender()},u.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},u.prototype._clearPlotters=function(){this._areaPlotter.clear();this._barPlotter.clear();this._linePlotter.clear()},u.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester},Object.defineProperty(u.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new w,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new l,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new b,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new k,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new d,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),u.prototype._getPlotter=function(n){var i=this.chartType,r=!1,t;n&&n.chartType&&n.chartType!=i&&(i=n.chartType,r=!0);switch(i){case 0:t=this._barPlotter;break;case 1:this._barPlotter.rotated=!this._rotated;t=this._barPlotter;break;case 3:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 2:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 4:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 5:this._areaPlotter.isSpline=!1;t=this._areaPlotter;break;case 6:t=this._bubblePlotter;break;case 7:this._financePlotter.isCandle=!0;t=this._financePlotter;break;case 8:this._financePlotter.isCandle=!1;t=this._financePlotter;break;case 9:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 10:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 11:this._areaPlotter.isSpline=!0;t=this._areaPlotter;break;default:throw"Invalid chart type.";}return t.rotated=this._rotated,i==1&&(t.rotated=!t.rotated),r&&(t.rotated=this._isRotated()),t},u.prototype._layout=function(t,i,r){for(var f,k,l,u,d,nt,e=t.width,o=t.height,tt=new n.Size(e,.75*o),it=new n.Size(o,.75*e),s=0,h=0,p=e,w=o,a=0,c=0,v=e,y=o,g=this._getAxes(),b=0;b<g.length;b++)u=g[b],u.axisType==0?(f=u._getHeight(r),f>tt.height&&(f=tt.height),u._desiredSize=new n.Size(tt.width,f),k=!1,u.position==4?(s=Math.max(s,u._annoSize.width*.5),p=Math.min(p,e-u._annoSize.width*.5),k||(y=y-f)):u.position==2&&(s=Math.max(s,u._annoSize.width*.5),p=Math.min(p,e-u._annoSize.width*.5),k||(c=c+f))):u.axisType==1&&(f=u._getHeight(r),f>it.height&&(f=it.height),u._desiredSize=new n.Size(it.width,f),k=!1,u.position==1?(h=Math.max(h,u._annoSize.width*.5),w=Math.min(w,o-u._annoSize.width*.5),k||(a+=f)):u.position==3&&(h=Math.max(h,u._annoSize.width*.5),w=Math.min(w,o-u._annoSize.width*.5),k||(v=v-f)));for(l=this._parseMargin(this.plotMargin),s=l.left?a=l.left:a=Math.max(s,a)+t.left,p=l.right?v=i.width-l.right:v=Math.min(p,v)+t.left,h=l.top?c=l.top:c=Math.max(h,c)+t.top,w=l.bottom?y=i.height-l.bottom:y=Math.min(w,y)+t.top,e=Math.max(1,p-s),o=Math.max(1,w-h),this._plotRect=new n.Rect(s,h,e,o),r.stroke=null,b=0;b<g.length;b++)u=g[b],u.axisType==0?(u.position==4?(d=new n.Rect(s,y,e,u._desiredSize.height),y+=u._desiredSize.height):u.position==2?(d=new n.Rect(s,c-u._desiredSize.height,e,u._desiredSize.height),c-=u._desiredSize.height):d=new n.Rect(s,c,e,1),u._layout(d,this._plotRect)):u.axisType==1&&(u.position==1?(nt=new n.Rect(a-u._desiredSize.height,h,o,u._desiredSize.height),a-=u._desiredSize.height):u.position==3?(nt=new n.Rect(v,h,o,u._desiredSize.height),v+=u._desiredSize.height):nt=new n.Rect(a,h,o,1),u._layout(nt,this._plotRect))},u.prototype._getTooltipContent=function(t){var i=this._tooltip.content;return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},u.prototype._select=function(n,t){if(this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=n,this._selectionIndex=t,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==2&&n){var i=n.collectionView;i||(i=this._cv);i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}this.onSelectionChanged()},u.prototype._highlightCurrent=function(){var t,i,n;this.selectionMode!=0&&(t=this._selection,i=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(i=n.currentPosition),this._highlight(t,!0,i)))},u.prototype._highlight=function(i,r,f){var o,e,s;i=n.asType(i,t.Series,!0);this.selectionMode==1?(o=this.series.indexOf(i),e=i.hostElement,r?e.parentNode.appendChild(e):e.parentNode.insertBefore(e,e.parentNode.childNodes.item(o)),this._highlightItems(this._find(e,["rect","ellipse","polyline","polygon","line"]),u._CSS_SELECTION,r),i.legendElement&&this._highlightItems(this._find(i.legendElement,["rect","ellipse","line"]),u._CSS_SELECTION,r)):this.selectionMode==2&&(o=this.series.indexOf(i),e=i.hostElement,r?(e.parentNode.appendChild(e),s=i.getPlotElement(f),s&&(this._highlightItems([s],u._CSS_SELECTION,r),this._highlightItems(this._find(s,["line","rect"]),u._CSS_SELECTION,r))):(e.parentNode.insertBefore(e,e.parentNode.childNodes.item(o)),this._highlightItems(this._find(e,["rect","ellipse","line"]),u._CSS_SELECTION,r)))},u.prototype._updateAuxAxes=function(n,t){for(var e,s,h,u,f,r,i,o=2;o<n.length;o++){for(e=n[o],e._chart=this,s=[],r=0;r<this.series.length;r++)h=this.series[r],(h.axisX==e||h.axisY==e)&&s.push(h);for(r=0;r<s.length;r++)i=s[r]._getDataRect(),i&&(e.axisType==0&&!t||e.axisType==1&&t?((u===undefined||i.left<u)&&(u=i.left),(f===undefined||i.right>f)&&(f=i.right)):((u===undefined||i.top<u)&&(u=i.top),(f===undefined||i.bottom>f)&&(f=i.bottom)));n[o]._updateActualLimits(2,u,f)}},u._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},u._toOADate=function(n){return(n.getTime()-u._epoch)/u._msPerDay},u._fromOADate=function(n){var t=n-Math.floor(n);return n<0&&t&&(n=Math.floor(n)-t),new Date(n*u._msPerDay+u._epoch)},u._renderText=function(t,i,r,u,f,e,o){var s=t.measureString(i,e,o),h=r.x,c=r.y;switch(u){case 1:h-=.5*s.width;break;case 2:h-=s.width}switch(f){case 1:c+=.5*s.height;break;case 0:c+=s.height}t.drawString(i,new n.Point(h,c),e)},u._renderRotatedText=function(t,i,r,u,f,e,o,s){var h=t.measureString(i,s),c=r.x,l=r.y;switch(u){case 1:c-=.5*h.width;break;case 2:c-=h.width}switch(f){case 1:l+=.5*h.height;break;case 0:l+=h.height}t.drawStringRotated(i,new n.Point(c,l),e,o,s)},u._CSS_AXIS_X="wj-axis-x",u._CSS_AXIS_Y="wj-axis-y",u._CSS_LINE="wj-line",u._CSS_GRIDLINE="wj-gridline",u._CSS_TICK="wj-tick",u._CSS_LABEL="wj-label",u._CSS_LEGEND="wj-legend",u._CSS_HEADER="wj-header",u._CSS_FOOTER="wj-footer",u._CSS_TITLE="wj-title",u._CSS_SELECTION="wj-state-selected",u._CSS_PLOT_AREA="wj-plot-area",u._epoch=new Date(1899,11,30).getTime(),u._msPerDay=864e5,u}(t.FlexChartBase);t.FlexChart=f;var i=function(){function t(){this.stackAbs={};this._xvals=null}return t.prototype.analyse=function(i,r,u,f){var nt,a,s,g,l,v,h,e,o,c,b,k,d;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;var y={},p={},w={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=f,f!=null)for(nt=f.length,a=0;a<nt;a++)o=f[a],(isNaN(this.minX)||this.minX>o)&&(this.minX=o),(isNaN(this.maxX)||this.maxX<o)&&(this.maxX=o);for(a=0;a<i.length;a++)if(s=i[a],g=s.visibility,g!=3&&g!=2){if(l=null,r?s._isCustomAxisY()||(l=s.getValues(1)):s._isCustomAxisX()||(l=s.getValues(1)),l)for(this.dataTypeX||(this.dataTypeX=s.getDataType(1)),h=0;h<l.length;h++)e=l[h],t.isValid(e)&&((isNaN(this.minX)||this.minX>e)&&(this.minX=e),(isNaN(this.maxX)||this.maxX<e)&&(this.maxX=e));if(v=null,r?s._isCustomAxisX()||(v=s.getValues(0)):s._isCustomAxisY()||(v=s.getValues(0)),v)for(this.dataTypeY||(this.dataTypeY=s.getDataType(0)),isNaN(this.minX)&&(this.minX=0),isNaN(this.maxX)?this.maxX=v.length-1:l||(this.maxX=Math.max(this.maxX,v.length-1)),h=0;h<v.length;h++)e=v[h],o=l?n.asNumber(l[h],!0):f?n.asNumber(f[h],!0):h,t.isValid(e)&&((isNaN(this.minY)||this.minY>e)&&(this.minY=e),(isNaN(this.maxY)||this.maxY<e)&&(this.maxY=e),e>0?isNaN(y[o])?y[o]=e:y[o]+=e:isNaN(p[o])?p[o]=e:p[o]+=e,isNaN(w[o])?w[o]=Math.abs(e):w[o]+=Math.abs(e))}if(u==1){for(c in y)y[c]>this.maxY&&(this.maxY=y[c]);for(c in p)p[c]<this.minY&&(this.minY=p[c])}else if(u==2){this.minY=0;this.maxY=1;for(c in w)b=w[c],isFinite(b)&&b!=0&&(k=y[c],d=p[c],isFinite(k)&&(k=Math.min(k/b,this.maxY)),isFinite(d)&&(d=Math.max(d/b,this.minY)))}this.stackAbs=w},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(n){return isFinite(n)},t}(),o=function(){function t(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return t.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},t.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},t.prototype.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},t.prototype.isValid=function(t,r){return i.isValid(t)&&i.isValid(r)&&f._contains(this.chart._plotRect,new n.Point(t,r))},t}(),w=function(u){function f(){u.apply(this,arguments);this.origin=0;this.width=.7;this.stackPosMap={};this.stackNegMap={};this.stacking=0}return __extends(f,u),f.prototype.adjustLimits=function(t){this.dataInfo=t;var u=t.getMinX(),i=t.getMinY(),f=t.getMaxX(),r=t.getMaxY();return this.rotated?(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin),new n.Rect(i,u-.5,r-i,f-u+1)):(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin),new n.Rect(u-.5,i,f-u+1,r-i))},f.prototype.plotSeries=function(t,u,f,o,s,h,c){var tt=this.chart.series.indexOf(o),ei=o,ri=this.chart.options,d=this.width,k=0,vt,st,b,yt,pt,bt,nt,ut,ti,lt,v,a,y,et,rt,ft,it,ni,p,l,at,w,ii,g;ri&&ri.groupWidth&&(vt=ri.groupWidth,n.isNumber(vt)?(b=n.asNumber(vt),isFinite(b)&&b>0&&(k=b,d=1)):n.isString(vt)&&(st=n.asString(vt),st&&st.indexOf("%")>=0?(st=st.replace("%",""),b=parseFloat(st),isFinite(b)&&(b<0?b=0:b>100&&(b=100),k=0,d=b/100)):(b=parseFloat(st),isFinite(b)&&b>0&&(k=b,d=1))));yt=d/c;pt=ei._getAxisY()._uniqueId;h==0&&(this.stackNegMap[pt]={},this.stackPosMap[pt]={});var ht=this.stackNegMap[pt],ct=this.stackPosMap[pt],kt=o.getValues(0),ot=o.getValues(1);if(kt){ot||(ot=this.dataInfo.getXVals());var wt=o.style,dt=null,gt=null;if(wt&&(wt.fill&&(dt=wt.fill),wt.stroke&&(gt=wt.stroke)),dt||(dt=s._getColorLight(tt)),gt||(gt=s._getColor(tt)),t.fill=dt,t.stroke=gt,bt=kt.length,ot!=null&&(bt=Math.min(bt,ot.length)),nt=this.origin,ut=0,this.rotated){for(nt<u.actualMin?nt=u.actualMin:nt>u.actualMax&&(nt=u.actualMax),lt=u.convert(nt),v=0;v<bt;v++)if(a=ot?ot[v]:v,y=kt[v],i.isValid(a)&&i.isValid(y))if(this.stacking!=0)et=f.convert(a-.5*d),rt=f.convert(a+.5*d),this.stacking==2&&(ni=this.dataInfo.getStackedAbsSum(a),y=y/ni),p=0,y>0?(p=isNaN(ct[a])?0:ct[a],ft=u.convert(p),it=u.convert(p+y),ct[a]=p+y):(p=isNaN(ht[a])?0:ht[a],ft=u.convert(p),it=u.convert(p+y),ht[a]=p+y),l=new n.Rect(Math.min(ft,it),Math.min(et,rt),Math.abs(it-ft),Math.abs(rt-et)),k>0&&(w=1-k/l.height,w<0&&(w=0),ii=l.top+.5*l.height,l.top+=(ii-l.top)*w,l.height=Math.min(k,l.height)),g=new e(l),this.drawSymbol(t,l,o,v,new n.Point(it,l.top+.5*l.height)),o._setPointIndex(v,ut),ut++,g.tag=new r(tt,v,p+y,a),this.hitTester.add(g,tt);else{var et=f.convert(a-.5*d+h*yt),rt=f.convert(a-.5*d+(h+1)*yt),fi=u.convert(y),l=new n.Rect(Math.min(fi,lt),Math.min(et,rt),Math.abs(lt-fi),Math.abs(rt-et));k>0&&(at=k/c,w=1-at/l.height,w<0&&(w=0),ii=f.convert(a),l.top+=(ii-l.top)*w,l.height=Math.min(at,l.height));g=new e(l);this.drawSymbol(t,l,o,v,new n.Point(fi,l.top+.5*l.height));o._setPointIndex(v,ut);ut++;g.tag=new r(tt,v,y,a);this.hitTester.add(g,tt)}}else for(nt<f.actualMin?nt=f.actualMin:nt>f.actualMax&&(nt=f.actualMax),lt=f.convert(nt),v=0;v<bt;v++)if(a=ot?ot[v]:v,y=kt[v],i.isValid(a)&&i.isValid(y))if(this.stacking==0||ei._isCustomAxisY()){var ft=u.convert(a-.5*d+h*yt),it=u.convert(a-.5*d+(h+1)*yt),ui=f.convert(y),l=new n.Rect(Math.min(ft,it),Math.min(ui,lt),Math.abs(it-ft),Math.abs(lt-ui));k>0&&(at=k/c,w=1-at/l.width,w<0&&(w=0),ti=u.convert(a),l.left+=(ti-l.left)*w,l.width=Math.min(at,l.width));g=new e(l);this.drawSymbol(t,l,o,v,new n.Point(l.left+.5*l.width,ui));o._setPointIndex(v,ut);ut++;g.tag=new r(tt,v,a,y);this.hitTester.add(g,tt)}else ft=u.convert(a-.5*d),it=u.convert(a+.5*d),this.stacking==2&&(ni=this.dataInfo.getStackedAbsSum(a),y=y/ni),p=0,y>0?(p=isNaN(ct[a])?0:ct[a],et=f.convert(p),rt=f.convert(p+y),ct[a]=p+y):(p=isNaN(ht[a])?0:ht[a],et=f.convert(p),rt=f.convert(p+y),ht[a]=p+y),l=new n.Rect(Math.min(ft,it),Math.min(et,rt),Math.abs(it-ft),Math.abs(rt-et)),k>0&&(w=1-k/l.width,w<0&&(w=0),ti=l.left+.5*l.width,l.left+=(ti-l.left)*w,l.width=Math.min(k,l.width)),g=new e(l),this.drawSymbol(t,l,o,v,new n.Point(l.left+.5*l.width,rt)),o._setPointIndex(v,ut),ut++,g.tag=new r(tt,v,a,p+y),this.hitTester.add(g,tt)}},f.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f),e._chartElement=8,e._pointIndex=u,e._series=r,this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},f.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},f}(o),l=function(f){function e(){f.call(this);this.hasSymbols=!1;this.hasLines=!0;this.isSpline=!1;this.stacking=0;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(e,f),e.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},e.prototype.plotSeries=function(f,e,o,h,c,l){var it=n.asType(h,t.Series),w=this.chart.series.indexOf(h),rt,b,yt,ft,ht,pt,ct,tt,p,d,a,v,y;if(l==0&&(this.stackNeg={},this.stackPos={}),rt=h.getValues(0),b=h.getValues(1),rt){b||(b=this.dataInfo.getXVals());var et=this.cloneStyle(h.style,["fill"]),g=rt.length,lt=!0;b?g=Math.min(g,b.length):(lt=!1,b=new Array(g));var wt=this._DEFAULT_WIDTH,ut=null,ot=null,st=it._getSymbolSize();ut===null&&(ut=c._getColorLight(w));ot===null&&(ot=c._getColor(w));f.stroke=ot;f.strokeWidth=wt;f.fill=ut;var k=[],nt=[],bt=this.rotated,kt=this.stacking!=0&&!it._isCustomAxisY(),dt=this.stacking==2&&!it._isCustomAxisY(),at=this.chart.interpolateNulls,vt=!1;for(a=0;a<g;a++)v=lt?b[a]:a,y=rt[a],i.isValid(v)&&i.isValid(y)?(kt&&(dt&&(yt=this.dataInfo.getStackedAbsSum(v),y=y/yt),y>=0?(ft=isNaN(this.stackPos[v])?0:this.stackPos[v],y=this.stackPos[v]=ft+y):(ft=isNaN(this.stackNeg[v])?0:this.stackNeg[v],y=this.stackNeg[v]=ft+y)),bt?(ht=new r(w,a,y,v),pt=e.convert(y),y=o.convert(v),v=pt):(ht=new r(w,a,v,y),v=e.convert(v),y=o.convert(y)),k.push(v),nt.push(y),ct=new s(new n.Point(v,y),.5*st),ct.tag=ht,this.hitTester.add(ct,w)):(vt=!0,at!==!0&&(k.push(undefined),nt.push(undefined)));if(tt=0,this.hasLines)if(f.fill=null,vt&&at!==!0){for(p=[],d=[],a=0;a<g;a++)k[a]===undefined?(p.length>1&&(this._drawLines(f,p,d,null,et,this.chart._plotrectId),this.hitTester.add(new u(p,d),w),tt++),p=[],d=[]):(p.push(k[a]),d.push(nt[a]));p.length>1&&(this._drawLines(f,p,d,null,et,this.chart._plotrectId),this.hitTester.add(new u(p,d),w),tt++)}else this._drawLines(f,k,nt,null,et,this.chart._plotrectId),this.hitTester.add(new u(k,nt),w),tt++;if((this.hasSymbols||this.chart.itemFormatter)&&st>0)for(f.fill=ut,a=0;a<g;a++)v=k[a],y=nt[a],this.isValid(v,y,e,o)&&(this._drawSymbol(f,v,y,st,it,a),h._setPointIndex(a,tt),tt++)}},e.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},e.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u)),s._chartElement=8,s._pointIndex=o,s._series=e,this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},e.prototype._drawDefaultSymbol=function(n,t,i,r,u,f){u==0?n.drawEllipse(t,i,.5*r,.5*r,null,f):u==1&&n.drawRect(t-.5*r,i-.5*r,r,r,null,f)},e}(o),b=function(e){function o(){e.call(this);this.stacking=0;this.isSpline=!1;this.stackPos={};this.stackNeg={}}return __extends(o,e),o.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},o.prototype.plotSeries=function(t,e,o,h,c,l){var g=this.chart.series.indexOf(h),gt=h,at,it,ut,vt,p,b,nt,ri,d,rt,st,y,k,w,tt,dt;if(l==0&&(this.stackNeg={},this.stackPos={}),at=h.getValues(0),it=h.getValues(1),at){ut=at.length;it||(it=this.dataInfo.getXVals());vt=!0;it?it.length<ut&&(ut=it.length):(vt=!1,it=new Array(ut));var a=[],v=[],ft=[],et=[],ht=this.stacking!=0&&!gt._isCustomAxisY(),ui=this.stacking==2&&!gt._isCustomAxisY(),ot=this.rotated,ni=!1,ti=this.chart.interpolateNulls,ct=null,lt=null,ii=this.chart._plotRect;for(w=0;w<ut;w++)p=vt?it[w]:w,b=at[w],(ct===null||p>ct)&&(ct=p),(lt===null||p<lt)&&(lt=p),i.isValid(p)&&i.isValid(b)?(nt=ot?o.convert(p):e.convert(p),ht&&(ui&&(ri=this.dataInfo.getStackedAbsSum(p),b=b/ri),d=0,b>=0?(d=isNaN(this.stackPos[p])?0:this.stackPos[p],b=this.stackPos[p]=d+b):(d=isNaN(this.stackNeg[p])?0:this.stackNeg[p],b=this.stackNeg[p]=d+b),ot?(d<e.actualMin&&(d=e.actualMin),ft.push(e.convert(d)),et.push(nt)):(ft.push(nt),d<o.actualMin&&(d=o.actualMin),et.push(o.convert(d)))),ot?(rt=e.convert(b),a.push(rt),v.push(nt),f._contains(ii,new n.Point(rt,nt))&&(st=new s(new n.Point(rt,nt),this._DEFAULT_SYM_SIZE),st.tag=new r(g,w,b,p),this.hitTester.add(st,g))):(rt=o.convert(b),a.push(nt),v.push(rt),f._contains(ii,new n.Point(nt,rt))&&(st=new s(new n.Point(nt,rt),this._DEFAULT_SYM_SIZE),st.tag=new r(g,w,p,b),this.hitTester.add(st,g)))):(ni=!0,ht||ti===!0||(a.push(undefined),v.push(undefined)));var yt=this._DEFAULT_WIDTH,pt=c._getColorLight(g),wt=c._getColor(g),bt=this.cloneStyle(h.style,["fill"]),kt=this.cloneStyle(h.style,["stroke"]);if(!ht&&ti!==!0&&ni){for(y=[],k=[],w=0;w<ut;w++)a[w]===undefined?(y.length>1&&(this.isSpline&&(tt=this._convertToSpline(a,v),a=tt.xs,v=tt.ys),t.stroke=wt,t.strokeWidth=yt,t.fill="none",t.drawLines(y,k,null,bt),this.hitTester.add(new u(y,k),g),ot?(y.push(e.convert(e.actualMin),e.convert(e.actualMin)),k.push(o.convert(o.actualMax),o.convert(o.actualMin))):(y.push(y[y.length-1],y[0]),k.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=pt,t.stroke="none",t.drawPolygon(y,k,null,kt)),y=[],k=[]):(y.push(a[w]),k.push(v[w]));y.length>1&&(this.isSpline&&(tt=this._convertToSpline(a,v),a=tt.xs,v=tt.ys),t.stroke=wt,t.strokeWidth=yt,t.fill="none",t.drawLines(y,k,null,bt),this.hitTester.add(new u(y,k),g),ot?(y.push(e.convert(e.actualMin),e.convert(e.actualMin)),k.push(o.convert(o.actualMax),o.convert(o.actualMin))):(y.push(y[y.length-1],y[0]),k.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=pt,t.stroke="none",t.drawPolygon(y,k,null,kt))}else this.isSpline&&(tt=this._convertToSpline(a,v),a=tt.xs,v=tt.ys),ht?(this.isSpline&&(dt=this._convertToSpline(ft,et),ft=dt.xs,et=dt.ys),a=a.concat(ft.reverse()),v=v.concat(et.reverse())):ot?(a.push(e.convert(e.actualMin),e.convert(e.actualMin)),v.push(o.convert(ct),o.convert(lt))):(a.push(e.convert(ct),e.convert(lt)),v.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=pt,t.stroke="none",t.drawPolygon(a,v,null,kt),ht?(a=a.slice(0,a.length-ft.length),v=v.slice(0,v.length-et.length)):(a=a.slice(0,a.length-2),v=v.slice(0,v.length-2)),t.stroke=wt,t.strokeWidth=yt,t.fill="none",t.drawLines(a,v,null,bt),this.hitTester.add(new u(a,v),g);this._drawSymbols(t,h,g)}},o.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},o.prototype._drawSymbols=function(i,r,u){var h,e,o,c,f;if(this.chart.itemFormatter!=null)for(h=this.hitTester._map[u],e=0;e<h.length;e++)o=n.tryCast(h[e],s),o&&(c=o.tag,i.startGroup(),f=new t.HitTestInfo(this.chart,o.center),f._chartElement=8,f._pointIndex=c.pointIndex,f._series=r,this.chart.itemFormatter(i,f,function(){}),i.endGroup())},o}(o),k=function(r){function u(){r.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(u,r),u.prototype.adjustLimits=function(n,t){var a=this.getNumOption("minSize","bubble"),c,h,y,u,p,f,b,l;this._minSize=a?a:this._MIN_SIZE;c=this.getNumOption("maxSize","bubble");this._maxSize=c?c:this._MAX_SIZE;var v=this.chart.series,k=v.length,o=NaN,s=NaN;for(h=0;h<k;h++)if(y=v[h],u=y._getBindingValues(1),u)for(p=u.length,f=0;f<p;f++)i.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=r.prototype.adjustLimits.call(this,n,t),d=t.width-this._maxSize,w=d/e.width;return e.left-=this._maxSize*.5/w,e.width+=this._maxSize/w,b=t.height-this._maxSize,l=b/e.height,e.top-=this._maxSize*.5/l,e.height+=this._maxSize/l,e},u.prototype._drawSymbol=function(r,u,f,e,o,s){var v=this,l=o._getItem(s),c,e,a,h;l&&(c=o._getBinding(1),c&&(e=l[c],i.isValid(e)&&(a=this._minValue==this._maxValue?1:Math.sqrt((e-this._minValue)/(this._maxValue-this._minValue)),e=this._minSize+(this._maxSize-this._minSize)*a,this.chart.itemFormatter?(h=new t.HitTestInfo(this.chart,new n.Point(u,f)),h._chartElement=8,h._pointIndex=s,h._series=o,r.startGroup(),this.chart.itemFormatter(r,h,function(){v._drawDefaultSymbol(r,u,f,e,o.symbolMarker,o.symbolStyle)}),r.endGroup()):this._drawDefaultSymbol(r,u,f,e,o.symbolMarker,o.symbolStyle))))},u}(l),d=function(u){function f(){u.apply(this,arguments);this.isCandle=!0}return __extends(f,u),f.prototype.adjustLimits=function(t){var o,r,s,f,p;this.dataInfo=t;var h=t.getMinX(),u=t.getMinY(),w=t.getMaxX(),e=t.getMaxY(),c=this.chart.series,b=c.length;for(o=0;o<b;o++)if(r=c[o],!r._isCustomAxisY()){var l=r._getBinding(1),a=r._getBinding(2),v=r._getBinding(3),y=r._getLength();if(y)for(s=0;s<y;s++)f=r._getItem(s),f&&(p=[l?f[l]:null,a?f[a]:null,v?f[v]:null],p.forEach(function(n){i.isValid(n)&&n!==null&&((isNaN(u)||n<u)&&(u=n),(isNaN(e)||n>e)&&(e=n))}))}return new n.Rect(h,u,w-h,e-u)},f.prototype.plotSeries=function(r,u,f,e,o){var lt=this,l=n.asType(e,t.Series),w=this.chart.series.indexOf(e),k=e.getValues(0),a=e.getValues(1),s,y,c,rt,p;if(k){a||(a=this.dataInfo.getXVals());var d=this.cloneStyle(e.style,null),b=k.length,ut=!0;a?b=Math.min(b,a.length):(ut=!1,a=new Array(b));var at=this._DEFAULT_WIDTH,h=null,v=null,ft=l._getSymbolSize(),g=e.symbolStyle;g&&(h=g.fill,v=g.stroke);d&&(h===null&&(h=d.fill),v===null&&(v=d.stroke));h===null&&(h=o._getColorLight(w));v===null&&(v=o._getColor(w));r.stroke=v;r.strokeWidth=at;r.fill=h;var et=l._getBinding(1),ot=l._getBinding(2),st=l._getBinding(3),vt=u.actualMin,yt=u.actualMax,ht=0;for(s=0;s<b;s++)if(y=l._getItem(s),y&&(c=ut?a[s]:s,i.isValid(c)&&vt<=c&&c<=yt)){var nt=k[s],ct=et?y[et]:null,tt=ot?y[ot]:null,it=st?y[st]:null;r.startGroup();rt=tt<it?"transparent":h;this.chart.itemFormatter?(p=new t.HitTestInfo(this.chart,new n.Point(u.convert(c),f.convert(nt))),p._chartElement=8,p._pointIndex=s,p._series=l,this.chart.itemFormatter(r,p,function(){lt._drawSymbol(r,u,f,w,s,rt,ft,c,nt,ct,tt,it)})):this._drawSymbol(r,u,f,w,s,rt,ft,c,nt,ct,tt,it);r.endGroup();e._setPointIndex(s,ht);ht++}}},f.prototype._drawSymbol=function(t,u,f,o,s,h,c,l,a,v,y,p){var d=new r(o,s,l,a),b,w,k;l=u.convert(l);this.isCandle?(w=null,k=null,i.isValid(y)&&i.isValid(p)&&(t.fill=h,y=f.convert(y),p=f.convert(p),w=Math.min(y,p),k=w+Math.abs(y-p),t.drawRect(l-.5*c,w,c,k-w),b=new e(new n.Rect(l-.5*c,w,c,k-w)),b.tag=d,this.hitTester.add(b,o)),i.isValid(a)&&(a=f.convert(a),w!==null&&t.drawLine(l,w,l,a)),i.isValid(v)&&(v=f.convert(v),k!==null&&t.drawLine(l,k,l,v))):(i.isValid(a)&&i.isValid(v)&&(a=f.convert(a),v=f.convert(v),t.drawLine(l,v,l,a),b=new e(new n.Rect(l-.5*c,Math.min(a,v),c,Math.abs(a-v))),b.tag=d,this.hitTester.add(b,o)),i.isValid(y)&&(y=f.convert(y),t.drawLine(l-.5*c,y,l,y)),i.isValid(p)&&(p=f.convert(p),t.drawLine(l,p,l+.5*c,p)))},f}(o),r=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},enumerable:!0,configurable:!0}),n}(),a;(function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"})(a||(a={}));var e=function(){function t(n){this._rect=n}return t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,i){var r=t.x-n.x,u=t.y-n.y;return i==0?Math.abs(r):i==1?Math.abs(u):Math.sqrt(r*r+u*u)},t.prototype.distance=function(t){var r=2,i;return t.x===null?r=1:t.y===null&&(r=0),i=this._rect,t.x<i.left?t.y<i.top?this.pointDistance(t,new n.Point(i.left,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.left,i.bottom),r):r==1?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new n.Point(i.right,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.right,i.bottom),r):r==1?0:t.x-i.right:r==0?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}(),s=function(){function n(n,t){this._center=n;this._rad=t;this._rad2=t*t}return Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}(),u=function(){function t(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return t.prototype.contains=function(){return!1},t.prototype.distance=function(t){for(var u,r=NaN,i=0;i<this._x.length-1;i++)u=f._dist(t,new n.Point(this._x[i],this._y[i]),new n.Point(this._x[i+1],this._y[i+1])),(isNaN(r)||u<r)&&(r=u);return r},t}(),v=function(){function n(){}return n}(),g=function(){function t(){this._map={}}return t.prototype.add=function(n,t){this._map[t]||(this._map[t]=[]);n.tag||(n.tag=new r(t,NaN,NaN,NaN));this._map[t].push(n)},t.prototype.clear=function(){this._map={}},t.prototype.hitTest=function(t,i){var f,r,l,e,a,o,s,c,h;typeof i=="undefined"&&(i=!1);f=null;r=Number.MAX_VALUE;for(l in this._map)if(e=this._map[l],e){for(a=e.length,o=a-1;o>=0;o--)if((s=e[o],!n.tryCast(s,u)||i)&&(c=s.distance(t),c<r&&(r=c,f=s,r==0)))break;if(r==0)break}return f?(h=new v,h.area=f,h.distance=r,h):null},t.prototype.hitTestSeries=function(n,t){var f=null,i=Number.MAX_VALUE,e=this._map[t],h,r,o,s,u;if(e)for(h=e.length,r=h-1;r>=0;r--)if(o=e[r],s=o.distance(n),s<i&&(i=s,f=o,i==0))break;return f?(u=new v,u.area=f,u.distance=i,u):null},t}(),y=function(t){function i(){t.call(this);this._content="<b>{seriesName}<\/b><br/>{x} {y}";this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=y})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f,h,e,o,s,i,r,u;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom"})(t.Position||(t.Position={}));f=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));h=t.AxisType,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));e=t.TickMark;o=function(){function i(n){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._majorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this._fgColor="black";this.__uniqueId=i._id++;this._position=n;n==4||n==2?this._axisType=0:(this._axisType=1,this._axisLine=!1)}return Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,f,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getHeight=function(i){var l=t.FlexChart._CSS_LABEL,b=t.FlexChart._CSS_TITLE,y=this._actualMax-this._actualMin,a=this._nicePrecision(y),v,o,h,e,r,f,w,s,u;if((a<0||a>15)&&(a=0),v=.1*y,o=this._lbls,this.labels){if(o!=null&&o.length>0)for(this._annoSize=new n.Size,h=0;h<o.length;h++)r=i.measureString(o[h],l),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);else e=this._formatValue(this._actualMin-v),r=i.measureString(e,l),this._annoSize=r,e=this._formatValue(this._actualMax+v),r=i.measureString(e,l),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);if(this.labelAngle){var c=this.labelAngle*Math.PI/180,p=this._annoSize.width,f=this._annoSize.height;this._annoSize.width=p*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c));this._annoSize.height=p*Math.abs(Math.sin(c))+f*Math.abs(Math.cos(c))}}else this._annoSize=new n.Size;return f=2,f+=this._axisType==0?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,w=this._TICK_HEIGHT,s=this._TICK_OVERLAP,u==1?s=1:u==2?s=-1:u==3&&(s=0),u=this.majorTickMarks,(u===undefined||u===null)&&(u=1),u!=0&&(f+=.5*(1+s)*w),this._title&&(e=this._title,this._szTitle=i.measureString(e,b),f+=this._szTitle.height),i.fontSize=null,f},i.prototype._updateActualLimits=function(n,t,i,r,u){typeof r=="undefined"&&(r=null);typeof u=="undefined"&&(u=null);this._isTimeAxis=n==4;var f=this._chart.chartType;r&&r.length>0&&!this._isTimeAxis&&f!=0&&f!=1&&(t-=.5,i+=.5);this._actualMin=this._min!=null?this._min:t;this._actualMax=this._max!=null?this._max:i;this._lbls=r;this._values=u;this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5)},i.prototype._layout=function(t,i){var r=this.axisType==1,u=this._position!=2&&this._position!=3;this._plotrect=i;this._axrect=r?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(i){var p,nt,ht,ct,a,h,c,lt,v,e,u,ot,d;if(this.position!=0){var o=t.FlexChart._CSS_LABEL,it=t.FlexChart._CSS_TITLE,rt=t.FlexChart._CSS_LINE,at=t.FlexChart._CSS_GRIDLINE,y=t.FlexChart._CSS_TICK,r=0;this.labelAngle&&(r=this.labelAngle,r>90?r=90:r<-90&&(r=-90));var vt=this.axisType==1,ut=this._position!=2&&this._position!=3,ft=this._fgColor,st=this._actualMax-this._actualMin;if(!isNaN(st)){p=this._calcMajorUnit();p==0&&(p=this._niceTickNumber(st)*.1);var w=Math.floor(st/p)+1,g=[],b=[],et=Math.floor(this._actualMin/p)*p;if(et<this._actualMin&&(et+=p),nt=!1,this._lbls&&this._lbls.length>0)for(nt=!0,b=this._lbls,c=0;c<b.length;c++)g.push(c);else this._isTimeAxis?this._createTimeLabels(et,w,g,b):this._createLabels(et,w,p,g,b);w=Math.min(g.length,b.length);i.textFill=ft;var yt=this._TICK_HEIGHT,pt=this._TICK_WIDTH,tt=this._TICK_OVERLAP,wt=ft,l=this.majorTickMarks;for((l===undefined||l===null)&&(l=1),ht=this._GRIDLINE_WIDTH,ct=ft,l==1?tt=1:l==2?tt=-1:l==3&&(tt=0),a=.5*(tt-1)*yt,h=.5*(1+tt)*yt,c=0;c<w;c++){var f=g[c],s=b[c],k=this.labels;k&&nt&&this.majorUnit&&c%this.majorUnit!=0&&(k=!1);f>=this._actualMin&&f<=this._actualMax&&(lt=f!=this._actualMin&&f!=this._actualMin&&this.majorGrid,vt?(v=this.convert(f),i.stroke=ct,i.strokeWidth=ht,lt&&i.drawLine(this._plotrect.left,v,this._plotrect.right,v,at),i.stroke=wt,i.strokeWidth=pt,ut?(l!=0&&i.drawLine(this._axrect.right-a,v,this._axrect.right-h,v,y),k&&(u=new n.Point(this._axrect.right-h-this._TICK_LABEL_DISTANCE,v),r>0?r==90?t.FlexChart._renderRotatedText(i,s,u,1,0,u,r,o):t.FlexChart._renderRotatedText(i,s,u,2,1,u,r,o):r<0?r==-90?t.FlexChart._renderRotatedText(i,s,u,1,2,u,r,o):t.FlexChart._renderRotatedText(i,s,u,2,1,u,r,o):t.FlexChart._renderText(i,s,u,2,1,o))):(l!=0&&i.drawLine(this._axrect.left+a,v,this._axrect.left+h,v,y),k&&(u=new n.Point(this._axrect.left+h+this._TICK_LABEL_DISTANCE,v),r>0?r==90?t.FlexChart._renderRotatedText(i,s,u,1,2,u,r,o):t.FlexChart._renderRotatedText(i,s,u,0,1,u,r,o):r<0?r==-90?t.FlexChart._renderRotatedText(i,s,u,1,0,u,r,o):t.FlexChart._renderRotatedText(i,s,u,0,1,u,r,o):t.FlexChart._renderText(i,s,u,0,1,o)))):(e=this.convert(f),i.stroke=ct,i.strokeWidth=ht,lt&&i.drawLine(e,this._plotrect.top,e,this._plotrect.bottom,at),i.stroke=wt,i.strokeWidth=pt,ut?(k&&(u=new n.Point(e,this._axrect.top+h),r!=0?(ot=i.measureString(s,o),r!=90&&r!=-90&&(u.y+=.5*ot.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,s,u,0,1,u,r,o):r<0&&t.FlexChart._renderRotatedText(i,s,u,2,1,u,r,o)):t.FlexChart._renderText(i,s,u,1,0,o)),l!=0&&(nt?(f=f-.5,f>=this._actualMin&&f<=this._actualMax&&(e=this.convert(f),i.drawLine(e,this._axrect.top+a,e,this._axrect.top+h,y)),c==w-1&&(f=f+1,f>=this._actualMin&&f<=this._actualMax&&(e=this.convert(f),i.drawLine(e,this._axrect.top+a,e,this._axrect.top+h,y)))):(e=this.convert(f),i.drawLine(e,this._axrect.top+a,e,this._axrect.top+h,y)))):(k&&(u=new n.Point(e,this._axrect.bottom-h),r!=0?(ot=i.measureString(s,o),r!=90&&r!=-90&&(u.y-=.5*ot.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,s,u,2,1,u,r,o):r<0&&t.FlexChart._renderRotatedText(i,s,u,0,1,u,r,o)):t.FlexChart._renderText(i,s,u,1,2,o)),l!=0&&(nt?(f=f-.5,f>=this._actualMin&&f<=this._actualMax&&(e=this.convert(f),i.drawLine(e,this._axrect.bottom-a,e,this._axrect.bottom-h,y)),c==w-1&&(f=f+1,f>=this._actualMin&&f<=this._actualMax&&(e=this.convert(f),i.drawLine(e,this._axrect.bottom-a,e,this._axrect.bottom-h,y)))):(e=this.convert(f),i.drawLine(e,this._axrect.bottom-a,e,this._axrect.bottom-h,y))))))}}i.stroke=ft;i.fontSize=null;vt?ut?(this._title&&(d=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,d,1,1,d,-90,it)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,rt)):(this._title&&(d=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,d,1,1,d,90,it)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,rt)):ut?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,rt),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,it)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,rt),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,it));i.stroke=null;i.fontSize=null;i.textFill=null;i.strokeWidth=null}},i.prototype.convert=function(n){if(this._actualMax==this._actualMin)return 0;var r=this._axrect.left,t=this._axrect.width,u=this._axrect.top,i=this._axrect.height;return this._reversed?this.axisType==1?u+(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+t-(n-this._actualMin)/(this._actualMax-this._actualMin)*t:this.axisType==1?u+i-(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+(n-this._actualMin)/(this._actualMax-this._actualMin)*t},i.prototype.convertBack=function(n){if(this._actualMax==this._actualMin)return 0;var r=this._plotrect.left,i=this._plotrect.width,u=this._plotrect.top,f=this._plotrect.height,t=this._actualMax-this._actualMin;return this._reversed?this.axisType==1?this._actualMin+(n-u)*t/f:this._actualMin+(r+i-n)*t/i:this.axisType==1?this._actualMax-(n-u)*t/f:this._actualMin+(n-r)*t/i},Object.defineProperty(i.prototype,"axisType",{get:function(){return this._axisType},enumerable:!0,configurable:!0}),i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createTimeLabels=function(n,i,f,e){var p=this._actualMin,w=this._actualMax,c=t.FlexChart._fromOADate(this._actualMin),b=t.FlexChart._fromOADate(this._actualMax),nt=this._format,tt=this._getAnnoNumber(this._axisType==1),it=86400*(this._actualMax-this._actualMin)/tt,rt=new r(it*r.TicksPerSecond),l=isNaN(this._majorUnit)?u.NiceTimeSpan(rt,nt):r.fromDays(this._majorUnit),ut=l.Ticks,d=u.RoundTime(p,l.TotalDays,!1),k,s,ft,a,v,o,h;if(isFinite(d)&&(p=d),k=u.RoundTime(w,l.TotalDays,!0),isFinite(k)&&(w=k),s=t.FlexChart._fromOADate(p),ft=t.FlexChart._fromOADate(w),l.TotalDays>=365&&isNaN(this._majorUnit))for(s=new Date(c.getFullYear(),1,1),s<c&&s.setFullYear(s.getFullYear()+1),a=l.TotalDays/365,a=a-a%1,o=s;o<=b;o.setFullYear(o.getFullYear()+a))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else if(l.TotalDays>=30&&isNaN(this._majorUnit))for(s=new Date(c.getFullYear(),c.getMonth(),1),s<c&&s.setMonth(s.getMonth()+1),v=l.TotalDays/30,v=v-v%1,o=s;o<=b;o.setMonth(o.getMonth()+v))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else{var y=1e3*ut/r.TicksPerSecond,o=s,g=c.getTime()-o.getTime();for(g>y&&(o=new Date(o.getTime()+Math.floor(g/y)*y));o<=b;o=new Date(o.getTime()+y))o>=c&&(h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h)))}},i.prototype._formatValue=function(i){return this._isTimeAxis?n.Globalize.format(t.FlexChart._fromOADate(i),this._format):n.Globalize.format(i,this._format)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,r=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==1);n=this._niceNumber(2*t,-r,!0);n<t&&(n=this._niceNumber(t,-r+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/i),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i._id=0,i}();t.Axis=o;s=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=s,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=n.second*60]="minute";n[n.hour=n.minute*60]="hour";n[n.day=n.hour*24]="day";n[n.week=n.day*7]="week";n[n.month=n.day*31]="month";n[n.year=n.day*365]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));r=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();u=function(){function u(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return u.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},u.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},u.prototype.getTimeAsDouble=function(){return t.FlexChart._toOADate(this.getTimeAsDateTime())},u.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},u.RoundTime=function(n,t,r){var e=t*86400,f;if(e>0)return(f=new u(n),e<i.minute)?(f.second=this.tround(f.second,e,r),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,r),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,r),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,r),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,r)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,r),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return r&&o!=s&&(o+=t),e+o},u.TimeSpanFromTmInc=function(n){var u=r.fromSeconds(1),t,f;if(n!=i.maxtime)if(n>-1)u=r.fromSeconds(n);else{for(t=n,f=1,t+=7;t>0;)f*=10,t--;u=new r(f)}return u},u.manualTimeInc=function(n){var t=1,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf("f"),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=="%")f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!="f")break;f--}t=f}else n.indexOf("s")>=0?t=1:n.indexOf("m")>=0?t=i.minute:n.indexOf("h")>=0||n.indexOf("H")?t=i.hour:n.indexOf("d")>=0?t=i.day:n.indexOf("M")>=0?t=i.month:n.indexOf("y")>=0&&(t=i.year);return t},u.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},u.NiceTimeSpan=function(n,t){var e=1,o,f,s;if(t!=null&&t.length>0&&(e=u.manualTimeInc(t)),o=0,f=0,e<1&&n.TotalSeconds<10){for(o=n.Ticks,f=u.TimeSpanFromTmInc(e).Ticks;o>10*f;)f*=10;return s=f,o>s&&(s*=2),o>s&&(s=5*f),o>s&&(s=10*f),new r(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return u.TimeSpanFromTmInc(e);if(f=1,e<i.minute){if(o<i.minute&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.minute}if(e<i.hour){if(o<i.hour&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.hour}if(e<i.day){if(o<i.day&&(f=u.getNiceInc([1,3,6,12],o,e),f!=0))return r.fromSeconds(f);e=i.day}if(e<i.month){if(o<i.month&&(f=u.getNiceInc([1,2,7,14],o,e),f!=0))return r.fromSeconds(f);e=i.month}if(e<i.year){if(o<i.year&&(f=u.getNiceInc([1,2,3,4,6],o,e),f!=0))return r.fromSeconds(f);e=i.year}return f=100*i.year,o<f&&(f=u.getNiceInc([1,2,5,10,20,50],o,e),f==0&&(f=100*i.year)),r.fromSeconds(f)},u.NiceTimeUnit=function(n,t){var i=r.fromDays(n);return i=u.NiceTimeSpan(i,t),i.TotalDays},u.GetTimeDefaultFormat=function(n,t){var e;if(isNaN(n)||isNaN(t))return"";var u="s",o=r.fromDays(n-t),f=o.TotalSeconds;if(f>2*i.year)u="yyyy";else if(f>i.year)u="MMM yy";else if(f>3*i.month)u="MMM";else if(f>2*i.week)u="MMM d";else if(f>2*i.day)u="ddd d";else if(f>i.day)u="ddd H:mm";else if(f>i.hour)u="H:mm";else if(f>=1)u="H:mm:ss";else if(f>0)for(e=o.Ticks,u="s.";e<r.TicksPerSecond;)e*=10,u+="f";return u},u.secInYear=86400,u}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,i;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));var f=t.Marker,e=function(){function n(){}return n}(),u=function(t){function r(r){t.call(this);this._series=n.asType(r,i)}return __extends(r,t),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),r}(n.EventArgs);t.SeriesEventArgs=u;i=function(){function i(){this._symbolMarker=0;this._visibility=0}return Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(i.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._values=null,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._values=null,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._values=null,this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new u(this))},enumerable:!0,configurable:!0}),i.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},i.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(i.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),i.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},i.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},i.prototype.drawLegendItem=function(r,u){var l=this._chartType,s,h;l==null&&(l=this._chart.chartType);r.strokeWidth=1;var f=i._LEGEND_ITEM_MARGIN,a=null,v=null;a===null&&(a=this._chart._getColorLight(this._chart.series.indexOf(this)));v===null&&(v=this._chart._getColor(this._chart.series.indexOf(this)));r.fill=a;r.stroke=v;var e=u.top+.5*u.height,o=i._LEGEND_ITEM_WIDTH,c=i._LEGEND_ITEM_HEIGHT;switch(l){case 5:case 11:r.drawRect(u.left+f,e-.5*c,o,c,null,this.style);break;case 1:case 0:r.drawRect(u.left+f,e-.5*c,o,c,null,this.symbolStyle?this.symbolStyle:this.style);break;case 2:case 6:s=.3*o;h=.3*c;this.symbolMarker==1?r.drawRect(u.left+f+.5*o-s,e-h,2*s,2*h,null,this.symbolStyle):r.drawEllipse(u.left+.5*o+f,e,s,h,null,this.symbolStyle);break;case 3:case 9:r.drawLine(u.left+f,e,u.left+o+f,e,null,this.style);break;case 4:case 10:s=.3*o;h=.3*c;this.symbolMarker==1?r.drawRect(u.left+f+.5*o-s,e-h,2*s,2*h,null,this.symbolStyle):r.drawEllipse(u.left+.5*o+f,e,s,h,null,this.symbolStyle);r.drawLine(u.left+f,e,u.left+o+f,e,null,this.style);break;case 7:case 8:r.drawLine(u.left+f,e,u.left+o+f,e,null,this.symbolStyle?this.symbolStyle:this.style)}this._name&&t.FlexChart._renderText(r,this._name,new n.Point(u.left+c+2*f,e),0,1,t.FlexChart._CSS_LABEL)},i.prototype.measureLegendItem=function(r){var u=new n.Size,f;return u.width=i._LEGEND_ITEM_WIDTH,u.height=i._LEGEND_ITEM_HEIGHT,this._name&&(f=r.measureString(this._name,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*i._LEGEND_ITEM_MARGIN,u.height+=2*i._LEGEND_ITEM_MARGIN,u},i.prototype._clearValues=function(){this._values=null},i.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(","),t&&t.length>n&&(i=t[n].trim())),i},i.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},i.prototype._getItem=function(n){var t=null;return this.itemsSource!=null?t=this.itemsSource[n]:this._chart.itemsSource!=null&&(t=this._chart.itemsSource[n]),t},i.prototype._getLength=function(){var n=null;return this.itemsSource!=null?n=this.itemsSource.length:this._chart.itemsSource!=null&&(n=this._chart.itemsSource.length),n},i.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},i.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},i.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},i.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},i.prototype._getAxisY=function(){return this._axisY?this._axisY:this._chart?this.chart.axisY:null},i.prototype._cvCollectionChanged=function(){this._values=null;this._invalidate()},i.prototype._cvCurrentChanged=function(){this._invalidate()},i.prototype._bindValues=function(i,r){var o,h,c,f,u,s;if(i!=null)for(c=i.length,o=new Array(i.length),f=0;f<c;f++)u=i[f],r!=null&&(u=u[r]),n.isNumber(u)?(o[f]=u,h=2):n.isDate(u)&&(o[f]=t.FlexChart._toOADate(u),h=4);return s=new e,s.values=o,s.dataType=h,s},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},i._LEGEND_ITEM_WIDTH=10,i._LEGEND_ITEM_HEIGHT=10,i._LEGEND_ITEM_MARGIN=4,i._DEFAULT_SYM_SIZE=10,i}();t.Series=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(){"use strict"})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._element=n;this._create();this._element.appendChild(this._svg)}return i.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._svg.appendChild(this._textGroup)},i.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},i.prototype.setViewportSize=function(n,t){this._svg.setAttribute("width",n.toString());this._svg.setAttribute("height",t.toString())},Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(i.svgNS,"clipPath"),r=document.createElementNS(i.svgNS,"rect");r.setAttribute("x",(n.left-1).toFixed());r.setAttribute("y",(n.top-1).toFixed());r.setAttribute("width",(n.width+2).toFixed());r.setAttribute("height",(n.height+2).toFixed());u.appendChild(r);u.setAttribute("id",t);this._svg.appendChild(u)}},i.prototype.drawEllipse=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"ellipse");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("fill",this._fill);o.setAttribute("cx",n.toFixed(1));o.setAttribute("cy",t.toFixed(1));o.setAttribute("rx",r.toFixed(1));o.setAttribute("ry",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawRect=function(n,t,r,u,f,e,o){var s=document.createElementNS(i.svgNS,"rect");s.setAttribute("fill",this._fill);s.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&s.setAttribute("stroke-width",this._strokeWidth.toString());s.setAttribute("x",n.toFixed(1));s.setAttribute("y",t.toFixed(1));s.setAttribute("width",r.toFixed(1));s.setAttribute("height",u.toFixed(1));o&&s.setAttribute("clip-path","url(#"+o+")");f&&s.setAttribute("class",f);this._applyStyle(s,e);this._appendChild(s)},i.prototype.drawLine=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"line");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("x1",n.toFixed(1));o.setAttribute("x2",r.toFixed(1));o.setAttribute("y1",t.toFixed(1));o.setAttribute("y2",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawLines=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polyline"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill","none"),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawSplines=function(n,r,u,f,e){var o,h,s;if(n&&r){var y=new t._Spline(n,r),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(i.svgNS,"polyline"),o.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString()),o.setAttribute("fill","none"),h="",s=0;s<v;s++)h+=l[s].toFixed(1)+","+a[s].toFixed(1)+" ";o.setAttribute("points",h);u&&o.setAttribute("class",u);e&&o.setAttribute("clip-path","url(#"+e+")");this._applyStyle(o,f);this._appendChild(o)}}},i.prototype.drawPolygon=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polygon"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill",this._fill),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawPieSegment=function(t,r,u,f,e,o,s,h){var c,l,y,a,p,v;if(e>=Math.PI*2)return this.drawEllipse(t,r,u,u,o,s);c=document.createElementNS(i.svgNS,"path");c.setAttribute("fill",this._fill);c.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&c.setAttribute("stroke-width",this._strokeWidth.toString());l=new n.Point(t,r);l.x+=u*Math.cos(f);l.y+=u*Math.sin(f);y=f+e;a=new n.Point(t,r);a.x+=u*Math.cos(y);a.y+=u*Math.sin(y);p=" 0 0,1 ";Math.abs(e)>Math.PI&&(p=" 0 1,1 ");v="M "+t.toFixed(1)+","+r.toFixed(1);v+="L "+l.x.toFixed(1)+","+l.y.toFixed(1);v+=" A "+u.toFixed(1)+","+u.toFixed(1)+p;v+=a.x.toFixed(1)+","+a.y.toFixed(1)+" z";c.setAttribute("d",v);h&&c.setAttribute("clip-path","url(#"+h+")");o&&c.setAttribute("class",o);this._applyStyle(c,s);this._appendChild(c)},i.prototype.drawDonutSegment=function(t,r,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;o>=Math.PI*2&&(k=!0,o-=.001);l=document.createElementNS(i.svgNS,"path");l.setAttribute("fill",this._fill);l.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&l.setAttribute("stroke-width",this._strokeWidth.toString());y=new n.Point(t,r);y.x+=u*Math.cos(e);y.y+=u*Math.sin(e);p=e+o;w=new n.Point(t,r);w.x+=u*Math.cos(p);w.y+=u*Math.sin(p);v=new n.Point(t,r);v.x+=f*Math.cos(p);v.y+=f*Math.sin(p);b=new n.Point(t,r);b.x+=f*Math.cos(e);b.y+=f*Math.sin(e);d=" 0 0,1 ";g=" 0 0,0 ";Math.abs(o)>Math.PI&&(d=" 0 1,1 ",g=" 0 1,0 ");a="M "+y.x.toFixed(3)+","+y.y.toFixed(3);a+=" A "+u.toFixed(3)+","+u.toFixed(3)+d;a+=w.x.toFixed(3)+","+w.y.toFixed(3);a+=k?" M "+v.x.toFixed(3)+","+v.y.toFixed(3):" L "+v.x.toFixed(3)+","+v.y.toFixed(3);a+=" A "+f.toFixed(3)+","+f.toFixed(3)+g;a+=b.x.toFixed(3)+","+b.y.toFixed(3);k||(a+=" z");l.setAttribute("d",a);c&&l.setAttribute("clip-path","url(#"+c+")");s&&l.setAttribute("class",s);this._applyStyle(l,h);this._appendChild(l)},i.prototype.drawString=function(n,t,i){var r=this._createText(t,n),u;i&&r.setAttribute("class",i);this._appendChild(r);u=r.getBBox();r.setAttribute("y",(t.y-(u.y+u.height-t.y)).toFixed(1))},i.prototype.drawStringRotated=function(n,t,r,u,f){var e=this._createText(t,n),o,s;f&&e.setAttribute("class",f);o=document.createElementNS(i.svgNS,"g");o.setAttribute("transform","rotate("+u.toFixed(1)+","+r.x.toFixed(1)+","+r.y.toFixed(1)+")");o.appendChild(e);this._appendChild(o);s=e.getBBox();e.setAttribute("y",(t.y-(s.y+s.height-t.y)).toFixed(1))},i.prototype.measureString=function(t,i,r){var u=new n.Size(0,0),f;return this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily),i&&this._text.setAttribute("class",i),r&&this._textGroup.setAttribute("class",r),this._setText(this._text,t),f=this._text.getBBox(),u.width=f.width,u.height=f.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._textGroup.removeAttribute("class"),this._text.textContent=null,u},i.prototype.startGroup=function(n,t,r){typeof r=="undefined"&&(r=!1);var u=document.createElementNS(i.svgNS,"g");return n&&u.setAttribute("class",n),t&&u.setAttribute("clip-path","url(#"+t+")"),this._appendChild(u),r&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},i.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},i.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},i.prototype._create=function(){this._svg=document.createElementNS(i.svgNS,"svg");this._defs=document.createElementNS(i.svgNS,"defs");this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),"");this._textGroup=document.createElementNS(i.svgNS,"g");this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},i.prototype._setText=function(n,t){if(t&&t.indexOf("tspan")>=0)try{n.textContent=null;for(var r=new DOMParser,u='<svg xmlns="http://www.w3.org/2000/svg">'+t+"<\/svg>",f=r.parseFromString(u,"text/xml").documentElement,i=f.firstChild;i;)n.appendChild(n.ownerDocument.importNode(i,!0)),i=i.nextSibling}catch(e){throw new Error("Error parsing XML string.");}else n.textContent=t},i.prototype._createText=function(n,t){var r=document.createElementNS(i.svgNS,"text");return this._setText(r,t),r.setAttribute("fill",this._textFill),r.setAttribute("x",n.x.toFixed(1)),r.setAttribute("y",n.y.toFixed(1)),this._fontSize&&r.setAttribute("font-size",this._fontSize),this._fontFamily&&r.setAttribute("font-family",this._fontFamily),r},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},i.svgNS="http://www.w3.org/2000/svg",i}();t._SvgRenderEngine=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(t){this._position=3;this._areas=[];this._sz=new n.Size;this._chart=t}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(t){var i=this.position,r;if(i==0)return null;if(r=i==3||i==1,this._chart instanceof n.chart.FlexChart)this._sz=this._getDesiredSizeSeriesChart(t,r);else if(this._chart instanceof n.chart.FlexPie)this._sz=this._getDesiredSizePieChart(t,r);else return null;return this._sz},i.prototype._getDesiredSizeSeriesChart=function(t,i){for(var f,o,u,r=new n.Size,s=this._chart.series,h=s.length,e=0;e<h;e++)(f=n.tryCast(s[e],n.chart.Series),o=f.visibility,f.name&&o!=3&&o!=1)&&(u=f.measureLegendItem(t),i?(r.height+=u.height,r.width<u.width&&(r.width=u.width)):(r.width+=u.width,r.height<u.height&&(r.height=u.height)));return r},i.prototype._renderSeriesChart=function(t,i,r){for(var u,f,c=this._chart.series,l=c.length,o=0;o<l;o++){if(u=n.tryCast(c[o],n.chart.Series),f=u.visibility,!u.name||f==3||f==1){u._legendElement=null;continue}var e=u.measureLegendItem(t),s=new n.Rect(i.x,i.y,e.width,e.height),h=t.startGroup(u.cssClass);f==2?(h.setAttribute("opacity","0.5"),u._legendElement=h,u.drawLegendItem(t,s)):f==0?(u._legendElement=h,u.drawLegendItem(t,s)):u._legendElement=null;t.endGroup();this._areas.push(s);r?i.y+=e.height:i.x+=e.width}},i.prototype._getDesiredSizePieChart=function(t,i){for(var u,r=new n.Size,e=this._chart,o=e._labels,s=o.length,f=0;f<s;f++)u=e._measureLegendItem(t,o[f]),i?(r.height+=u.height,r.width<u.width&&(r.width=u.width)):(r.width+=u.width,r.height<u.height&&(r.height=u.height));return r},i.prototype._renderPieChart=function(t,i,r){for(var f,s,e=this._chart,o=e._labels,h=o.length,u=0;u<h;u++)f=e._measureLegendItem(t,o[u]),s=new n.Rect(i.x,i.y,f.width,f.height),e._drawLegendItem(t,s,u,o[u]),this._areas.push(s),r?i.y+=f.height:i.x+=f.width},i.prototype._render=function(t,i){this._areas=[];var r=this.position==3||this.position==1;if(t.fill="transparent",t.stroke=null,t.drawRect(i.x,i.y,this._sz.width,this._sz.height),this._chart instanceof n.chart.FlexChart)this._renderSeriesChart(t,i,r);else if(this._chart instanceof n.chart.FlexPie)this._renderPieChart(t,i,r);else return null},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(t.FlexChart._contains(r[i],n))return i;return null},i}();t.Legend=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.None=9]="None"})(n.ChartElement||(n.ChartElement={}));var i=n.ChartElement,t=function(){function t(n,t){this._pointIndex=null;this._chartElement=9;this._chart=n;this._pt=t}return Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item===undefined&&(this._item=null,this.series!==null&&this.pointIndex!==null&&(this.series.itemsSource!=null?this._item=this.series.itemsSource[this.pointIndex]:this._chart.itemsSource!=null&&(this._item=this._chart.itemsSource[this.pointIndex]))),this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){if(this._chart instanceof n.FlexPie){var t=this._chart;return t._values[this.pointIndex]}return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){if(this._chart instanceof n.FlexPie){var t=this._chart;return t._labels[this.pointIndex]}return this.series.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._getValue=function(t,i){var o,e,s;if(this._chart instanceof n.FlexPie)return o=this._chart,o._values[this.pointIndex];var r=null,u=this._chart,f=this.pointIndex;return this.series!==null&&f!==null&&(e=this.series.getValues(t),s=this.series.getDataType(t),e&&this.pointIndex<e.length?(r=e[this.pointIndex],s!=4||i||(r=n.FlexChart._fromOADate(r))):t==1&&(u._xlabels&&u._xlabels.length>0&&f<u._xlabels.length?r=u._xlabels[f]:u._xvals&&f<u._xvals.length&&(r=u._xvals[f],u._xDataType!=4||i||(r=n.FlexChart._fromOADate(r))))),r!==null&&i&&(t==0?r=u.axisY._formatValue(r):t==1&&(r=u.axisX._formatValue(r))),r},t}();n.HitTestInfo=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";var t=function(){function n(){}return n.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],n.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],n.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],n.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],n.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],n.light=["#ddca9a","#778deb","#778deb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],n.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],n.minimal=["#92b8da","#e2d287","#accdb8","#eac4cb","#bbbb7a","#cab1ca","#cbd877","#dfb397","#c8c8c8"],n.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],n.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],n.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],n}();n.Palettes=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0]],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;;i+=f)if(n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n),i>this._len-1)break;return{xs:r,ys:u}},t}();t._Spline=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))