/*
    *
    * Wijmo Library 5.20152.84
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){"use strict";var f=function(){function n(n,t){typeof n=="undefined"&&(n=0);typeof t=="undefined"&&(t=0);this.x=n;this.y=t}return n}(),i,r,u;t.DataPoint=f;i=function(n){function t(t){n.call(this);this._engine=t}return __extends(t,n),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(n.EventArgs);t.RenderEventArgs=i;r=function(i){function r(){i.apply(this,arguments);this._palette=null;this._selectionMode=0;this._defPalette=t.Palettes.standard;this._notifyCurrentChanged=!0;this._legendHost=null;this._needBind=!1;this.rendering=new n.Event;this.rendered=new n.Event;this.selectionChanged=new n.Event}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(i){i!=this._selectionMode&&(this._selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),r.prototype.onRendered=function(n){this.rendered.raise(this,n)},r.prototype.onRendering=function(n){this.rendering.raise(this,n)},r.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);this.isUpdating||this._refreshChart()},r.prototype.containsFocus=function(){var n=i.prototype.containsFocus.call(this);return!n&&document.activeElement&&(n=document.activeElement.parentNode===this.hostElement),n},r.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},r.prototype._cvCollectionChanged=function(){this._clearCachedValues();this._bindChart()},r.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},r.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},r.prototype._getColorLight=function(t){var i=this._getColor(t),r=new n.Color(i);return r!=null&&(r.a==1&&i.indexOf("rgba")==-1&&(r.a*=.7),i=r.toString()),i},r.prototype._bindChart=function(){this._needBind=!0;this.invalidate()},r.prototype._clearCachedValues=function(){},r.prototype._render=function(){},r.prototype._performBind=function(){},r.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind());this._render(this._currentRenderEngine)},r.prototype._drawTitle=function(i,r,u,f,e){var o=t.FlexChart._CSS_TITLE,s=e?t.FlexChart._CSS_FOOTER:t.FlexChart._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,u!=null){var a=null,c=null,v=null,l=null;f&&(f.fontSize&&(a=f.fontSize),f.foreground&&(c=f.foreground),f.fill&&(c=f.fill),f.fontFamily&&(v=f.fontFamily),f.halign&&(l=f.halign));i.fontSize=a;i.fontFamily=v;h=i.measureString(u,o,s,f);r.height-=h.height;c||(c=t.FlexChart._FG);i.textFill=c;e?(l=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,r.bottom),0,0,o,s,f):l=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,r.bottom),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,r.bottom),1,0,o,s,f),this._rectFooter=new n.Rect(r.left,r.bottom,r.width,h.height)):(this._rectHeader=new n.Rect(r.left,r.top,r.width,h.height),r.top+=h.height,l=="left"?t.FlexChart._renderText(i,u,new n.Point(r.left,0),0,0,o,s,f):l=="right"?t.FlexChart._renderText(i,u,new n.Point(r.left+r.width,0),2,0,o,s,f):t.FlexChart._renderText(i,u,new n.Point(r.left+.5*r.width,0),1,0,o,s,f));i.textFill=null;i.fontSize=null;i.fontFamily=null}return r},r.prototype._toControl=function(t,i){var r,o,u,f,e;return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),r=t.clone(),o=this._getHostOffset(),r.x-=o.x,r.y-=o.y,u=this._getHostComputedStyle(),u&&(f=parseInt(u.paddingLeft.replace("px","")),f&&!isNaN(f)&&(r.x-=f),e=parseInt(u.paddingTop.replace("px","")),e&&!isNaN(e)&&(r.y-=e)),r},r.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},r.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(" ",4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},r.prototype._showToolTip=function(n,t){var i=this,r=this._tooltip.showDelay;i._clearTimeouts();r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,n,t);i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,n,t),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay)))},r.prototype._hideToolTip=function(){this._clearTimeouts();this._tooltip.hide()},r.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null);this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},r.prototype._getHostOffset=function(){var t=n.getElementRect(this.hostElement);return new n.Point(t.left,t.top)},r.prototype._getHostSize=function(){var i=new n.Size,f=this.hostElement,t=this._getHostComputedStyle(),r=f.offsetWidth,u=f.offsetHeight;if(t){var e=parseFloat(t.paddingLeft.replace("px","")),o=parseFloat(t.paddingRight.replace("px","")),s=parseFloat(t.paddingTop.replace("px","")),h=parseFloat(t.paddingBottom.replace("px",""));isNaN(e)||(r-=e);isNaN(o)||(r-=o);isNaN(s)||(u-=s);isNaN(h)||(u-=h);i.width=r;i.height=u}return i},r.prototype._getHostComputedStyle=function(){var n=this.hostElement;return n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},r.prototype._find=function(n,t){for(var i,r,u,f=[],e=0;e<n.childElementCount;e++)if(i=n.childNodes.item(e),t.indexOf(i.nodeName)>=0)f.push(i);else if(r=this._find(i,t),r.length>0)for(u=0;u<r.length;u++)f.push(r[u]);return f},r._WIDTH=300,r._HEIGHT=200,r._SELECTION_THRESHOLD=15,r}(n.Control);t.FlexChartBase=r;u=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null;this._keys.value=null;this._keys.name=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){return t=="seriesName"&&i.series?i.series.name:t=="pointIndex"&&i.pointIndex!==null?i.pointIndex.toFixed():t=="y"&&i.series?r?n.Globalize.format(i.y,r):i._yfmt:t=="x"&&i.series?r?n.Globalize.format(i.x,r):i._xfmt:t=="value"?r?n.Globalize.format(i.value,r):i.value:t=="name"?i.name:i.item&&i.item[t]?r?n.Globalize.format(i.item[t],r):i.item[t]:""},t}();t._KeyWords=u})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f=function(f){function e(i,r){f.call(this,i,null,!0);this._areas=[];this._keywords=new t._KeyWords;this._startAngle=0;this._innerRadius=0;this._offset=0;this._reversed=!1;this._isAnimated=!1;this._selectedItemPosition=0;this._selectedItemOffset=0;this._rotationAngle=0;this._center=new n.Point;this._selectedOffset=new n.Point;this._selectedIndex=-1;this._angles=[];this._values=[];this._labels=[];this._pels=[];this._sum=0;this.applyTemplate("wj-control wj-flexchart",null,null);this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);this._tooltip=new t.ChartTooltip;this._tooltip.content="<b>{name}<\/b><br/>{value}";this._tooltip.showDelay=0;this._lbl=new t.PieDataLabel;this._lbl._chart=this;var u=this;this.hostElement.addEventListener("mousemove",function(t){var r=u._tooltip,e=r.content,i,f;e&&!u.isTouching&&(i=u.hitTest(t),i.distance<=r.threshold?(f=u._getLabelContent(i,u.tooltip.content),u._showToolTip(f,new n.Rect(t.clientX,t.clientY,5,5))):u._hideToolTip())});this.hostElement.addEventListener("click",function(i){var o=!0,f,e,s,r,h;u.selectionMode!=0&&(r=u.hitTest(i),f=t.FlexChart._SELECTION_THRESHOLD,u.tooltip&&u.tooltip.threshold&&(f=u.tooltip.threshold),r.distance<=f?(r.pointIndex!=u._selectionIndex&&u.selectedItemPosition!=0&&(o=!1),u._select(r.pointIndex,!0)):u._select(null));o&&u.isTouching&&(e=u._tooltip,s=e.content,s&&(r=u.hitTest(i),r.distance<=e.threshold?(h=u._getLabelContent(r,u.tooltip.content),u._showToolTip(h,new n.Rect(i.clientX,i.clientY,5,5))):u._hideToolTip()))});this.initialize(r);this.refresh()}return __extends(e,f),Object.defineProperty(e.prototype,"bindingName",{get:function(){return this._bindingName},set:function(t){t!=this._bindingName&&(this._bindingName=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startAngle",{get:function(){return this._startAngle},set:function(t){t!=this._startAngle&&(this._startAngle=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){t!=this._offset&&(this._offset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(t){t!=this._innerRadius&&(this._innerRadius=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){t!=this._reversed&&(this._reversed=n.asBoolean(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(t){t!=this._selectedItemPosition&&(this._selectedItemPosition=n.asEnum(t,n.chart.Position,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(t){t!=this._selectedItemOffset&&(this._selectedItemOffset=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(n){n!=this._isAnimated&&(this._isAnimated=n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(n,i){var f=this._toControl(n,i),r=new t.HitTestInfo(this,f),o=null,y,s,l,e,u,h,c;if(t.FlexChart._contains(this._rectHeader,f))r._chartElement=5;else if(t.FlexChart._contains(this._rectFooter,f))r._chartElement=6;else if(t.FlexChart._contains(this._rectLegend,f))r._chartElement=4,o=this.legend._hitTest(f),o!==null&&o>=0&&o<this._areas.length&&r._setData(null,o);else if(t.FlexChart._contains(this._rectChart,f)){for(y=this._areas.length,s=NaN,e=0;e<y;e++){if(u=f.clone(),this._rotationAngle!=0){var p=this._center.x,w=this._center.y,a=-p+u.x,v=-w+u.y,b=Math.sqrt(a*a+v*v),k=Math.atan2(v,a)-this._rotationAngle*Math.PI/180;u.x=p+b*Math.cos(k);u.y=w+b*Math.sin(k)}if(e==this._selectedIndex&&(u.x-=this._selectedOffset.x,u.y-=this._selectedOffset.y),h=this._areas[e],h.contains(u)&&(r._setData(null,h.tag),r._dist=0,e!=this._selectedIndex))break;c=h.distance(u);c!==undefined&&(isNaN(s)||c<s)&&(s=c,l=h)}r._dist!==0&&l!=null&&(r._setData(null,l.tag),r._dist=s);r._chartElement=3}else r._chartElement=10;return r},e.prototype._performBind=function(){var r,e,u,i,t,f;if(this._sum=0,this._values=[],this._labels=[],this._cv&&(this._selectionIndex=this._cv.currentPosition,r=this._cv.items,r))for(e=r.length,u=0;u<e;u++)i=r[u],this.binding&&(i=i[this.binding]),t=0,n.isNumber(i)&&!isNaN(t)&&isFinite(t)?t=n.asNumber(i):i&&(t=parseFloat(i.toString())),!isNaN(t)&&isFinite(t)?(this._sum+=Math.abs(t),this._values.push(t)):(t=0,this._values.push(t)),this.bindingName&&r[u]?(f=r[u][this.bindingName],f&&(f=f.toString()),this._labels.push(f)):this._labels.push(t.toString())},e.prototype._render=function(i){var w,y,o,h,r,l,f,u;this._selectionAnimationID&&clearInterval(this._selectionAnimationID);var b=this.hostElement,p=this._getHostSize(),u=p.width,f=p.height;if((u==0||isNaN(u))&&(u=t.FlexChart._WIDTH),(f==0||isNaN(f))&&(f=t.FlexChart._HEIGHT),w=new n.Size(u,f),i.beginRender(),u>0&&f>0){i.setViewportSize(u,f);this._areas=[];y=this.legend;r=new n.Rect(0,0,u,f);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();u=r.width;f=r.height;l=y._getPosition(u,f);o=y._getDesiredSize(i,l,u,f);switch(l){case 3:u-=o.width;h=new n.Point(u,r.top+.5*(f-o.height));break;case 1:r.left+=o.width;u-=o.width;h=new n.Point(0,r.top+.5*(f-o.height));break;case 2:f-=o.height;h=new n.Point(.5*(u-o.width),r.top);r.top+=o.height;break;case 4:f-=o.height;h=new n.Point(.5*(u-o.width),r.top+f)}r.width=u;r.height=f;this.onRendering(new t.RenderEventArgs(i));this._pieGroup=i.startGroup(null,null,!0);var s=this._parseMargin(this.plotMargin),a=this.dataLabel,c=a.content&&a.position==3,v=c?(n.isNumber(a.offset)?a.offset:0)+24:0;isNaN(s.left)&&(s.left=c?v:e._MARGIN);isNaN(s.right)&&(s.right=c?v:e._MARGIN);isNaN(s.top)&&(s.top=c?v:e._MARGIN);isNaN(s.bottom)&&(s.bottom=c?v:e._MARGIN);r.top+=s.top;f=r.height-(s.top+s.bottom);r.height=f>0?f:24;r.left+=s.left;u=r.width-(s.left+s.right);r.width=u>0?u:24;this._renderData(i,r,this._pieGroup);i.endGroup();o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(h.x,h.y,o.width,o.height),this.legend._render(i,h,l,o.width,o.height),i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._rotationAngle=0;this._highlightCurrent();this.dataLabel.content&&this.dataLabel.position!=0&&this._renderLabels(i);this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._renderData=function(i,r){var rt=this,b,k,nt,u,h,c,d,g;this._pels=[];this._angles=[];var ut=this._values.length,v=this._sum,ft=this.startAngle+180,a=this.reversed==!0,et=this.innerRadius,s=this.offset,y=null;if(v>0){var o=ft*Math.PI/180,p=r.left+.5*r.width,w=r.top+.5*r.height,f=Math.min(.5*r.width,.5*r.height);for(this._center.x=p,this._center.y=w,b=Math.max(s,this.selectedItemOffset),b>0&&(f=f/(1+b),s=s*f),this._radius=f,k=et*f,nt=0,u=0;u<ut;u++){h=p;c=w;i.fill=this._getColorLight(u);i.stroke=this._getColor(u);var tt=Math.abs(this._values[u]),e=Math.abs(tt-v)<1e-10?2*Math.PI:2*Math.PI*tt/v,ot=i.startGroup(),it=s,l=a?o-.5*e:o+.5*e;u==this._cv.currentPosition&&(nt=l);this._angles.push(l);y&&u<y.length&&(it=y[u]);it>0&&(d=o+.5*e,a&&(d=-d),h+=s*Math.cos(l),c+=s*Math.sin(l));e>=2*Math.PI&&(h=p,c=w);this.itemFormatter?(g=new t.HitTestInfo(this,new n.Point(h+f*Math.cos(l),c+f*Math.sin(l)),8),g._setData(null,u),this.itemFormatter(i,g,function(){rt._drawSilce(i,u,a,h,c,f,k,o,e)})):this._drawSilce(i,u,a,h,c,f,k,o,e);a?o-=e:o+=e;i.endGroup();this._pels.push(ot)}this._highlightCurrent()}},e.prototype._renderLabels=function(r){var it=this._areas.length,h=this.dataLabel,l=h.position,s=2,rt=this._rotationAngle,ut=h.connectingLine,tt=h.offset?h.offset:0,c,y,a,o,d,g,v,nt;for(r.stroke="null",r.fill="transparent",r.strokeWidth=1,c=0;c<it;c++)if(y=this._areas[c],y){var p=y.radius,u=y.langle+rt,f=1,e=1;l==2?p*=.5:(u=i.clampAngle(u),u<=-170||u>=170?(f=2,e=1):u>=-100&&u<=-80?(f=1,e=2):u>=-10&&u<=10?(f=0,e=1):u>=80&&u<=100?(f=1,e=0):-180<u&&u<-90?(f=2,e=2):-90<=u&&u<0?(f=0,e=2):0<u&&u<90?(f=0,e=0):90<u&&u<180&&(f=2,e=0),l==1&&(f=2-f,e=2-e));u*=Math.PI/180;var b=0,k=0,w=0;w=c==this._selectedIndex&&this.selectedItemOffset>0?this.selectedItemOffset:this.offset;w>0&&(b=Math.cos(u)*w*this._radius,k=Math.sin(u)*w*this._radius);a=p;l==3?a+=tt:l==1&&(a-=tt);o=new n.Point(this._center.x+b+a*Math.cos(u),this._center.y+k+a*Math.sin(u));h.border&&l!=2&&(f==0?o.x+=s:f==2&&(o.x-=s),e==0?o.y+=s:e==2&&(o.y-=s));d=new t.HitTestInfo(this,o);d._setData(null,c);g=this._getLabelContent(d,h.content);g&&(v=t.FlexChart._renderText(r,g,o,f,e,"wj-data-label"),h.border&&r.drawRect(v.left-s,v.top-s,v.width+2*s,v.height+2*s,"wj-data-label-border"),ut&&(nt=new n.Point(this._center.x+b+p*Math.cos(u),this._center.y+k+p*Math.sin(u)),r.drawLine(o.x,o.y,nt.x,nt.y,"wj-data-label-line")))}},e.prototype._drawSilce=function(t,i,f,e,o,s,h,c,l){var a;f?h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c-l,l),a=new u(new n.Point(e,o),s,h,c-l,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c-l,l),a=new r(new n.Point(e,o),s,c-l,l),a.tag=i,this._areas.push(a)):(h>0?(l!=0&&t.drawDonutSegment(e,o,s,h,c,l),a=new u(new n.Point(e,o),s,h,c,l),a.tag=i,this._areas.push(a)):(l!=0&&t.drawPieSegment(e,o,s,c,l),a=new r(new n.Point(e,o),s,c,l),a.tag=i,this._areas.push(a)),c+=l)},e.prototype._measureLegendItem=function(i,r){var u=new n.Size,f;return u.width=t.Series._LEGEND_ITEM_WIDTH,u.height=t.Series._LEGEND_ITEM_HEIGHT,r&&(f=i.measureString(r,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*t.Series._LEGEND_ITEM_MARGIN,u.height+=2*t.Series._LEGEND_ITEM_MARGIN,u},e.prototype._drawLegendItem=function(i,r,u,f){i.strokeWidth=1;var h=t.Series._LEGEND_ITEM_MARGIN,e=null,o=null;e===null&&(e=this._getColorLight(u));o===null&&(o=this._getColor(u));i.fill=e;i.stroke=o;var c=r.top+.5*r.height,l=t.Series._LEGEND_ITEM_WIDTH,s=t.Series._LEGEND_ITEM_HEIGHT;i.drawRect(r.left+h,c-.5*s,l,s,null);f&&t.FlexChart._renderText(i,f,new n.Point(r.left+s+2*h,c),0,1,t.FlexChart._CSS_LABEL)},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,t){if(typeof t=="undefined"&&(t=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=n,this._highlight(!0,this._selectionIndex,t),this.selectionMode==2){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(n),this._notifyCurrentChanged=!0)}!this.isAnimated&&(this.selectedItemOffset>0||this.selectedItemPosition!=0)&&this.invalidate()},e.prototype._highlightCurrent=function(){if(this.selectionMode!=0){var n=-1,t=this._cv;t&&(n=t.currentPosition);this._highlight(!0,n)}},e.prototype._highlight=function(n,i,r){var u,h,f,e,o,s,c,l;typeof r=="undefined"&&(r=!1);this.selectionMode==2&&i!==undefined&&i!==null&&i>=0&&(u=this._pels[i],n?(u.parentNode.appendChild(u),h=this._find(u,["ellipse"]),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),f=this._angles[i],this.selectedItemPosition!=0&&f!=0&&(e=0,this.selectedItemPosition==1?e=180:this.selectedItemPosition==2?e=-90:this.selectedItemPosition==4&&(e=90),o=e*Math.PI/180-f,o*=180/Math.PI,r&&this.isAnimated?this._animateSelectionAngle(o,.5):(this._rotationAngle=o,this._pieGroup.transform.baseVal.getItem(0).setRotate(o,this._center.x,this._center.y))),s=this.selectedItemOffset,s>0&&h.length==0&&(c=this._selectedOffset.x=Math.cos(f)*s*this._radius,l=this._selectedOffset.y=Math.sin(f)*s*this._radius,u.setAttribute("transform","translate("+c.toFixed()+","+l.toFixed()+")")),this._selectedIndex=i):(u.parentNode.insertBefore(u,u.parentNode.childNodes.item(i)),u.removeAttribute("transform"),this._highlightItems(this._find(u,["path","ellipse"]),t.FlexChart._CSS_SELECTION,n),this._selectedIndex==i&&(this._selectedIndex=-1)))},e.prototype._animateSelectionAngle=function(t,r){var f=i.clampAngle(this._rotationAngle);t=i.clampAngle(t);var e=t-f,u=this,o=f,s=u._pieGroup;u._selectionAnimationID&&clearInterval(this._selectionAnimationID);this._selectionAnimationID=n.animate(function(n){s==u._pieGroup&&(u._rotationAngle=f=o+e*n,u._pieGroup.transform.baseVal.getItem(0).setRotate(f,u._center.x,u._center.y),n==1&&clearInterval(u._selectionAnimationID),n>.99&&(u.selectedItemOffset>0||u.selectedItemPosition!=0)&&u.invalidate())},r*1e3)},e._MARGIN=4,e}(t.FlexChartBase);t.FlexPie=f;var i=function(){function n(){}return n.clampAngle=function(n){var t=(n+180)%360-180;return t<-180&&(t+=360),t},n}(),r=function(){function n(n,t,r,u){this._isFull=!1;this._center=n;this._radius=t;u>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*u*180/Math.PI;this._angle=i.clampAngle(r*180/Math.PI+this._sweep);this._radius2=t*t}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,e=t*t+r*r,u,f;return e<=this._radius2&&(u=Math.atan2(r,t)*180/Math.PI,f=i.clampAngle(this._angle)-i.clampAngle(u),this._isFull||Math.abs(f)<=this._sweep)?!0:!1},n.prototype.distance=function(n){if(this.contains(n))return 0;var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle)-i.clampAngle(f);return this._isFull||Math.abs(e)<=this._sweep?Math.sqrt(u)-this._radius:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),n}(),u=function(){function n(n,t,r,u,f){this._isFull=!1;this._center=n;this._radius=t;this._iradius=r;f>=2*Math.PI&&(this._isFull=!0);this._sweep=.5*f*180/Math.PI;this._angle=i.clampAngle(u*180/Math.PI+this._sweep);this._radius2=t*t;this._iradius2=r*r}return n.prototype.contains=function(n){var t=n.x-this._center.x,r=n.y-this._center.y,u=t*t+r*r,f,e;return u>=this._iradius2&&u<=this._radius2&&(f=Math.atan2(r,t)*180/Math.PI,e=i.clampAngle(this._angle-f),this._isFull||Math.abs(e)<=this._sweep)?!0:!1},n.prototype.distance=function(n){return this.contains(n)?0:undefined},Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),n}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var e,o,f,i,r,u;(function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"})(t.Stacking||(t.Stacking={}));e=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));o=t.SelectionMode;f=function(f){function e(i,e){var o,s,h;f.call(this,i,null,!0);this._series=new n.collections.ObservableArray;this._axes=new t.AxisCollection;this._pareas=new t.PlotAreaCollection;this._axisX=new t.Axis(4);this._axisY=new t.Axis(1);this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new r;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this._plotters=[];this._rotated=!1;this._stacking=0;this._xlabels=[];this._xvals=[];this._lblAreas=[];this.selectionChanged=new n.Event;this.seriesVisibilityChanged=new n.Event;this.applyTemplate("wj-control wj-flexchart",null,null);o=this;o._series.collectionChanged.addHandler(function(){for(var t,r=o._series,i=0;i<r.length;i++){if(t=n.tryCast(r[i],n.chart.SeriesBase),!t)throw"chartSeries array must contain SeriesBase objects.";t._chart=o;t.axisX&&(t.axisX._chart=o);t.axisY&&(t.axisY._chart=o)}o.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._hitTester=new t._HitTester(this);this._legend=new t.Legend(this);this._tooltip=new u;this._tooltip.showDelay=0;this._lbl=new t.DataLabel;this._lbl._chart=this;s=this._axisX;h=this._axisY;this._axisX.majorGrid=!1;this._axisX.name="axisX";this._axisY.majorGrid=!0;this._axisY.majorTickMarks=0;this._axisY.name="axisY";s._chart=this;h._chart=this;this._axes.push(s);this._axes.push(h);o._axes.collectionChanged.addHandler(function(){for(var i,r=o._axes,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Axis),!i)throw"axes array must contain Axis objects.";i._chart=o}o.refresh()});o._pareas.collectionChanged.addHandler(function(){for(var i,r=o._pareas,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.PlotArea),!i)throw"plotAreas array must contain PlotArea objects.";i._chart=o}o.refresh()});this._keywords=new t._KeyWords;this.hostElement.addEventListener("click",function(t){var r=o._tooltip,f=r.content,i,u;f&&o.isTouching&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getLabelContent(i,o._tooltip.content),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())});this.hostElement.addEventListener("mousemove",function(t){var r=o._tooltip,f=r.content,i,u;f&&!o.isTouching&&(i=o.hitTest(t),i.distance<=r.threshold?(u=o._getLabelContent(i,o._tooltip.content),o._showToolTip(u,new n.Rect(t.clientX,t.clientY,5,5))):o._hideToolTip())});this.hostElement.addEventListener("click",function(n){if(o.selectionMode!=0){var i=o._hitTestData(n),r=t.FlexChart._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(r=o.tooltip.threshold);i.distance<=r&&i.series?o._select(i.series,i.pointIndex):o.selectionMode==1?(i=o.hitTest(n),i.chartElement==4&&i.series?o._select(i.series,null):o._select(null,null)):o._select(null,null)}o.legendToggle===!0&&(i=o.hitTest(n),i.chartElement==4&&i.series&&(i.series.visibility==2?i.series.visibility=0:i.series.visibility==0&&(i.series.visibility=2)))});this.initialize(e)}return __extends(e,f),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisX",{get:function(){return this._axisX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"axisY",{get:function(){return this._axisY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataLabel",{get:function(){return this._lbl},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},set:function(i){i!=this._selection&&(this._selection=n.asType(i,t.SeriesBase,!0),this.invalidate())},enumerable:!0,configurable:!0}),e.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},e.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},e.prototype.hitTest=function(n,i){var u=this._toControl(n,i),r=new t.HitTestInfo(this,u),s=null,c,o,h;if(t.FlexChart._contains(this._rectHeader,u))r._chartElement=5;else if(t.FlexChart._contains(this._rectFooter,u))r._chartElement=6;else if(t.FlexChart._contains(this._rectLegend,u))r._chartElement=4,s=this.legend._hitTest(u),s!==null&&s>=0&&s<this.series.length&&r._setData(this.series[s]);else if(t.FlexChart._contains(this._rectChart,u))if(c=this._hitTestLabels(u),c)r._chartElement=9,r._dist=0,r._setDataPoint(c.tag);else{var e=this._hitTester.hitTest(u),f=null,l=null;for(o=this.series.length-1;o>=0;o--)if(this.series[o].hitTest!==t.Series.prototype.hitTest&&(h=this.series[o].hitTest(n),h&&((!f||h.distance<f.distance)&&(f=h,l=o),h.distance===0)))break;e&&e.area?f&&f.distance<e.distance?r=f:f&&f.distance==e.distance&&l>e.area.tag.seriesIndex?r=f:(r._setDataPoint(e.area.tag),r._dist=e.distance):f&&(r=f);t.FlexChart._contains(this.axisX._axrect,u)?r._chartElement=1:t.FlexChart._contains(this.axisY._axrect,u)?r._chartElement=2:t.FlexChart._contains(this._plotRect,u)?r._chartElement=0:t.FlexChart._contains(this._rectChart,u)&&(r._chartElement=3)}else r._chartElement=10;return r},e.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},e.prototype.dataToPoint=function(t,i){n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i));n.asType(t,n.Point);var r=t.clone();return r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),r},e.prototype._copy=function(t,i){var u,r,f;if(t=="series"){for(u=n.asArray(i),r=0;r<u.length;r++)f=this._createSeries(),n.copy(f,u[r]),this.series.push(f);return!0}return!1},e.prototype._createSeries=function(){return new t.Series},e.prototype._clearCachedValues=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},e.prototype._performBind=function(){var i,u,r,f,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(u=i.length,r=0;r<u;r++)f=i[r],this._bindingX&&(t=f[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=2):n.isDate(t)&&(this._xvals.push(n.asDate(t).valueOf()),this._xDataType=4),this._xlabels.push(f[this._bindingX]));this._xvals.length==u?this._xlabels.splice(0):this._xvals.splice(0)}},e.prototype._hitTestSeries=function(n,i){var f=this._toControl(n),r=new t.HitTestInfo(this,f),e=i,u=this._hitTester.hitTestSeries(f,i);return u&&u.area&&(r._setDataPoint(u.area.tag),r._chartElement=0,r._dist=u.distance),r},e.prototype._hitTestData=function(n){var u=this._toControl(n),r=new t.HitTestInfo(this,u),i=this._hitTester.hitTest(u,!0);return i&&i.area&&(r._setDataPoint(i.area.tag),r._dist=i.distance),r},e.prototype._hitTestLabels=function(n){for(var i=null,r=this._lblAreas.length,t=0;t<r;t++)if(this._lblAreas[t].contains(n)){i=this._lblAreas[t];break}return i},e._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},e._dist=function(n,i,r){return Math.sqrt(t.FlexChart._distToSegmentSquared(n,i,r))},e._distToSegmentSquared=function(i,r,u){var e=t.FlexChart._dist2(r,u),f;return e==0?t.FlexChart._dist2(i,r):(f=((i.x-r.x)*(u.x-r.x)+(i.y-r.y)*(u.y-r.y))/e,f<0)?t.FlexChart._dist2(i,r):f>1?t.FlexChart._dist2(i,u):t.FlexChart._dist2(i,new n.Point(r.x+f*(u.x-r.x),r.y+f*(u.y-r.y)))},e.prototype._isRotated=function(){return this._getChartType()==1?!this._rotated:this._rotated},e.prototype._getChartType=function(){return null},e.prototype._render=function(i){var lt=this.hostElement,et=this._getHostSize(),f=et.width,e=et.height,ot,rt,o,l,r,w,b,c,k,d,g,st,ht,a,ut,v,nt,tt,ft,h,u,s,p;if((f==0||isNaN(f))&&(f=t.FlexChart._WIDTH),(e==0||isNaN(e))&&(e=t.FlexChart._HEIGHT),ot=new n.Size(f,e),i.beginRender(),f>0&&e>0){i.setViewportSize(f,e);this._hitTester.clear();rt=this.legend;r=new n.Rect(0,0,f,e);this._rectChart=r.clone();i.startGroup(t.FlexChart._CSS_HEADER);r=this._drawTitle(i,r,this.header,this.headerStyle,!1);i.endGroup();i.startGroup(t.FlexChart._CSS_FOOTER);r=this._drawTitle(i,r,this.footer,this.footerStyle,!0);i.endGroup();f=r.width;e=r.height;w=rt._getPosition(f,e);o=rt._getDesiredSize(i,w,f,e);switch(w){case 3:f-=o.width;l=new n.Point(f,r.top+.5*(e-o.height));break;case 1:r.left+=o.width;f-=o.width;l=new n.Point(0,r.top+.5*(e-o.height));break;case 2:e-=o.height;l=new n.Point(.5*(f-o.width),r.top);r.top+=o.height;break;case 4:e-=o.height;l=new n.Point(.5*(f-o.width),r.top+e)}if(r.width=f,r.height=e,s=this._getPlotter(null),s.stacking=this._stacking,this._curPlotter!=s&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=s),s.load(),b=this._isRotated(),this._dataInfo.analyse(this._series,b,s.stacking,this._xvals.length>0?this._xvals:null,this.axisX.logBase>0,this.axisY.logBase>0),c=s.adjustLimits(this._dataInfo,r.clone()),b?(k=this._dataInfo.getDataTypeX(),k||(k=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),c.left,c.right),this.axisY._updateActualLimits(k,c.top,c.bottom,this._xlabels,this._xvals)):(d=this._dataInfo.getDataTypeX(),d||(d=this._xDataType),this.axisX._updateActualLimits(d,c.left,c.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),c.top,c.bottom)),g=this._getAxes(),this._updateAuxAxes(g,b),this._layout(r,ot,i),i.startGroup(t.FlexChart._CSS_PLOT_AREA),i.fill="transparent",i.stroke=null,st=this.plotAreas.length,st>0)for(h=0;h<this.plotAreas.length;h++)ht=this.plotAreas[h],ht._render(i);else a=this._plotRect,i.drawRect(a.left,a.top,a.width,a.height);for(i.endGroup(),ut=this._series.length,this._clearPlotters(),v={},h=0;h<ut;h++)u=this._series[h],nt=u._getAxisY(),nt&&nt!=this.axisY&&(tt=nt._uniqueId,v[tt]?v[tt].count+=1:v[tt]={count:1,index:0}),s=this._getPlotter(u),s.seriesCount++;this.onRendering(new t.RenderEventArgs(i));for(h=0;h<g.length;h++)ft=g[h],ft.axisType==0?i.startGroup(t.FlexChart._CSS_AXIS_X):i.startGroup(t.FlexChart._CSS_AXIS_Y),ft._render(i),i.endGroup();for(i.startGroup(),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),i.addClipRect(this._plotRect,this._plotrectId),h=0;h<ut;h++){u=this._series[h];u._pointIndexes=[];s=this._getPlotter(u);u._hostElement=i.startGroup(u.cssClass,s.clipping?this._plotrectId:null);var ct=u.visibility,it=u.axisX,y=u.axisY;if(it||(it=this.axisX),y||(y=this.axisY),ct==0||ct==1)if(p=v[y._uniqueId],p){if(u.rendering.hasHandlers)u.onRendering(i);else s.plotSeries(i,it,y,u,this,p.index,p.count);p.index++}else if(u.rendering.hasHandlers)u.onRendering(i);else s.plotSeries(i,it,y,u,this,s.seriesIndex,s.seriesCount),s.seriesIndex++;i.endGroup()}i.endGroup();this.dataLabel.content&&this.dataLabel.position!=0&&this._renderLabels(i);o?(this._legendHost=i.startGroup(t.FlexChart._CSS_LEGEND),this._rectLegend=new n.Rect(l.x,l.y,o.width,o.height),i.textFill=t.FlexChart._FG,this.legend._render(i,l,w,o.width,o.height),i.textFill=null,i.endGroup()):(this._legendHost=null,this._rectLegend=null);this._highlightCurrent();this.onRendered(new t.RenderEventArgs(i))}i.endRender()},e.prototype._renderLabels=function(i){var a,d,v,it,y,h,b,p,k,u,g;this._lblAreas=[];var s=this.dataLabel,ut=s.position,nt=this.series,ft=nt.length,tt=s.border;i.stroke="null";i.fill="transparent";i.strokeWidth=1;var e=2,f=s.offset,c=s.connectingLine;f===undefined&&(f=c?16:0);tt&&(f-=e);var l="wj-data-label",w="wj-data-label-line";for(i.startGroup(),a=0;a<ft;a++)if(d=nt[a],v=this._hitTester._map[a],v)for(it=v.length,y=0;y<it;y++)if(h=n.asType(v[y].tag,t._DataPoint,!0),h){b=new t.HitTestInfo(this,r);b._setDataPoint(h);var o=this._getLabelContent(b,s.content),et=d._getAxisX(),ot=d._getAxisY(),r=new n.Point(et.convert(h.dataX),ot.convert(h.dataY)),rt=v[y];if(rt instanceof t._RectArea&&(p=rt,this._isRotated()?r.y=p.rect.top+.5*p.rect.height:r.x=p.rect.left+.5*p.rect.width),!this._plotRect.contains(r))continue;if(k=new t.DataLabelRenderEventArgs(i,b,r,o),!s.onRendering(k)){o=k.text;r=k.point;switch(ut){case 2:c&&i.drawLine(r.x,r.y,r.x,r.y-f,w);r.y-=e+f;u=t.FlexChart._renderText(i,o,r,1,2,l);break;case 4:c&&i.drawLine(r.x,r.y,r.x,r.y+f,w);r.y+=e+f;u=t.FlexChart._renderText(i,o,r,1,0,l);break;case 1:c&&i.drawLine(r.x,r.y,r.x-f,r.y,w);r.x-=e+f;u=t.FlexChart._renderText(i,o,r,2,1,l);break;case 3:c&&i.drawLine(r.x,r.y,r.x+f,r.y,w);r.x+=e+f;u=t.FlexChart._renderText(i,o,r,0,1,l);break;case 5:u=t.FlexChart._renderText(i,o,r,1,1,l)}tt&&u&&i.drawRect(u.left-e,u.top-e,u.width+2*e,u.height+2*e,"wj-data-label-border");u&&(g=new t._RectArea(u),g.tag=h,this._lblAreas.push(g))}}i.endGroup()},e.prototype._getAxes=function(){for(var u,t,i,n=[this.axisX,this.axisY],f=this.series.length,r=0;r<f;r++)u=this.series[r],t=u.axisX,t&&n.indexOf(t)===-1&&n.push(t),i=u.axisY,i&&n.indexOf(i)===-1&&n.push(i);return n},e.prototype._clearPlotters=function(){for(var t=this._plotters.length,n=0;n<t;n++)this._plotters[n].clear()},e.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester;this._plotters.push(n)},Object.defineProperty(e.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new t._BarPlotter,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new t._LinePlotter,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new t._AreaPlotter,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new t._BubblePlotter,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new t._FinancePlotter,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),e.prototype._getPlotter=function(n){var u=this._getChartType(),f=!1,r,t,i;n&&(r=n._getChartType(),r!==null&&r!==undefined&&r!=u&&(u=r,f=!0));switch(u){case 0:this._barPlotter.isVolume=!1;this._barPlotter.width=.7;t=this._barPlotter;break;case 1:this._barPlotter.rotated=!this._rotated;this._barPlotter.isVolume=!1;this._barPlotter.width=.7;t=this._barPlotter;break;case 3:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 2:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 4:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!1;t=this._linePlotter;break;case 5:this._areaPlotter.isSpline=!1;t=this._areaPlotter;break;case 6:t=this._bubblePlotter;break;case 7:i=this._financePlotter;i.isCandle=!0;i.isEqui=!1;i.isArms=!1;i.isVolume=!1;t=i;break;case 8:i=this._financePlotter;i.isCandle=!1;i.isEqui=!1;i.isArms=!1;i.isVolume=!1;t=i;break;case 9:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 10:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;this._linePlotter.isSpline=!0;t=this._linePlotter;break;case 11:this._areaPlotter.isSpline=!0;t=this._areaPlotter;break;default:throw"Invalid chart type.";}return t.rotated=this._rotated,u==1&&(t.rotated=!t.rotated),f&&(t.rotated=this._isRotated()),t},e.prototype._layout=function(n,t,i){this.plotAreas.length>0?this._layoutMultiple(n,t,i):this._layoutSingle(n,t,i)},e.prototype._layoutSingle=function(t,i,r){for(var f,tt,p,u,o,w,g,it,nt,s=t.width,h=t.height,ut=new n.Size(s,.75*h),ft=new n.Size(h,.75*s),c=0,l=0,b=s,k=h,y=0,e=0,a=s,v=h,rt=this._getAxes(),d=0;d<rt.length;d++)u=rt[d],o=u.origin,u.axisType==0?(f=u._getHeight(r),f>ut.height&&(f=ut.height),u._desiredSize=new n.Size(ut.width,f),tt=u._hasOrigin=n.isNumber(o)&&o>this.axisY._getMinNum()&&o<this.axisY._getMaxNum(),u.position==4?(c=Math.max(c,u._annoSize.width*.5),b=Math.min(b,s-u._annoSize.width*.5),tt?(g=this._convertY(o,e,v),v=v-Math.max(0,g+f-v)):v=v-f):u.position==2&&(c=Math.max(c,u._annoSize.width*.5),b=Math.min(b,s-u._annoSize.width*.5),tt?(g=this._convertY(o,e,v),e=e+Math.max(0,e-(g-f))):e=e+f)):u.axisType==1&&(f=u._getHeight(r),f>ft.height&&(f=ft.height),u._desiredSize=new n.Size(ft.width,f),tt=u._hasOrigin=n.isNumber(o)&&o>this.axisX._getMinNum()&&o<this.axisX._getMaxNum(),u.position==1?(l=Math.max(l,u._annoSize.width*.5),k=Math.min(k,h-u._annoSize.width*.5),tt?(nt=this._convertX(o,y,a),y+=Math.max(0,y-(nt-f))):y+=f):u.position==3&&(l=Math.max(l,u._annoSize.width*.5),k=Math.min(k,h-u._annoSize.width*.5),tt?(nt=this._convertX(o,y,a),a=a-Math.max(0,nt+f-a)):a=a-f));for(p=this._parseMargin(this.plotMargin),c=isNaN(p.left)?y=Math.max(c,y)+t.left:y=p.left,b=isNaN(p.right)?a=Math.min(b,a)+t.left:a=i.width-p.right,l=isNaN(p.top)?e=Math.max(l,e)+t.top:e=p.top,k=isNaN(p.bottom)?v=Math.min(k,v)+t.top:v=i.height-p.bottom,s=Math.max(1,b-c),h=Math.max(1,k-l),this._plotRect=new n.Rect(c,l,s,h),r.stroke=null,d=0;d<rt.length;d++)u=rt[d],o=u.origin,u.axisType==0?(u._hasOrigin?(g=this._convertY(o,this._plotRect.top,this._plotRect.bottom),u.position==4?(w=new n.Rect(c,g,s,u._desiredSize.height),v+=Math.max(0,w.bottom-this._plotRect.bottom)):u.position==2&&(w=new n.Rect(c,g-u._desiredSize.height,s,u._desiredSize.height),e-=Math.max(0,this._plotRect.top-w.top))):u.position==4?(w=new n.Rect(c,v,s,u._desiredSize.height),v+=u._desiredSize.height):u.position==2?(w=new n.Rect(c,e-u._desiredSize.height,s,u._desiredSize.height),e-=u._desiredSize.height):w=new n.Rect(c,e,s,1),u._layout(w,this._plotRect)):u.axisType==1&&(u._hasOrigin?(nt=this._convertX(o,this._plotRect.left,this._plotRect.right),u.position==1?(it=new n.Rect(nt-u._desiredSize.height,l,h,u._desiredSize.height),y-=u._desiredSize.height):u.position==3&&(it=new n.Rect(nt,l,h,u._desiredSize.height),a+=u._desiredSize.height)):u.position==1?(it=new n.Rect(y-u._desiredSize.height,l,h,u._desiredSize.height),y-=u._desiredSize.height):u.position==3?(it=new n.Rect(a,l,h,u._desiredSize.height),a+=u._desiredSize.height):it=new n.Rect(y,l,h,1),u._layout(it,this._plotRect))},e.prototype._layoutMultiple=function(t,r,u){for(var vt,yt,ht,ct,g,s,nt,bt,it,gt,h,e,rt,f,at,kt,tt,y=t.width,p=t.height,w=[],b=[],dt=this._getAxes(),ni=dt.length,o=0;o<ni;o++)if(f=dt[o],f.axisType==0){for(vt=f.plotArea?f.plotArea.column:0;w.length<=vt;)w.push(new i);w[vt].axes.push(f)}else if(f.axisType==1){for(yt=f.plotArea?f.plotArea.row:0;b.length<=yt;)b.push(new i);b[yt].axes.push(f)}var ut=w.length,ft=b.length,pt=new n.Size(y,.3*p),wt=new n.Size(p,.3*y),k=0,d=0,ot=y,st=p;for(s=0;s<ut;s++)for(e=w[s],e.right=y,e.bottom=p,o=0;o<e.axes.length;o++)f=e.axes[o],ht=f._getHeight(u),ht>pt.height&&(ht=pt.height),ct=new n.Size(pt.width,ht),f._desiredSize=ct,s==0&&(e.left=Math.max(e.left,f._annoSize.width*.5)),s==ut-1&&(e.right=Math.min(e.right,y-f._annoSize.width*.5)),f.position==4?e.bottom-=ct.height:f.position==2&&(e.top+=ct.height);for(h=0;h<ft;h++)for(e=b[h],e.right=y,e.bottom=p,o=0;o<e.axes.length;o++)f=e.axes[o],g=new n.Size(wt.width,f._getHeight(u)),g.height>wt.height&&(g.height=wt.height),f._desiredSize=g,h==0&&(e.top=Math.max(e.top,f._annoSize.width*.5)),h==ft-1&&(e.bottom=Math.min(e.bottom,p-f._annoSize.width*.5)),f.position==1?e.left+=g.height:f.position==3&&(e.right-=g.height);var c=0,l=0,a=y,v=p;for(s=0;s<ut;s++)e=w[s],c=Math.max(c,e.left),l=Math.max(l,e.top),a=Math.min(a,e.right),v=Math.min(v,e.bottom);for(h=0;h<ft;h++)e=b[h],c=Math.max(c,e.left),l=Math.max(l,e.top),a=Math.min(a,e.right),v=Math.min(v,e.bottom);c=k=Math.max(k,c);a=ot=Math.min(ot,a);l=d=Math.max(d,l);v=st=Math.min(st,v);this._plotRect=new n.Rect(k,d,ot-k,st-d);var lt=this._plotRect.clone(),et=k,ti=this.plotAreas._calculateWidths(this._plotRect.width,ut);for(s=0;s<ut;s++){for(v=st,l=d,e=w[s],nt=ti[s],o=0;o<e.axes.length;o++)f=e.axes[o],at=new n.Rect(et,lt.top,nt,lt.height),f.position==4?(bt=new n.Rect(et,v,nt,f._desiredSize.height),v+=f._desiredSize.height):f.position==2&&(bt=new n.Rect(et,l-f._desiredSize.height,nt,f._desiredSize.height),l-=f._desiredSize.height),f._layout(bt,at);for(o=0;o<this.plotAreas.length;o++)tt=this.plotAreas[o],tt.column==s&&tt._setPlotX(et,nt);et+=nt}for(it=d,gt=this.plotAreas._calculateHeights(this._plotRect.height,ft),h=0;h<ft;h++){for(c=k,a=ot,e=b[h],rt=gt[h],o=0;o<e.axes.length;o++)f=e.axes[o],at=new n.Rect(lt.left,it,lt.width,rt),f.position==1?(kt=new n.Rect(c-f._desiredSize.height,it,rt,f._desiredSize.height),c-=f._desiredSize.height):f.position==3&&(kt=new n.Rect(a,it,rt,f._desiredSize.height),a+=f._desiredSize.height),f._layout(kt,at);for(o=0;o<this.plotAreas.length;o++)tt=this.plotAreas[o],tt.row==h&&tt._setPlotY(it,rt);it+=rt}},e.prototype._convertX=function(n,t,i){var r=this.axisX;return r.reversed?i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},e.prototype._convertY=function(n,t,i){var r=this.axisY;return r.reversed?t+(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):i-(i-t)*(n-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},e.prototype._getLabelContent=function(t,i){return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},e.prototype._select=function(n,t){if(this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=n,this._selectionIndex=t,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==2&&n){var i=n.collectionView;i||(i=this._cv);i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}this.onSelectionChanged()},e.prototype._highlightCurrent=function(){var t,i,n;this.selectionMode!=0&&(t=this._selection,i=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(i=n.currentPosition),this._highlight(t,!0,i)))},e.prototype._highlight=function(i,r,u){var s,f,o,e;i=n.asType(i,t.SeriesBase,!0);this.selectionMode==1?(s=this.series.indexOf(i),f=i.hostElement,r?f.parentNode.appendChild(f):f.parentNode.insertBefore(f,f.parentNode.childNodes.item(s)),e=this._find(f,["rect","ellipse","polyline","polygon","line"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r),i.legendElement&&this._highlightItems(this._find(i.legendElement,["rect","ellipse","line"]),t.FlexChart._CSS_SELECTION,r)):this.selectionMode==2&&(s=this.series.indexOf(i),f=i.hostElement,r?(f.parentNode.appendChild(f),o=i.getPlotElement(u),o&&(o.nodeName!="g"&&this._highlightItems([o],t.FlexChart._CSS_SELECTION,r),e=this._find(o,["line","rect","ellipse"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r))):(f.parentNode.insertBefore(f,f.parentNode.childNodes.item(s)),e=this._find(f,["rect","ellipse","line"]),this._highlightItems(e,t.FlexChart._CSS_SELECTION,r)))},e.prototype._updateAuxAxes=function(n,t){for(var e,s,h,u,f,r,i,o=2;o<n.length;o++){for(e=n[o],e._chart=this,s=[],r=0;r<this.series.length;r++)h=this.series[r],(h.axisX==e||h.axisY==e)&&s.push(h);for(r=0;r<s.length;r++)i=s[r]._getDataRect(),i&&(e.axisType==0&&!t||e.axisType==1&&t?((u===undefined||i.left<u)&&(u=i.left),(f===undefined||i.right>f)&&(f=i.right)):((u===undefined||i.top<u)&&(u=i.top),(f===undefined||i.bottom>f)&&(f=i.bottom)));n[o]._updateActualLimits(2,u,f)}},e._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},e._intersects=function(n,t){return n.left>t.right||n.right<t.left||n.top>t.bottom||n.bottom<t.top?!1:!0},e._toOADate=function(n){return n.valueOf()},e._fromOADate=function(n){return new Date(n)},e._renderText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,e,o,s),l=r.x,a=r.y,v;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}return v=new n.Rect(l,a-c.height,c.width,c.height),h?h(v)?(t.drawString(i,new n.Point(l,a),e,s),v):null:(t.drawString(i,new n.Point(l,a),e,s),v)},e._renderRotatedText=function(t,i,r,u,f,e,o,s,h){var c=t.measureString(i,s,h),l=r.x,a=r.y;switch(u){case 1:l-=.5*c.width;break;case 2:l-=c.width}switch(f){case 1:a+=.5*c.height;break;case 0:a+=c.height}t.drawStringRotated(i,new n.Point(l,a),e,o,s,h)},e._CSS_AXIS_X="wj-axis-x",e._CSS_AXIS_Y="wj-axis-y",e._CSS_LINE="wj-line",e._CSS_GRIDLINE="wj-gridline",e._CSS_TICK="wj-tick",e._CSS_GRIDLINE_MINOR="wj-gridline-minor",e._CSS_TICK_MINOR="wj-tick-minor",e._CSS_LABEL="wj-label",e._CSS_LEGEND="wj-legend",e._CSS_HEADER="wj-header",e._CSS_FOOTER="wj-footer",e._CSS_TITLE="wj-title",e._CSS_SELECTION="wj-state-selected",e._CSS_PLOT_AREA="wj-plot-area",e._FG="#666",e._epoch=new Date(1899,11,30).getTime(),e._msPerDay=864e5,e}(t.FlexChartBase);t.FlexChartCore=f;i=function(){function n(){this._axes=[];this.left=0;this.right=0;this.top=0;this.bottom=0}return Object.defineProperty(n.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),n}();r=function(){function t(){this.stackAbs={};this._xvals=null}return t.prototype.analyse=function(i,r,u,f,e,o){var ut,v,y,a,w,b,nt,l,s,h,p,tt,it,rt;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;this.minXp=NaN;this.minYp=NaN;this.dx=0;var k={},d={},g={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=f,f!=null)for(ut=f.length,v=0;v<ut;v++)h=f[v],(isNaN(this.minX)||this.minX>h)&&(this.minX=h),(isNaN(this.maxX)||this.maxX<h)&&(this.maxX=h),h>0&&(isNaN(this.minXp)||this.minXp>h)&&(this.minXp=h),v>0&&(w=Math.abs(h-f[v-1]),!isNaN(w)&&(w<this.dx||this.dx==0)&&(this.dx=w));for(v=0;v<i.length;v++){var c=i[v],et=c.chartType!==undefined,ft=c.visibility;if(ft!=3&&ft!=2){if(y=c.getDataRect(),y){(isNaN(this.minX)||this.minX>y.left)&&(this.minX=y.left);(isNaN(this.maxX)||this.maxX<y.right)&&(this.maxX=y.right);(isNaN(this.minY)||this.minY>y.top)&&(this.minY=y.top);(isNaN(this.maxY)||this.maxY<y.bottom)&&(this.maxY=y.bottom);continue}if(a=null,r?c._isCustomAxisY()||(a=c.getValues(1)):c._isCustomAxisX()||(a=c.getValues(1)),a)for(this.dataTypeX||(this.dataTypeX=c.getDataType(1)),l=0;l<a.length;l++)s=a[l],t.isValid(s)&&((isNaN(this.minX)||this.minX>s)&&(this.minX=s),(isNaN(this.maxX)||this.maxX<s)&&(this.maxX=s),l>0&&(w=Math.abs(s-a[l-1]),!isNaN(w)&&(w<this.dx||this.dx==0)&&(this.dx=w)));if(b=null,nt=!1,r?(nt=c._isCustomAxisX(),b=c.getValues(0)):(nt=c._isCustomAxisY(),b=c.getValues(0)),b&&(this.dataTypeY||nt||(this.dataTypeY=c.getDataType(0)),isNaN(this.minX)?this.minX=0:a||f||(this.minX=Math.min(this.minX,0)),isNaN(this.maxX)?this.maxX=b.length-1:a||f||(this.maxX=Math.max(this.maxX,b.length-1)),!nt))for(l=0;l<b.length;l++)s=b[l],h=a?n.asNumber(a[l],!0):f?n.asNumber(f[l],!0):l,t.isValid(s)&&((isNaN(this.minY)||this.minY>s)&&(this.minY=s),(isNaN(this.maxY)||this.maxY<s)&&(this.maxY=s),et||(s>0?(isNaN(k[h])?k[h]=s:k[h]+=s,(isNaN(this.minYp)||this.minYp>s)&&(this.minYp=s)):isNaN(d[h])?d[h]=s:d[h]+=s,isNaN(g[h])?g[h]=Math.abs(s):g[h]+=Math.abs(s)))}}if(u==1){for(p in k)k[p]>this.maxY&&(this.maxY=k[p]);for(p in d)d[p]<this.minY&&(this.minY=d[p])}else if(u==2){this.minY=0;this.maxY=1;for(p in g)tt=g[p],isFinite(tt)&&tt!=0&&(it=k[p],rt=d[p],isFinite(it)&&(it=Math.min(it/tt,this.maxY)),isFinite(rt)&&(rt=Math.max(rt/tt,this.minY)))}this.stackAbs=g;e&&(r?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp);o&&(r?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinXp=function(){return this.minXp},t.prototype.getMinYp=function(){return this.minYp},t.prototype.getDeltaX=function(){return this.dx},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(n){return isFinite(n)},t}();t._DataInfo=r;u=function(t){function i(){t.call(this);this._content="<b>{seriesName}<\/b><br/>{x} {y}";this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=u})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose";n[n.Spline=9]="Spline";n[n.SplineSymbols=10]="SplineSymbols";n[n.SplineArea=11]="SplineArea"})(t.ChartType||(t.ChartType={}));var i=t.ChartType,r=function(r){function u(n,t){r.call(this,n,null);this._chartType=0;this.initialize(t)}return __extends(u,r),u.prototype._getChartType=function(){return this._chartType},Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(i){i!=this._stacking&&(this._stacking=n.asEnum(i,t.Stacking),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),u}(t.FlexChartCore);t.FlexChart=r})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var e,c,o,f,s,h,i,r,u;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Auto=5]="Auto"})(t.Position||(t.Position={}));e=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));c=t.AxisType,function(n){n[n.Auto=0]="Auto";n[n.Show=1]="Show"}(t.OverlappingLabels||(t.OverlappingLabels={}));o=t.OverlappingLabels,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));f=t.TickMark;s=function(){function i(t){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._majorGrid=!1;this._minorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this.rangeChanged=new n.Event;this._customConvert=null;this._customConvertBack=null;this.__uniqueId=i._id++;this._position=t;t==4||t==2?this._axisType=0:(this._axisType=1,this._axisLine=!1);this._minorTickMarks=0;this._overlap=0}return Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=n.isDate(t)?n.asDate(t,!0):n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=n.asBoolean(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,e,!1),this._axisType=this._position==4||this._position==2?0:1,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){t!=this._minorTickMarks&&(this._minorTickMarks=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){t!=this._overlap&&(this._overlap=n.asEnum(t,o,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._items!=t&&(this._ifmt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"plotArea",{get:function(){return this._parea},set:function(i){i!=this._parea&&(this._parea=n.asType(i,t.PlotArea,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.onRangeChanged=function(){this.rangeChanged.raise(this)},i.prototype._getHeight=function(i){var a=t.FlexChart._CSS_LABEL,b=t.FlexChart._CSS_TITLE,y=this._actualMax-this._actualMin,v=this._nicePrecision(y),o,s,c,e,r,f,w,h,u;if((v<0||v>15)&&(v=0),o=.1*y,s=this._lbls,this.labels){if(o=this._updateAutoFormat(o),s!=null&&s.length>0)for(this._annoSize=new n.Size,c=0;c<s.length;c++)r=i.measureString(s[c],a),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);else e=this._formatValue(this._actualMin-o),r=i.measureString(e,a),this._annoSize=r,e=this._formatValue(this._actualMax+o),r=i.measureString(e,a),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);if(this.labelAngle){var l=this.labelAngle*Math.PI/180,p=this._annoSize.width,f=this._annoSize.height;this._annoSize.width=p*Math.abs(Math.cos(l))+f*Math.abs(Math.sin(l));this._annoSize.height=p*Math.abs(Math.sin(l))+f*Math.abs(Math.cos(l))}}else this._annoSize=new n.Size;return f=2,f+=this._axisType==0?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,w=this._TICK_HEIGHT,h=this._TICK_OVERLAP,u==1?h=1:u==2?h=-1:u==3&&(h=0),u=this.majorTickMarks,(u===undefined||u===null)&&(u=1),u!=0&&(f+=.5*(1+h)*w),this._title&&(e=this._title,this._szTitle=i.measureString(e,b),f+=this._szTitle.height),i.fontSize=null,f},i.prototype._updateAutoFormat=function(n){if(this._isTimeAxis){var t=this.format,f=.001*(this._actualMax-this._actualMin)/10,e=new r(f*r.TicksPerSecond),i=isNaN(this._majorUnit)?u.NiceTimeSpan(e,t):r.fromDays(this._majorUnit);t||(this._tfmt=u.GetTimeDefaultFormat(1e3*i.TotalSeconds,0));n=i.TotalSeconds}return n},i.prototype._updateActualLimits=function(t,i,r,u,f){var l,a,v,e,o,s,y,b,k,h,c,p,w;if(typeof u=="undefined"&&(u=null),typeof f=="undefined"&&(f=null),l=this._actualMin,a=this._actualMax,this._isTimeAxis=t==4,v=this._chart._getChartType(),u&&u.length>0&&!this._isTimeAxis&&v!=0&&v!=1&&(i-=.5,r+=.5),e=this._min,o=this._max,n.isDate(e)&&(e=e.valueOf()),n.isDate(o)&&(o=o.valueOf()),this._actualMin=e!==null&&e!==undefined?e:i,this._actualMax=o!==null&&o!==undefined?o:r,this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5),this.logBase>0&&(s=this.logBase,y=Math.log(s),this._max||(b=Math.ceil(Math.log(this._actualMax)/y),this._actualMax=Math.pow(s,b)),this._min||(k=Math.floor(Math.log(this._actualMin)/y),this._actualMin=Math.pow(s,k)),(this._actualMin<=0||isNaN(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin&&(this._actualMax=this._actualMin+1)),(l==this._actualMin||isNaN(l)&&isNaN(this._actualMin))&&(a==this._actualMax||isNaN(a)&&isNaN(this._actualMax))||this.onRangeChanged(),this._items){this._values=[];this._lbls=[];var nt=this._items.length,d="value",g="text";for(this.binding&&(h=this.binding.split(","),h.length==2&&(d=h[0],g=h[1])),c=0;c<nt;c++)p=this._items[c],w=p[d],n.isNumber(w)&&(this._values.push(w),this._lbls.push(p[g]))}else this._lbls=u,this._values=f},i.prototype._layout=function(t,i){var r=this.axisType==1,u=this._position!=2&&this._position!=3;this._plotrect=i;this._axrect=r?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(i){var v,g,at,vt,yt,pt,a,h,st,u,ht,ct,wt,s,o,k;if(this.position!=0){var f=t.FlexChart._CSS_LABEL,tt=t.FlexChart._CSS_TITLE,it=t.FlexChart._CSS_LINE,bt=t.FlexChart._CSS_GRIDLINE,rt=t.FlexChart._CSS_TICK,r=0;this.labelAngle&&(r=this.labelAngle,r>90?r=90:r<-90&&(r=-90));var d=this.axisType==1,b=this._position!=2&&this._position!=3,ut=t.FlexChart._FG,lt=this._actualMax-this._actualMin;if(!isNaN(lt)){v=this._calcMajorUnit();v==0&&(v=this._niceTickNumber(lt)*.1);var ft=Math.floor(lt/v)+1,l=[],p=[];if(this._rects=[],g=Math.floor(this._actualMin/v)*v,g<this._actualMin&&(g+=v),at=!1,this._lbls&&this._lbls.length>0)if(p=this._lbls,this._values.length==0)for(at=!0,s=0;s<p.length;s++)l.push(s);else l=this._values;else this._isTimeAxis?this._createTimeLabels(g,ft,l,p):this.logBase?this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,l,p,!0):this._createLabels(g,ft,v,l,p);ft=Math.min(l.length,p.length);i.textFill=ut;var kt=this._TICK_HEIGHT,dt=this._TICK_WIDTH,nt=this._TICK_OVERLAP,gt=ut,c=this.majorTickMarks;(c===undefined||c===null)&&(c=1);vt=this._GRIDLINE_WIDTH;yt=ut;c==1?nt=1:c==2?nt=-1:c==3&&(nt=0);var et=.5*(nt-1)*kt,y=.5*(1+nt)*kt,ot=this._getLabelAlign(d);for(s=0;s<ft;s++){var o=l[s],e=p[s],w=this.labels;w&&at&&this.majorUnit&&s%this.majorUnit!=0&&(w=!1);o>=this._actualMin&&o<=this._actualMax&&(pt=o!=this._actualMin&&this.majorGrid,d?(a=this.convert(o),pt&&(i.stroke=yt,i.strokeWidth=vt,i.drawLine(this._plotrect.left,a,this._plotrect.right,a,bt)),i.stroke=gt,i.strokeWidth=dt,b?(c!=0&&i.drawLine(this._axrect.right-et,a,this._axrect.right-y,a,rt),w&&(u=new n.Point(this._axrect.right-y-this._TICK_LABEL_DISTANCE,a),r>0?r==90?t.FlexChart._renderRotatedText(i,e,u,1,0,u,r,f):t.FlexChart._renderRotatedText(i,e,u,2,1,u,r,f):r<0?r==-90?t.FlexChart._renderRotatedText(i,e,u,1,2,u,r,f):t.FlexChart._renderRotatedText(i,e,u,2,1,u,r,f):this._renderLabel(i,o,e,u,2,ot,f))):(c!=0&&i.drawLine(this._axrect.left+et,a,this._axrect.left+y,a,rt),w&&(u=new n.Point(this._axrect.left+y+this._TICK_LABEL_DISTANCE,a),r>0?r==90?t.FlexChart._renderRotatedText(i,e,u,1,2,u,r,f):t.FlexChart._renderRotatedText(i,e,u,0,1,u,r,f):r<0?r==-90?t.FlexChart._renderRotatedText(i,e,u,1,0,u,r,f):t.FlexChart._renderRotatedText(i,e,u,0,1,u,r,f):this._renderLabel(i,o,e,u,0,ot,f)))):(h=this.convert(o),this.overlappingLabels==0&&this._xCross(h)&&(w=!1),pt&&(i.stroke=yt,i.strokeWidth=vt,i.drawLine(h,this._plotrect.top,h,this._plotrect.bottom,bt)),i.stroke=gt,i.strokeWidth=dt,b?(st=!1,w&&(u=new n.Point(h,this._axrect.top+y),r!=0?(ht=i.measureString(e,f),r!=90&&r!=-90&&(u.y+=.5*ht.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,e,u,0,1,u,r,f):r<0&&t.FlexChart._renderRotatedText(i,e,u,2,1,u,r,f),st=!0):st=this._renderLabel(i,o,e,u,ot,0,f)),c!=0&&st&&(h=this.convert(o),i.drawLine(h,this._axrect.top+et,h,this._axrect.top+y,rt))):(w&&(u=new n.Point(h,this._axrect.bottom-y),r!=0?(ht=i.measureString(e,f),r!=90&&r!=-90&&(u.y-=.5*ht.height*Math.abs(Math.sin(r*Math.PI/180))),r>0?t.FlexChart._renderRotatedText(i,e,u,2,1,u,r,f):r<0&&t.FlexChart._renderRotatedText(i,e,u,0,1,u,r,f)):this._renderLabel(i,o,e,u,ot,2,f)),c!=0&&(h=this.convert(o),i.drawLine(h,this._axrect.bottom-et,h,this._axrect.bottom-y,rt)))))}}if(this.minorGrid||this.minorTickMarks!=0)if(this.logBase){if(this.minorUnit>0){for(ct=[],this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,ct,null,!1),wt=[],s=0;s<ct.length;s++)o=ct[s],l.indexOf(o)==-1&&o>this._actualMin&&wt.push(o);this._renderMinors(i,wt,d,b)}}else this._createMinors(i,l,d,b);i.stroke=ut;i.fontSize=null;d?b?(this._title&&(k=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,k,1,1,k,-90,tt)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,it)):(this._title&&(k=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,k,1,1,k,90,tt)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,it)):b?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,it),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,tt)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,it),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,tt));i.stroke=null;i.fontSize=null;i.textFill=null;i.strokeWidth=null}},i.prototype._xCross=function(n){for(var i,r=this._rects.length,t=0;t<r;t++)if(i=this._rects[t],n>=i.left&&n<=i.right)return!0;return!1},i.prototype._createMinors=function(t,i,r,u){var f;if(i&&i.length>1){var s=i[1]-i[0],e=n.isNumber(this.minorUnit)?this._isTimeAxis?this.minorUnit*864e5:this.minorUnit:s*.5,o=[];for(f=i[0];f>this._actualMin;f-=e)i.indexOf(f)==-1&&o.push(f);for(f=i[0]+e;f<this._actualMax;f+=e)i.indexOf(f)==-1&&o.push(f);this._renderMinors(t,o,r,u)}},i.prototype._renderMinors=function(n,i,r,u){var p=this._TICK_HEIGHT,w=this._TICK_WIDTH,o=this._TICK_OVERLAP,b=t.FlexChart._FG,v=this.minorTickMarks,y=!0,s,f,e;v==1?o=1:v==2?o=-1:v==3?o=0:y=!1;var h=.5*(o-1)*p,c=.5*(1+o)*p,tt=i?i.length:0,k=this.minorGrid,l=this._plotrect,d=this._GRIDLINE_WIDTH,g=t.FlexChart._FG,nt=t.FlexChart._CSS_GRIDLINE_MINOR,a=t.FlexChart._CSS_TICK_MINOR;for(s=0;s<tt;s++)r?(f=this.convert(i[s]),y&&(n.stroke=b,n.strokeWidth=w,u?n.drawLine(this._axrect.right-h,f,this._axrect.right-c,f,a):n.drawLine(this._axrect.left+h,f,this._axrect.left+c,f,a)),k&&(n.stroke=g,n.strokeWidth=d,n.drawLine(l.left,f,l.right,f,nt))):(e=this.convert(i[s]),y&&(n.stroke=b,n.strokeWidth=w,u?n.drawLine(e,this._axrect.top+h,e,this._axrect.top+c,a):n.drawLine(e,this._axrect.bottom-h,e,this._axrect.bottom-c,a)),k&&(n.stroke=g,n.strokeWidth=d,n.drawLine(e,l.top,e,l.bottom,nt)))},i.prototype._renderLabel=function(n,i,r,u,f,e,o){var a=!1,h,s;if(this.itemFormatter&&(h=u.clone(),this.axisType==0?h.y=this.position==2?this._plotrect.top:this._plotrect.bottom:h.x=this.position==3?this._plotrect.right:this._plotrect.left,s={val:i,text:r,pos:h,cls:o},s=this.itemFormatter(n,s),s?(r=s.text,o=s.cls):r=null),r){var l=this._rects,v=this.overlappingLabels==0,c=t.FlexChart._renderText(n,r,u,f,e,o,null,null,function(n){var r,i;if(v)for(r=l.length,i=0;i<r;i++)if(t.FlexChart._intersects(l[i],n))return!1;return!0});c&&(c.left+=8,c.width+=16,l.push(c),a=!0)}return a},i.prototype._getLabelAlign=function(n){var t=1,i;return this.labelAlign&&(i=this.labelAlign.toLowerCase(),n?i=="top"?t=0:i=="bottom"&&(t=2):i=="left"?t=0:i=="right"&&(t=2)),t},i.prototype.convert=function(n){var e,o,f;if(this._actualMax==this._actualMin)return 0;var r=this._axrect.left,t=this._axrect.width,u=this._axrect.top,i=this._axrect.height;return this._customConvert!=null?(e=this._customConvert(n,this._actualMin,this._actualMax),this.axisType==1?u+e*i:r+e*t):(o=this.logBase,o?n<=0?NaN:(f=Math.log(this._actualMax/this._actualMin),this._reversed?this.axisType==1?u+Math.log(n/this._actualMin)/f*i:r+t-Math.log(n/this._actualMin)/f*t:this.axisType==1?u+i-Math.log(n/this.actualMin)/f*i:r+Math.log(n/this._actualMin)/f*t):this._reversed?this.axisType==1?u+(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+t-(n-this._actualMin)/(this._actualMax-this._actualMin)*t:this.axisType==1?u+i-(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+(n-this._actualMin)/(this._actualMax-this._actualMin)*t)},i.prototype.convertBack=function(n){var o;if(this._actualMax==this._actualMin)return 0;var i=this._plotrect.left,t=this._plotrect.width,r=this._plotrect.top,u=this._plotrect.height,f=this._actualMax-this._actualMin,e=this.logBase;return this._customConvertBack!=null?this.axisType==1?this._customConvertBack((n-r)/u,this._actualMin,this._actualMax):this._customConvertBack((n-i)/t,this._actualMin,this._actualMax):e?(o=0,o=this._reversed?this.axisType==1?(n-r)/u:1-(n-i)/t:this.axisType==1?1-(n-r)/u:(n-i)/t,Math.pow(e,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*o)/Math.log(e))):this._reversed?this.axisType==1?this._actualMin+(n-r)*f/u:this._actualMin+(i+t-n)*f/t:this.axisType==1?this._actualMax-(n-r)*f/u:this._actualMin+(n-i)*f/t},Object.defineProperty(i.prototype,"axisType",{get:function(){var n=this._chart;if(n){if(n.axisX==this)return 0;if(n.axisY==this)return 1}return this._axisType},enumerable:!0,configurable:!0}),i.prototype._getMinNum=function(){return this._actualMin},i.prototype._getMaxNum=function(){return this._actualMax},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._cvCollectionChanged=function(){this._invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createLogarithmicLabels=function(n,t,i,r,u,f){var o=this.logBase,p=Math.log(o),w=Math.floor(Math.log(n)/p),b=Math.ceil(Math.log(t)/p),s=o,v=!0,h,y,c,l,k,a,e;for(i>0&&(v=!1,s=i),s<o&&(s=o),h=(b-w+1)*o/s,y=1,f&&(c=this._getAnnoNumber(this.position==1||this.position==1),h>c?y=Math.floor(h/c+1):v&&(h<=.2*c?s=.2*o:h<=.1*c&&(s=.1*o))),l=w;l<=b;l+=y)if(v)for(k=Math.pow(o,l),a=0;a*s<o-1;a++)e=k*(1+a*s),e>=n&&e<=t&&(a==0?(r.unshift(e),u&&u.unshift(this._formatValue(e))):(r.push(e),u&&u.push(this._formatValue(e))));else e=Math.pow(s,l),e>=n&&e<=t&&(r.push(e),u&&u.push(this._formatValue(e)))},i.prototype._createTimeLabels=function(n,t,i,f){var y=this._actualMin,p=this._actualMax,c=new Date(this._actualMin),w=new Date(this._actualMax),b=this._format,k=this._getAnnoNumber(this._axisType==1),nt,d,g,o,ut,l,a,e,s;k>12&&(k=12);var it=.001*(this._actualMax-this._actualMin)/k,rt=new r(it*r.TicksPerSecond),h=isNaN(this._majorUnit)?u.NiceTimeSpan(rt,b):r.fromDays(this._majorUnit);if(b||(this._tfmt=b=u.GetTimeDefaultFormat(1e3*h.TotalSeconds,0)),nt=h.Ticks,d=u.RoundTime(y,h.TotalDays,!1),isFinite(d)&&(y=d),g=u.RoundTime(p,h.TotalDays,!0),isFinite(g)&&(p=g),o=new Date(y),ut=new Date(p),h.TotalDays>=365&&isNaN(this._majorUnit))for(o=new Date(c.getFullYear(),1,1),o<c&&o.setFullYear(o.getFullYear()+1),l=h.TotalDays/365,l=l-l%1,e=o;e<=w;e.setFullYear(e.getFullYear()+l))s=e.valueOf(),i.push(s),f.push(this._formatValue(s));else if(h.TotalDays>=30&&isNaN(this._majorUnit))for(o=new Date(c.getFullYear(),c.getMonth(),1),o<c&&o.setMonth(o.getMonth()+1),a=h.TotalDays/30,a=a-a%1,e=o;e<=w;e.setMonth(e.getMonth()+a))s=e.valueOf(),i.push(s),f.push(this._formatValue(s));else{var v=1e3*nt/r.TicksPerSecond,e=o,tt=c.getTime()-e.getTime();for(tt>v&&(e=new Date(e.getTime()+Math.floor(tt/v)*v));e<=w;e=new Date(e.getTime()+v))e>=c&&(s=e.valueOf(),i.push(s),f.push(this._formatValue(s)))}},i.prototype._formatValue=function(t){if(this._isTimeAxis)return this._format?n.Globalize.format(new Date(t),this._format):n.Globalize.format(new Date(t),this._tfmt);if(this._format)return n.Globalize.format(t,this._format);var i=t==Math.round(t)?"n0":"n";return n.Globalize.format(t,i)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,r=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==1);n=this._niceNumber(2*t,-r,!0);n<t&&(n=this._niceNumber(t,-r+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/i),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},Object.defineProperty(i.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),i._id=0,i}();t.Axis=s;h=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAxis=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t}(n.collections.ObservableArray);t.AxisCollection=h,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=n.second*60]="minute";n[n.hour=n.minute*60]="hour";n[n.day=n.hour*24]="day";n[n.week=n.day*7]="week";n[n.month=n.day*31]="month";n[n.year=n.day*365]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));r=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();u=function(){function u(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return u.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},u.prototype.getTimeAsDateTime=function(){var t=0,n=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?(t=-1-this.day,this.month=1):this.month>11&&(t=this.month-12,this.month=12),this.day<1?(n=-1-this.day,this.day=1):this.day>28&&this.month==2?(n=this.day-28,this.day=28):this.day>30&&(this.month==4||this.month==4||this.month==6||this.month==9||this.month==11)?(n=this.day-30,this.day=30):this.day>31&&(n=this.day-31,this.day=31),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},u.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},u.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},u.RoundTime=function(n,t,r){var e=t*86400,f;if(e>0)return(f=new u(n),e<i.minute)?(f.second=this.tround(f.second,e,r),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,r),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,r),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,r),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,r)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,r),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return r&&o!=s&&(o+=t),e+o},u.TimeSpanFromTmInc=function(n){var u=r.fromSeconds(1),t,f;if(n!=i.maxtime)if(n>-1)u=r.fromSeconds(n);else{for(t=n,f=1,t+=7;t>0;)f*=10,t--;u=new r(f)}return u},u.manualTimeInc=function(n){var t=1,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf("f"),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=="%")f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!="f")break;f--}t=f}else n.indexOf("s")>=0?t=1:n.indexOf("m")>=0?t=i.minute:n.indexOf("h")>=0||n.indexOf("H")?t=i.hour:n.indexOf("d")>=0?t=i.day:n.indexOf("M")>=0?t=i.month:n.indexOf("y")>=0&&(t=i.year);return t},u.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},u.NiceTimeSpan=function(n,t){var e=1,o,f,s;if(t!=null&&t.length>0&&(e=u.manualTimeInc(t)),o=0,f=0,e<1&&n.TotalSeconds<10){for(o=n.Ticks,f=u.TimeSpanFromTmInc(e).Ticks;o>10*f;)f*=10;return s=f,o>s&&(s*=2),o>s&&(s=5*f),o>s&&(s=10*f),new r(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return u.TimeSpanFromTmInc(e);if(f=1,e<i.minute){if(o<i.minute&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.minute}if(e<i.hour){if(o<i.hour&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.hour}if(e<i.day){if(o<i.day&&(f=u.getNiceInc([1,3,6,12],o,e),f!=0))return r.fromSeconds(f);e=i.day}if(e<i.month){if(o<i.month&&(f=u.getNiceInc([1,2,7,14],o,e),f!=0))return r.fromSeconds(f);e=i.month}if(e<i.year){if(o<i.year&&(f=u.getNiceInc([1,2,3,4,6],o,e),f!=0))return r.fromSeconds(f);e=i.year}return f=100*i.year,o<f&&(f=u.getNiceInc([1,2,5,10,20,50],o,e),f==0&&(f=100*i.year)),r.fromSeconds(f)},u.NiceTimeUnit=function(n,t){var i=r.fromDays(n);return i=u.NiceTimeSpan(i,t),i.TotalDays},u.GetTimeDefaultFormat=function(n,t){var e;if(isNaN(n)||isNaN(t))return"";var u="s",o=r.fromSeconds(.001*(n-t)),f=o.TotalSeconds;if(f>=i.year)u="yyyy";else if(f>=i.month)u="MMM yyyy";else if(f>=i.day)u="MMM d";else if(f>=i.hour)u="ddd H:mm";else if(f>=.5*i.hour)u="H:mm";else if(f>=1)u="H:mm:ss";else if(f>0)for(e=o.Ticks,u="s.";e<r.TicksPerSecond;)e*=10,u+="f";return u},u.secInYear=86400,u}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var f=function(){function t(){this._row=0;this._col=0;this._rect=new n.Rect(0,0,0,0)}return Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=n.asInt(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=n.asString(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(n){n!=this._width&&(this._width=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(n){n!=this._height&&(this._height=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t.prototype._render=function(n){n.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},t.prototype._setPlotX=function(n,t){this._rect.left=n;this._rect.width=t},t.prototype._setPlotY=function(n,t){this._rect.top=n;this._rect.height=t},t}(),r,u,i;t.PlotArea=f;r=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getPlotArea=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t].name==n)return t;return-1},t.prototype._getWidth=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.column==n&&t.row==0)return t.width;return r},t.prototype._getHeight=function(n){for(var t,r,i=0;i<this.length;i++)if(t=this[i],t.row==n&&t.column==0)return t.height;return r},t.prototype._calculateWidths=function(n,t){var u,r,f;if(t<=0)throw"ncols";for(u=[],r=0;r<t;r++)f=this._getWidth(r),u[r]=new i(f);return this._calculateLengths(n,t,u)},t.prototype._calculateHeights=function(n,t){var u,r,f;if(t<=0)throw"nrows";for(u=[],r=0;r<t;r++)f=this._getHeight(r),u[r]=new i(f);return this._calculateLengths(n,t,u)},t.prototype._calculateLengths=function(n,t,i){for(var s,e,u=[t],o=0,f=0,r=0;r<t;r++)i[r].isAbsolute?(u[r]=i[r].value,o+=u[r]):i[r].isStar?f+=i[r].value:i[r].isAuto&&f++;for(s=n-o,e=s/f,r=0;r<t;r++)i[r].isStar?u[r]=e*i[r].value:i[r].isAuto&&(u[r]=e),u[r]<0&&(u[r]=0);return u},t}(n.collections.ObservableArray);t.PlotAreaCollection=r,function(n){n[n.Auto=0]="Auto";n[n.Pixel=1]="Pixel";n[n.Star=2]="Star"}(u||(u={}));i=function(){function n(n){typeof n=="undefined"&&(n=null);this._unitType=0;n&&(n=n.toString(),n.indexOf("*")>=0?(this._unitType=2,n=n.replace("*",""),this._value=parseFloat(n),isNaN(this._value)&&(this._value=1)):(this._unitType=1,this._value=parseFloat(n),isNaN(this._value)&&(this._unitType=0,this._value=1)))}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStar",{get:function(){return this._unitType==2},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAbsolute",{get:function(){return this._unitType==1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAuto",{get:function(){return this._unitType==0},enumerable:!0,configurable:!0}),n}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,i;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));var f=t.Marker,e=function(){function n(){}return n}(),u=function(t){function r(r){t.call(this);this._series=n.asType(r,i)}return __extends(r,t),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),r}(n.EventArgs);t.SeriesEventArgs=u;i=function(){function i(){this._altStyle=null;this._symbolMarker=0;this._visibility=0;this.rendering=new n.Event}return Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"altStyle",{get:function(){return this._altStyle},set:function(n){n!=this._altStyle&&(this._altStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(i.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new u(this))},enumerable:!0,configurable:!0}),i.prototype.onRendering=function(n){this.rendering.raise(this,new t.RenderEventArgs(n))},i.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},i.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},Object.defineProperty(i.prototype,"axisX",{get:function(){return this._axisX},set:function(i){if(i!=this._axisX){if(this._axisX=n.asType(i,t.Axis,!0),this._axisX){var r=this._axisX._chart=this._chart;r&&r.axes.indexOf(this._axisX)==-1&&r.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisY",{get:function(){return this._axisY},set:function(i){if(i!=this._axisY){if(this._axisY=n.asType(i,t.Axis,!0),this._axisY){var r=this._axisY._chart=this._chart;r&&r.axes.indexOf(this._axisY)==-1&&r.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),i.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},i.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},i.prototype.drawLegendItem=function(i,r){var c=this._chartType,o,s;c==null&&(c=this._chart._getChartType());i.strokeWidth=1;var u=t.Series._LEGEND_ITEM_MARGIN,l=null,a=null;l===null&&(l=this._chart._getColorLight(this._chart.series.indexOf(this)));a===null&&(a=this._chart._getColor(this._chart.series.indexOf(this)));i.fill=l;i.stroke=a;var f=r.top+.5*r.height,e=t.Series._LEGEND_ITEM_WIDTH,h=t.Series._LEGEND_ITEM_HEIGHT;switch(c){case 5:case 11:i.drawRect(r.left+u,f-.5*h,e,h,null,this.style);break;case 1:case 0:i.drawRect(r.left+u,f-.5*h,e,h,null,this.symbolStyle?this.symbolStyle:this.style);break;case 2:case 6:o=.3*e;s=.3*h;this.symbolMarker==1?i.drawRect(r.left+u+.5*e-o,f-s,2*o,2*s,null,this.symbolStyle):i.drawEllipse(r.left+.5*e+u,f,o,s,null,this.symbolStyle);break;case 3:case 9:i.drawLine(r.left+u,f,r.left+e+u,f,null,this.style);break;case 4:case 10:o=.3*e;s=.3*h;this.symbolMarker==1?i.drawRect(r.left+u+.5*e-o,f-s,2*o,2*s,null,this.symbolStyle):i.drawEllipse(r.left+.5*e+u,f,o,s,null,this.symbolStyle);i.drawLine(r.left+u,f,r.left+e+u,f,null,this.style);break;case 7:case 8:i.drawLine(r.left+u,f,r.left+e+u,f,null,this.symbolStyle?this.symbolStyle:this.style)}this._name&&t.FlexChart._renderText(i,this._name,new n.Point(r.left+h+2*u,f),0,1,t.FlexChart._CSS_LABEL)},i.prototype.measureLegendItem=function(i){var r=new n.Size,u;return r.width=t.Series._LEGEND_ITEM_WIDTH,r.height=t.Series._LEGEND_ITEM_HEIGHT,this._name&&(u=i.measureString(this._name,t.FlexChart._CSS_LABEL),r.width+=u.width,r.height<u.height&&(r.height=u.height)),r.width+=3*t.Series._LEGEND_ITEM_MARGIN,r.height+=2*t.Series._LEGEND_ITEM_MARGIN,r},i.prototype.getDataRect=function(){return null},i.prototype._getChartType=function(){return this._chartType},i.prototype._clearValues=function(){this._values=null;this._xvalues=null},i.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(","),t&&t.length>n&&(i=t[n].trim())),i},i.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},i.prototype._getItem=function(n){var i=null,t=null;return this.itemsSource!=null?t=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(t=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),t!=null&&(i=t[n]),i},i.prototype._getLength=function(){var t=0,n=null;return this.itemsSource!=null?n=this._cv!=null?this._cv.items:this.itemsSource:this._chart.itemsSource!=null&&(n=this._chart.collectionView!=null?this._chart.collectionView.items:this._chart.itemsSource),n!=null&&(t=n.length),t},i.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},i.prototype._getDataRect=function(){var s=this.getValues(0),h=this.getValues(1),e,t,u;if(s){var i=NaN,r=NaN,o=NaN,f=NaN,c=s.length;for(e=0;e<c;e++)t=s[e],isFinite(t)&&(isNaN(r)?r=f=t:t<r?r=t:t>f&&(f=t)),h&&(u=h[e],isFinite(u)&&(isNaN(i)?i=o=u:u<i?i=u:t>f&&(o=u)));if(h||(i=0,o=c-1),!isNaN(r))return new n.Rect(i,r,o-i,f-r)}return null},i.prototype._isCustomAxisX=function(){return this._axisX?this._chart?this._axisX!=this.chart.axisX:!0:!1},i.prototype._isCustomAxisY=function(){return this._axisY?this._chart?this._axisY!=this.chart.axisY:!0:!1},i.prototype._getAxisX=function(){var n=null;return this.axisX?n=this.axisX:this.chart&&(n=this.chart.axisX),n},i.prototype._getAxisY=function(){var n=null;return this.axisY?n=this.axisY:this.chart&&(n=this.chart.axisY),n},i.prototype._cvCollectionChanged=function(){this._clearValues();this._invalidate()},i.prototype._cvCurrentChanged=function(){this._invalidate()},i.prototype._bindValues=function(t,i,r){var o,s,c,u,f,h;if(typeof r=="undefined"&&(r=!1),t!=null)for(c=t.length,o=new Array(t.length),u=0;u<c;u++)f=t[u],i!=null&&(f=f[i]),n.isNumber(f)?(o[u]=f,s=2):n.isDate(f)?(o[u]=f.valueOf(),s=4):r&&f&&(o[u]=u,s=2);return h=new e,h.values=o,h.dataType=s,h},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},i.prototype._getSymbolFill=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.fill),!t&&this.style&&(t=this.style.fill),!t&&this.chart&&(t=this.chart._getColorLight(n)),t},i.prototype._getSymbolStroke=function(n){var t=null;return this.symbolStyle&&(t=this.symbolStyle.stroke),!t&&this.style&&(t=this.style.stroke),!t&&this.chart&&(t=this.chart._getColor(n)),t},i.prototype._getAltSymbolStroke=function(){var n=null;return this.altStyle&&(n=this.altStyle.stroke),n},i.prototype._getAltSymbolFill=function(){var n=null;return this.altStyle&&(n=this.altStyle.fill),n},i._LEGEND_ITEM_WIDTH=10,i._LEGEND_ITEM_HEIGHT=10,i._LEGEND_ITEM_MARGIN=4,i._DEFAULT_SYM_SIZE=10,i}();t.SeriesBase=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments)}return __extends(r,i),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),r}(t.SeriesBase);t.Series=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(){"use strict"})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._element=n;this._create();this._element.appendChild(this._svg)}return i.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._svg.appendChild(this._textGroup)},i.prototype.endRender=function(){this._textGroup.parentNode&&this._svg.removeChild(this._textGroup)},i.prototype.setViewportSize=function(n,t){this._svg.setAttribute("width",n.toString());this._svg.setAttribute("height",t.toString())},Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){if(n&&t){var u=document.createElementNS(i.svgNS,"clipPath"),r=document.createElementNS(i.svgNS,"rect");r.setAttribute("x",(n.left-1).toFixed());r.setAttribute("y",(n.top-1).toFixed());r.setAttribute("width",(n.width+2).toFixed());r.setAttribute("height",(n.height+2).toFixed());u.appendChild(r);u.setAttribute("id",t);this._svg.appendChild(u)}},i.prototype.drawEllipse=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"ellipse");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("fill",this._fill);o.setAttribute("cx",n.toFixed(1));o.setAttribute("cy",t.toFixed(1));o.setAttribute("rx",r.toFixed(1));o.setAttribute("ry",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawRect=function(n,t,r,u,f,e,o){var s=document.createElementNS(i.svgNS,"rect");s.setAttribute("fill",this._fill);s.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&s.setAttribute("stroke-width",this._strokeWidth.toString());s.setAttribute("x",n.toFixed(1));s.setAttribute("y",t.toFixed(1));r>0&&r<.05?s.setAttribute("width","0.1"):s.setAttribute("width",r.toFixed(1));u>0&&u<.05?s.setAttribute("height","0.1"):s.setAttribute("height",u.toFixed(1));o&&s.setAttribute("clip-path","url(#"+o+")");f&&s.setAttribute("class",f);this._applyStyle(s,e);this._appendChild(s)},i.prototype.drawLine=function(n,t,r,u,f,e){var o=document.createElementNS(i.svgNS,"line");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("x1",n.toFixed(1));o.setAttribute("x2",r.toFixed(1));o.setAttribute("y1",t.toFixed(1));o.setAttribute("y2",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},i.prototype.drawLines=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polyline"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill","none"),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawSplines=function(n,r,u,f,e){var o,h,s;if(n&&r){var y=new t._Spline(n,r),c=y.calculate(),l=c.xs,a=c.ys,v=Math.min(l.length,a.length);if(v>0){for(o=document.createElementNS(i.svgNS,"polyline"),o.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString()),o.setAttribute("fill","none"),h="",s=0;s<v;s++)h+=l[s].toFixed(1)+","+a[s].toFixed(1)+" ";o.setAttribute("points",h);u&&o.setAttribute("class",u);e&&o.setAttribute("clip-path","url(#"+e+")");this._applyStyle(o,f);this._appendChild(o)}}},i.prototype.drawPolygon=function(n,t,r,u,f){var s,e,h,o;if(n&&t&&(s=Math.min(n.length,t.length),s>0)){for(e=document.createElementNS(i.svgNS,"polygon"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill",this._fill),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+t[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},i.prototype.drawPieSegment=function(t,r,u,f,e,o,s,h){var c,l,y,a,p,v;if(e>=Math.PI*2)return this.drawEllipse(t,r,u,u,o,s);c=document.createElementNS(i.svgNS,"path");c.setAttribute("fill",this._fill);c.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&c.setAttribute("stroke-width",this._strokeWidth.toString());l=new n.Point(t,r);l.x+=u*Math.cos(f);l.y+=u*Math.sin(f);y=f+e;a=new n.Point(t,r);a.x+=u*Math.cos(y);a.y+=u*Math.sin(y);p=" 0 0,1 ";Math.abs(e)>Math.PI&&(p=" 0 1,1 ");v="M "+t.toFixed(1)+","+r.toFixed(1);v+=" L "+l.x.toFixed(1)+","+l.y.toFixed(1);v+=" A "+u.toFixed(1)+","+u.toFixed(1)+p;v+=a.x.toFixed(1)+","+a.y.toFixed(1)+" z";c.setAttribute("d",v);h&&c.setAttribute("clip-path","url(#"+h+")");o&&c.setAttribute("class",o);this._applyStyle(c,s);this._appendChild(c)},i.prototype.drawDonutSegment=function(t,r,u,f,e,o,s,h,c){var k=!1,l,y,p,w,v,b,d,g,a;o>=Math.PI*2&&(k=!0,o-=.001);l=document.createElementNS(i.svgNS,"path");l.setAttribute("fill",this._fill);l.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&l.setAttribute("stroke-width",this._strokeWidth.toString());y=new n.Point(t,r);y.x+=u*Math.cos(e);y.y+=u*Math.sin(e);p=e+o;w=new n.Point(t,r);w.x+=u*Math.cos(p);w.y+=u*Math.sin(p);v=new n.Point(t,r);v.x+=f*Math.cos(p);v.y+=f*Math.sin(p);b=new n.Point(t,r);b.x+=f*Math.cos(e);b.y+=f*Math.sin(e);d=" 0 0,1 ";g=" 0 0,0 ";Math.abs(o)>Math.PI&&(d=" 0 1,1 ",g=" 0 1,0 ");a="M "+y.x.toFixed(3)+","+y.y.toFixed(3);a+=" A "+u.toFixed(3)+","+u.toFixed(3)+d;a+=w.x.toFixed(3)+","+w.y.toFixed(3);a+=k?" M "+v.x.toFixed(3)+","+v.y.toFixed(3):" L "+v.x.toFixed(3)+","+v.y.toFixed(3);a+=" A "+f.toFixed(3)+","+f.toFixed(3)+g;a+=b.x.toFixed(3)+","+b.y.toFixed(3);k||(a+=" z");l.setAttribute("d",a);c&&l.setAttribute("clip-path","url(#"+c+")");s&&l.setAttribute("class",s);this._applyStyle(l,h);this._appendChild(l)},i.prototype.drawString=function(n,t,i,r){var u=this._createText(t,n),f;i&&u.setAttribute("class",i);this._applyStyle(u,r);this._appendChild(u);f=u.getBBox();u.setAttribute("y",(t.y-(f.y+f.height-t.y)).toFixed(1))},i.prototype.drawStringRotated=function(n,t,r,u,f,e){var o=this._createText(t,n),s,h;f&&o.setAttribute("class",f);this._applyStyle(o,e);s=document.createElementNS(i.svgNS,"g");s.setAttribute("transform","rotate("+u.toFixed(1)+","+r.x.toFixed(1)+","+r.y.toFixed(1)+")");s.appendChild(o);this._appendChild(s);h=o.getBBox();o.setAttribute("y",(t.y-(h.y+h.height-t.y)).toFixed(1))},i.prototype.measureString=function(t,i,r,u){var f=new n.Size(0,0),e,o;if(this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily),i&&this._text.setAttribute("class",i),r&&this._textGroup.setAttribute("class",r),this._applyStyle(this._text,u),this._setText(this._text,t),e=this._text.getBBox(),f.width=e.width,f.height=e.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),u)for(o in u)this._text.removeAttribute(this._deCase(o));return this._textGroup.removeAttribute("class"),this._text.textContent=null,f},i.prototype.startGroup=function(n,t,r){typeof r=="undefined"&&(r=!1);var u=document.createElementNS(i.svgNS,"g");return n&&u.setAttribute("class",n),t&&u.setAttribute("clip-path","url(#"+t+")"),this._appendChild(u),r&&u.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=u,u},i.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},i.prototype.drawImage=function(n,t,r,u,f){var e=document.createElementNS(i.svgNS,"image");e.setAttributeNS(i.xlinkNS,"href",n);e.setAttribute("x",t.toFixed(1));e.setAttribute("y",r.toFixed(1));e.setAttribute("width",u.toFixed(1));e.setAttribute("height",f.toFixed(1));this._appendChild(e)},i.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},i.prototype._create=function(){this._svg=document.createElementNS(i.svgNS,"svg");this._defs=document.createElementNS(i.svgNS,"defs");this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),"");this._textGroup=document.createElementNS(i.svgNS,"g");this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},i.prototype._setText=function(n,t){var i=t?t.toString():null;if(i&&i.indexOf("tspan")>=0)try{n.textContent=null;for(var u=new DOMParser,f='<svg xmlns="http://www.w3.org/2000/svg">'+i+"<\/svg>",e=u.parseFromString(f,"text/xml").documentElement,r=e.firstChild;r;)n.appendChild(n.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(o){throw new Error("Error parsing XML string.");}else n.textContent=i},i.prototype._createText=function(n,t){var r=document.createElementNS(i.svgNS,"text");return this._setText(r,t),r.setAttribute("fill",this._textFill),r.setAttribute("x",n.x.toFixed(1)),r.setAttribute("y",n.y.toFixed(1)),this._fontSize&&r.setAttribute("font-size",this._fontSize),this._fontFamily&&r.setAttribute("font-family",this._fontFamily),r},i.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},i.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},i.svgNS="http://www.w3.org/2000/svg",i.xlinkNS="http://www.w3.org/1999/xlink",i}();t._SvgRenderEngine=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(t){this._position=3;this._areas=[];this._sz=new n.Size;this._chart=t}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(t,i,r,u){if(i==0)return null;var f=i==3||i==1;if(this._chart instanceof n.chart.FlexChartCore)this._sz=this._getDesiredSizeSeriesChart(t,f,r,u);else if(this._chart instanceof n.chart.FlexPie)this._sz=this._getDesiredSizePieChart(t,f);else return null;return this._sz},i.prototype._getDesiredSizeSeriesChart=function(t,i,r,u){for(var h,l,s,f=new n.Size,a=this._chart.series,v=a.length,e=0,o=0,c=0;c<v;c++)(h=n.tryCast(a[c],n.chart.SeriesBase),l=h.visibility,h.name&&l!=3&&l!=1)&&(s=h.measureLegendItem(t),i?(e+s.height>u?(f.width+=o,o=0,f.height<e&&(f.height=e),e=0):e+=s.height,o<s.width&&(o=s.width)):(o+s.width>r?(f.height+=e,e=0,f.width<o&&(f.width=o),o=0):o+=s.width,e<s.height&&(e=s.height)));return i?(f.height<e&&(f.height=e),f.width+=o):(f.width<o&&(f.width=o),f.height+=e),f},i.prototype._renderSeriesChart=function(t,i,r,u,f){for(var e,s,o,a,v,p=this._chart.series,w=p.length,h=i.clone(),c=0,l=0,y=0;y<w;y++)if(e=n.tryCast(p[y],n.chart.SeriesBase),e){if(s=e.visibility,!e.name||s==3||s==1){e._legendElement=null;this._areas.push(null);continue}o=e.measureLegendItem(t);r?i.y+o.height>h.y+f&&(i.y=h.y,i.x+=l,l=0):i.x+o.width>h.x+u&&(i.x=h.x,i.y+=c,c=0);a=new n.Rect(i.x,i.y,o.width,o.height);v=t.startGroup(e.cssClass);s==2?(v.setAttribute("opacity","0.5"),e._legendElement=v,e.drawLegendItem(t,a)):s==0?(e._legendElement=v,e.drawLegendItem(t,a)):e._legendElement=null;t.endGroup();this._areas.push(a);r?(i.y+=o.height,l<o.width&&(l=o.width)):(i.x+=o.width,c<o.height&&(c=o.height))}},i.prototype._getDesiredSizePieChart=function(t,i){for(var u,r=new n.Size,e=this._chart,o=e._labels,s=o.length,f=0;f<s;f++)u=e._measureLegendItem(t,o[f]),i?(r.height+=u.height,r.width<u.width&&(r.width=u.width)):(r.width+=u.width,r.height<u.height&&(r.height=u.height));return r},i.prototype._renderPieChart=function(t,i,r){for(var f,s,e=this._chart,o=e._labels,h=o.length,u=0;u<h;u++)f=e._measureLegendItem(t,o[u]),s=new n.Rect(i.x,i.y,f.width,f.height),e._drawLegendItem(t,s,u,o[u]),this._areas.push(s),r?i.y+=f.height:i.x+=f.width},i.prototype._getPosition=function(n,t){return this.position==5?n>=t?3:4:this.position},i.prototype._render=function(t,i,r,u,f){this._areas=[];var e=r==3||r==1;if(t.fill="transparent",t.stroke=null,t.drawRect(i.x,i.y,this._sz.width,this._sz.height),this._chart instanceof n.chart.FlexChartCore)this._renderSeriesChart(t,i,e,u,f);else if(this._chart instanceof n.chart.FlexPie)this._renderPieChart(t,i,e);else return null},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(r[i]&&t.FlexChartCore._contains(r[i],n))return i;return null},i}();t.Legend=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.DataLabel=9]="DataLabel";n[n.None=10]="None"})(t.ChartElement||(t.ChartElement={}));var r=t.ChartElement,i=function(){function i(n,t,i){this._pointIndex=null;this._chartElement=10;this._chart=n;this._pt=t;this._chartElement=i}return Object.defineProperty(i.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"item",{get:function(){if(this._item==null&&this.pointIndex!==null)if(this.series!=null)this._item=this.series._getItem(this.pointIndex);else if(this._chart instanceof t.FlexPie){var i=this._chart,n=null;n=i._cv!=null?i._cv.items:i.itemsSource;n&&this.pointIndex<n.length&&(this._item=n[this.pointIndex])}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._values[this.pointIndex]}return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){if(this._chart instanceof t.FlexPie){var n=this._chart;return n._labels[this.pointIndex]}return this.series.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),i.prototype._setData=function(n,t){this._series=n;this._pointIndex=t},i.prototype._setDataPoint=function(i){if(i=n.asType(i,t._DataPoint,!0),i){this._pointIndex=i.pointIndex;var u=n.asType(this._chart,n.chart.FlexChartCore,!0),r=i.seriesIndex;r!==null&&r>=0&&r<u.series.length&&(this._series=u.series[r]);i.item&&(this._item=i.item);i.x&&(this._x=i.x);i.y&&(this._y=i.y);i.xfmt&&(this.__xfmt=i.xfmt);i.yfmt&&(this.__yfmt=i.yfmt)}},i.prototype._getValue=function(n,i){var o,e,s;if(this._chart instanceof t.FlexPie)return o=this._chart,o._values[this.pointIndex];var r=null,u=this._chart,f=this.pointIndex,h=u._isRotated();return this.series!==null&&f!==null&&(e=this.series.getValues(n),s=this.series.getDataType(n),e&&this.pointIndex<e.length?(r=e[this.pointIndex],s!=4||i||(r=new Date(r))):n==1&&(u._xlabels&&u._xlabels.length>0&&f<u._xlabels.length?r=u._xlabels[f]:u._xvals&&f<u._xvals.length&&(r=u._xvals[f],u._xDataType!=4||i||(r=new Date(r))))),r!==null&&i&&(h?n==0?r=u.axisX._formatValue(r):n==1&&(r=u.axisY._formatValue(r)):n==0?r=u.axisY._formatValue(r):n==1&&(r=u.axisX._formatValue(r))),r},i}();t.HitTestInfo=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";var t=function(){function n(){}return n.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],n.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],n.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],n.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],n.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],n.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],n.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],n.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],n.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],n.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],n.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],n.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],n.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],n.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],n.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],n.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],n}();n.Palettes=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function t(t,i){var s,r;if(this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-1*.5,3*.5,-3*.5,1*.5],[2*.5,-5*.5,4*.5,-1*.5],[-1*.5,0,1*.5,0],[0,2*.5,0,0]],this._x=t,this._y=i,s=this._len=Math.min(t.length,i.length),s>3)for(r=0;r<s-1;r++){var u=r==0?new n.Point(t[r],i[r]):new n.Point(t[r-1],i[r-1]),f=new n.Point(t[r],i[r]),e=new n.Point(t[r+1],i[r+1]),o=r==s-2?new n.Point(t[r+1],i[r+1]):new n.Point(t[r+2],i[r+2]),h=new n.Point,c=new n.Point,l=new n.Point,a=new n.Point;h.x=u.x*this.m[0][0]+f.x*this.m[0][1]+e.x*this.m[0][2]+o.x*this.m[0][3];c.x=u.x*this.m[1][0]+f.x*this.m[1][1]+e.x*this.m[1][2]+o.x*this.m[1][3];l.x=u.x*this.m[2][0]+f.x*this.m[2][1]+e.x*this.m[2][2]+o.x*this.m[2][3];a.x=u.x*this.m[3][0]+f.x*this.m[3][1]+e.x*this.m[3][2]+o.x*this.m[3][3];h.y=u.y*this.m[0][0]+f.y*this.m[0][1]+e.y*this.m[0][2]+o.y*this.m[0][3];c.y=u.y*this.m[1][0]+f.y*this.m[1][1]+e.y*this.m[1][2]+o.y*this.m[1][3];l.y=u.y*this.m[2][0]+f.y*this.m[2][1]+e.y*this.m[2][2]+o.y*this.m[2][3];a.y=u.y*this.m[3][0]+f.y*this.m[3][1]+e.y*this.m[3][2]+o.y*this.m[3][3];this._a.push(h);this._b.push(c);this._c.push(l);this._d.push(a)}}return t.prototype.calculatePoint=function(n){var t=Math.floor(n);t<0&&(t=0);t>this._len-2&&(t=this._len-2);var i=n-t,r=((this._a[t].x*i+this._b[t].x)*i+this._c[t].x)*i+this._d[t].x,u=((this._a[t].y*i+this._b[t].y)*i+this._c[t].y)*i+this._d[t].y;return{x:r,y:u}},t.prototype.calculate=function(){var f,e,i,n;if(this._len<=3)return{xs:this._x,ys:this._y};var r=[],u=[],t=this.calculatePoint(0);for(r.push(t.x),u.push(t.y),f=this._len*this.k,e=3,i=f;;i+=f)if(n=this.calculatePoint(i),(Math.abs(t.x-n.x)>=e||Math.abs(t.y-n.y)>=e)&&(r.push(n.x),u.push(n.y),t=n),i>this._len-1)break;return{xs:r,ys:u}},t}();t._Spline=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,u,f,i,e,o;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom";n[n.Center=5]="Center"})(t.LabelPosition||(t.LabelPosition={}));r=t.LabelPosition,function(n){n[n.None=0]="None";n[n.Inside=1]="Inside";n[n.Center=2]="Center";n[n.Outside=3]="Outside"}(t.PieLabelPosition||(t.PieLabelPosition={}));u=t.PieLabelPosition;f=function(n){function t(t,i,r,u){n.call(this,t);this.cancel=!1;this._ht=i;this._pt=r;this._text=u}return __extends(t,n),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(t.RenderEventArgs);t.DataLabelRenderEventArgs=f;i=function(){function t(){this.rendering=new n.Event}return Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(n){return this.rendering.raise(this,n),n.cancel},t.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},t}();t.DataLabelBase=i;e=function(t){function i(){t.apply(this,arguments);this._pos=2}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,r),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.DataLabel=e;o=function(t){function i(){t.apply(this,arguments);this._pos=0}return __extends(i,t),Object.defineProperty(i.prototype,"position",{get:function(){return this._pos},set:function(t){t!=this._pos&&(this._pos=n.asEnum(t,u),this._invalidate())},enumerable:!0,configurable:!0}),i}(i);t.PieDataLabel=o})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var e=function(){function t(){this._moveMarker=function(n){var r=n.currentTarget,u=this._markers,t=r.getAttribute("data-markerIndex"),i;t!=null&&(i=u[t],i.forEach(function(t){t._moveMarker(n)}))};this._markers=[];this._bindMoveMarker=this._moveMarker.bind(this)}return t.prototype.attach=function(t){var r=t.chart.hostElement,u=this._markers,f=r.getAttribute("data-markerIndex"),e,i;f!=null?(i=u[f],i&&n.isArray(i)?i.push(t):(u[f]=[t],this._bindMoveEvent(r))):(e=u.length,i=[t],u.push(i),r.setAttribute("data-markerIndex",e),this._bindMoveEvent(r))},t.prototype.detach=function(n){var u=n.chart.hostElement,r=this._markers,f=u.getAttribute("data-markerIndex"),t,i;f!=null&&(i=r[f],t=i.indexOf(n),t>-1&&i.splice(t,1),i.length===0&&(t=r.indexOf(i),t>-1&&(r[t]=undefined),this._unbindMoveEvent(u)))},t.prototype._unbindMoveEvent=function(n){var t=this._bindMoveMarker;n.removeEventListener("mousemove",t);"ontouchstart"in window&&n.removeEventListener("touchmove",t)},t.prototype._bindMoveEvent=function(n){var t=this._bindMoveMarker;n.addEventListener("mousemove",t);"ontouchstart"in window&&n.addEventListener("touchmove",t)},t}(),i=new e,r,u,o,f;(function(n){n[n.None=0]="None";n[n.Vertical=1]="Vertical";n[n.Horizontal=2]="Horizontal";n[n.Both=3]="Both"})(t.LineMarkerLines||(t.LineMarkerLines={}));r=t.LineMarkerLines,function(n){n[n.None=0]="None";n[n.Move=1]="Move";n[n.Drag=2]="Drag"}(t.LineMarkerInteraction||(t.LineMarkerInteraction={}));u=t.LineMarkerInteraction,function(n){n[n.Auto=2]="Auto";n[n.Right=0]="Right";n[n.Left=1]="Left";n[n.Bottom=4]="Bottom";n[n.Top=6]="Top"}(t.LineMarkerAlignment||(t.LineMarkerAlignment={}));o=t.LineMarkerAlignment;f=function(){function f(t,i){this._wrapperMousedown=null;this._wrapperMouseup=null;this.positionChanged=new n.Event;var r=this;r._chart=t;t.rendered.addHandler(r._initialize,r);r._resetDefaultValue();n.copy(this,i);r._initialize()}return Object.defineProperty(f.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){var i=this;t!==i._isVisible&&(i._isVisible=n.asBoolean(t),i._marker)&&i._toggleVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){var i=this;t!==i._seriesIndex&&(i._seriesIndex=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){var i=this;if(t!==i._horizontalPosition){if(i._horizontalPosition=n.asNumber(t,!0),i._horizontalPosition<0||i._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"x",{get:function(){var n=this,t=n._targetPoint.x-n._plotRect.left,i=n._chart.axisX;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"y",{get:function(){var n=this,t=n._targetPoint.y-n._plotRect.top,i=n._chart.axisY;return i.convertBack(t)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=n.asFunction(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){var i=this;if(t!==i._verticalPosition){if(i._verticalPosition=n.asNumber(t,!0),i._verticalPosition<0||i._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";i._marker&&i._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"alignment",{get:function(){return this._alignment},set:function(n){var t=this;n!==t._alignment&&(t._alignment=n,t._marker)&&t._updatePositionByAlignment()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"lines",{get:function(){return this._lines},set:function(t){var i=this;t!==i._lines&&(i._lines=n.asEnum(t,r),i._marker)&&i._resetLinesVisibility()},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"interaction",{get:function(){return this._interaction},set:function(t){var i=this;t!==i._interaction&&(i._marker&&i._detach(),i._interaction=n.asEnum(t,u),i._marker&&i._attach(),i._toggleElesDraggableClass(i._interaction===2))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){var i=this;t!==i._dragContent&&(i._dragContent=n.asBoolean(t));n.toggleClass(i._dragEle,f._CSS_LINE_DRAGGABLE,i._interaction===2&&i._dragContent&&i._lines!==0)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=n.asBoolean(t))},enumerable:!0,configurable:!0}),f.prototype.onPositionChanged=function(n){this.positionChanged.raise(this,n)},f.prototype.remove=function(){var n=this,t=n._chart;n._marker&&(t.rendered.removeHandler(n._initialize,n),n._detach(),n._removeMarker(),n._wrapperMoveMarker=null,n._wrapperMousedown=null,n._wrapperMouseup=null)},f.prototype._attach=function(){var t=this,r=t._chart.hostElement;this._interaction!==0?n.addClass(r,f._CSS_TOUCH_DISABLED):n.removeClass(r,f._CSS_TOUCH_DISABLED);i.attach(t);t._attachDrag()},f.prototype._attachDrag=function(){var n=this;n._interaction===2&&(n._wrapperMousedown||(n._wrapperMousedown=n._onMousedown.bind(n)),n._wrapperMouseup||(n._wrapperMouseup=n._onMouseup.bind(n)),n._toggleDragEventAttach(!0))},f.prototype._detach=function(){var t=this;n.removeClass(t._chart.hostElement,f._CSS_TOUCH_DISABLED);i.detach(t);t._detachDrag()},f.prototype._detachDrag=function(){var n=this;n._interaction===2&&n._toggleDragEventAttach(!1)},f.prototype._toggleDragEventAttach=function(n){var t=this,r=t._chart.hostElement,i=n?"addEventListener":"removeEventListener";r[i]("mousedown",t._wrapperMousedown);document[i]("mouseup",t._wrapperMouseup);"ontouchstart"in window&&r[i]("touchstart",t._wrapperMousedown);"ontouchend"in window&&document[i]("touchend",t._wrapperMouseup)},f.prototype._onMousedown=function(t){var i=this,r=i._getEventPoint(t),u,e,o;i._interaction===2&&(u=n.getElementRect(i._hLine),e=n.getElementRect(i._vLine),o=n.getElementRect(i._markerContent),i._dragContent&&i._pointInRect(r,o)?(i._capturedEle=i._markerContent,i._contentDragStartPoint=new n.Point(r.x,r.y),i._mouseDownCrossPoint=new n.Point(i._targetPoint.x,i._targetPoint.y)):Math.abs(u.top-r.y)<=i._dragThreshold||Math.abs(r.y-u.top-u.height)<=i._dragThreshold||r.y>=u.top&&r.y<=u.top+u.height?(i._capturedEle=i._hLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,f._CSS_LINE_DRAGGABLE)):(Math.abs(e.left-r.x)<=i._dragThreshold||Math.abs(r.x-e.left-e.width)<=i._dragThreshold||r.x>=e.left&&r.x<=e.left+e.width)&&(i._capturedEle=i._vLine,i._contentDragStartPoint=undefined,n.addClass(i._chart.hostElement,f._CSS_LINE_DRAGGABLE)),t.preventDefault())},f.prototype._onMouseup=function(){var t=this,i=t._alignment===2&&t._capturedEle===t._markerContent&&t._lines!==0;t._capturedEle=undefined;t._contentDragStartPoint=undefined;t._mouseDownCrossPoint=undefined;i&&(t._updatePositionByAlignment(),t._updatePositionByAlignment());n.removeClass(t._chart.hostElement,f._CSS_LINE_DRAGGABLE)},f.prototype._moveMarker=function(i){var r=this,o=r._chart,u=r._getEventPoint(i),f=r._plotRect,c=r._interaction===2,l=r._lines===2,a=r._lines===1,s=r._seriesIndex,h,v=n.getElementRect(o.hostElement),e,y,p,w,b;if(f&&r._isVisible&&r._interaction!==0&&(r._interaction!==2||r._capturedEle&&r._lines!==0)){if(c&&(r._contentDragStartPoint?(u.x=l?r._targetPoint.x:r._mouseDownCrossPoint.x+u.x-r._contentDragStartPoint.x,u.y=a?r._targetPoint.y:r._mouseDownCrossPoint.y+u.y-r._contentDragStartPoint.y):l||!r._dragLines&&r._capturedEle===r._hLine?u.x=r._targetPoint.x:(a||!r._dragLines&&r._capturedEle===r._vLine)&&(u.y=r._targetPoint.y)),c&&r._lines===2||!r._dragLines&&r._capturedEle===r._hLine){if(u.y<=f.top||u.y>=f.top+f.height)return}else if(c&&r._lines===1||!r._dragLines&&r._capturedEle===r._vLine){if(u.x<=f.left||u.x>=f.left+f.width)return}else if(u.x<=f.left||u.y<=f.top||u.x>=f.left+f.width||u.y>=f.top+f.height)return;if(s!=null&&s>=0&&s<o.series.length){if(h=o.series[s],e=h.hitTest(new n.Point(u.x,NaN)),e==null||e.x==null||e.y==null)return;y=h.axisX||o.axisX;p=h._getAxisY();w=n.isDate(e.x)?t.FlexChart._toOADate(e.x):e.x;b=n.isDate(e.y)?t.FlexChart._toOADate(e.y):e.y;u.x=y.convert(w)+v.left;u.y=p.convert(b)+v.top}r._updateMarkerPosition(u);i.preventDefault()}},f.prototype._show=function(n){var t=n?n:this._marker;t.style.display="block"},f.prototype._hide=function(n){var t=n?n:this._marker;t.style.display="none"},f.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},f.prototype._resetDefaultValue=function(){var t=this;t._isVisible=!0;t._alignment=2;t._lines=0;t._interaction=0;t._horizontalPosition=null;t._verticalPosition=null;t._content=null;t._seriesIndex=null;t._dragThreshold=15;t._dragContent=!1;t._dragLines=!1;t._targetPoint=new n.Point},f.prototype._initialize=function(){var i=this,r=i._chart.hostElement.querySelector("."+t.FlexChart._CSS_PLOT_AREA),u;i._plot=r;i._marker||i._createMarker();r&&(i._plotRect=n.getElementRect(r),u=r.getBBox(),i._plotRect.width=u.width,i._plotRect.height=u.height,i._updateMarkerSize(),i._updateLinesSize());i._updateMarkerPosition();i._wrapperMoveMarker=i._moveMarker.bind(i);i._attach()},f.prototype._createMarker=function(){var t=this,i,r;i=document.createElement("div");n.addClass(i,f._CSS_MARKER);r=t._getContainer();r.appendChild(i);t._markerContainer=r;t._marker=i;t._createChildren()},f.prototype._removeMarker=function(){var n=this,t=n._markerContainer;t.removeChild(n._marker);n._content=null;n._hLine=null;n._vLine=null;t.hasChildNodes()||(n._chart.hostElement.removeChild(n._markerContainer),n._markerContainer=null);n._marker=null},f.prototype._getContainer=function(){var n=this._chart.hostElement.querySelector(f._CSS_MARKER_CONTAINER);return n||(n=this._createContainer()),n},f.prototype._createContainer=function(){var t=document.createElement("div"),i=this._chart.hostElement;return n.addClass(t,f._CSS_MARKER_CONTAINER),i.insertBefore(t,i.firstChild),t},f.prototype._createChildren=function(){var t=this,r=t._marker,u,e,o,i;i=document.createElement("div");i.style.position="absolute";i.style.height="100%";i.style.width="100%";r.appendChild(i);t._dragEle=i;u=document.createElement("div");n.addClass(u,f._CSS_MARKER_CONTENT);r.appendChild(u);t._markerContent=u;e=document.createElement("div");n.addClass(e,f._CSS_MARKER_HLINE);r.appendChild(e);t._hLine=e;o=document.createElement("div");n.addClass(o,f._CSS_MARKER_VLINE);r.appendChild(o);t._vLine=o;t._toggleElesDraggableClass(t._interaction===2);t._resetLinesVisibility()},f.prototype._toggleElesDraggableClass=function(t){var i=this;n.toggleClass(i._hLine,f._CSS_LINE_DRAGGABLE,t);n.toggleClass(i._vLine,f._CSS_LINE_DRAGGABLE,t);n.toggleClass(i._dragEle,f._CSS_LINE_DRAGGABLE,t&&i._dragContent&&i._lines!==0)},f.prototype._updateMarkerSize=function(){var t=this,i=t._plotRect,r=t._chart.hostElement,u=window.getComputedStyle(r,null),f=n.getElementRect(r);t._marker&&(t._marker.style.marginTop=i.top-f.top-(parseFloat(u.getPropertyValue("padding-top"))||0)+"px",t._marker.style.marginLeft=i.left-f.left-(parseFloat(u.getPropertyValue("padding-left"))||0)+"px")},f.prototype._updateLinesSize=function(){var n=this,t=n._plotRect;n._hLine&&n._vLine&&(n._hLine.style.width=t.width+"px",n._vLine.style.height=t.height+"px")},f.prototype._resetLinesVisibility=function(){var n=this;n._hLine&&n._vLine&&(n._hide(n._hLine),n._hide(n._vLine),(n._lines===2||n._lines===3)&&n._show(n._hLine),(n._lines===1||n._lines===3)&&n._show(n._vLine))},f.prototype._updateMarkerPosition=function(n){var t=this,u=t._plotRect,f=t._targetPoint,i,r,e=!1,o=t._interaction===2;t._plot&&(i=u.left+u.width*(t._horizontalPosition||0),r=u.top+u.height*(t._verticalPosition||0),t._horizontalPosition==null&&n&&(i=n.x),t._verticalPosition==null&&n&&(r=n.y),(i!==f.x||r!==f.y)&&(e=!0),f.x=i,f.y=r,t._toggleVisibility(),t._content&&t._updateContent(),e&&t._raisePositionChanged(i,r),t._updatePositionByAlignment(n?!0:!1))},f.prototype._updateContent=function(){var n=this,r=n._chart,t=n._targetPoint,u=r.hitTest(t),i;i=n._content.call(null,u,t);n._markerContent.innerHTML=i||""},f.prototype._raisePositionChanged=function(t,i){var r=this._plotRect;this.onPositionChanged(new n.Point(t,i))},f.prototype._updatePositionByAlignment=function(){var n=this,s=n._alignment,u=n._targetPoint,f=n._marker,t=0,i=0,e=f.clientWidth,o=f.clientHeight,r=n._plotRect,h=12;n._plot&&(!n._capturedEle||n._capturedEle&&n._capturedEle!==n._markerContent?(s===2?(u.x+e+h>r.left+r.width&&(i=e),t=o,u.y-o<r.top&&(t=0)):((1&s)==1&&(i=e),(2&s)==2&&(t=o)),n._interaction===1&&t===0&&i===0&&(i=-h)):(parseInt(n._hLine.style.top)>0&&(t=o),parseInt(n._vLine.style.left)>0&&(i=e)),f.style.left=u.x-i-r.left+"px",f.style.top=u.y-t-r.top+"px",n._hLine.style.top=t+"px",n._hLine.style.left=r.left-u.x+i+"px",n._vLine.style.top=r.top-u.y+t+"px",n._vLine.style.left=i+"px")},f.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new n.Point(t.pageX,t.pageY):new n.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},f.prototype._pointInRect=function(n,t){return!n||!t?!1:n.x>=t.left&&n.x<=t.left+t.width&&n.y>=t.top&&n.y<=t.top+t.height?!0:!1},f._CSS_MARKER="wj-chart-linemarker",f._CSS_MARKER_HLINE="wj-chart-linemarker-hline",f._CSS_MARKER_VLINE="wj-chart-linemarker-vline",f._CSS_MARKER_CONTENT="wj-chart-linemarker-content",f._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",f._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",f._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",f}();t.LineMarker=f})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var u=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},enumerable:!0,configurable:!0}),n}(),s,f,e,r,i,o;t._DataPoint=u,function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"}(t._MeasureOption||(t._MeasureOption={}));s=t._MeasureOption;f=function(){function t(n){this._rect=n}return Object.defineProperty(t.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,i){var r=t.x-n.x,u=t.y-n.y;return i==0?Math.abs(r):i==1?Math.abs(u):Math.sqrt(r*r+u*u)},t.prototype.distance=function(t){var r=2,i;return t.x===null?r=1:t.y===null&&(r=0),i=this._rect,t.x<i.left?t.y<i.top?this.pointDistance(t,new n.Point(i.left,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.left,i.bottom),r):r==1?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new n.Point(i.right,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.right,i.bottom),r):r==1?0:t.x-i.right:r==0?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}();t._RectArea=f;e=function(){function n(n,t){this._center=n;this._rad=t;this._rad2=t*t}return Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=isNaN(n.x)?0:this._center.x-n.x,i=isNaN(n.y)?0:this._center.y-n.y,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}();t._CircleArea=e;r=function(){function i(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return i.prototype.contains=function(){return!1},i.prototype.distance=function(i){for(var f,u=NaN,r=0;r<this._x.length-1;r++)f=t.FlexChart._dist(i,new n.Point(this._x[r],this._y[r]),new n.Point(this._x[r+1],this._y[r+1])),(isNaN(u)||f<u)&&(u=f);return u},i}();t._LinesArea=r;i=function(){function n(){}return n}();t._HitResult=i;o=function(){function f(n){this._map={};this._chart=n}return f.prototype.add=function(n,t){this._map[t]&&(n.tag||(n.tag=new u(t,NaN,NaN,NaN)),this._map[t].push(n))},f.prototype.clear=function(){var i,n;for(this._map={},i=this._chart.series,n=0;n<i.length;n++)i[n].hitTest===t.Series.prototype.hitTest&&(this._map[n]=[])},f.prototype.hitTest=function(t,u){var e,f,a,o,v,s,h,l,c;typeof u=="undefined"&&(u=!1);e=null;f=Number.MAX_VALUE;for(a in this._map)if(o=this._map[a],o){for(v=o.length,s=v-1;s>=0;s--)if((h=o[s],!n.tryCast(h,r)||u)&&(l=h.distance(t),l<f&&(f=l,e=h,f==0)))break;if(f==0)break}return e?(c=new i,c.area=e,c.distance=f,c):null},f.prototype.hitTestSeries=function(n,t){var e=null,r=Number.MAX_VALUE,o=this._map[t],c,u,s,h,f;if(o)for(c=o.length,u=c-1;u>=0;u--)if(s=o[u],h=s.distance(n),h<r&&(r=h,e=s,r==0))break;return e?(f=new i,f.area=e,f.distance=r,f):null},f}();t._HitTester=o})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return i.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},i.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},i.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},i.prototype.isValid=function(i,r){return t._DataInfo.isValid(i)&&t._DataInfo.isValid(r)&&t.FlexChart._contains(this.chart._plotRect,new n.Point(i,r))},i.prototype.load=function(){},i.prototype.unload=function(){},i}();t._BasePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments);this.origin=0;this.width=.7;this.isVolume=!1;this._volHelper=null;this.stackPosMap={};this.stackNegMap={};this.stacking=0}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNegMap[this.chart.axisY._uniqueId]={};this.stackPosMap[this.chart.axisY._uniqueId]={};this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===0?r._getBindingValues(1):f===7?r._getBindingValues(4):null,l===4)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.adjustLimits=function(t){this.dataInfo=t;var f=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),r=t.getMaxY(),u=t.getDeltaX();return u<=0&&(u=1),this.isVolume&&(this.chart._getChartType()===0||this.chart._getChartType()===7)?this.load():this.unload(),this.rotated?(this.chart.axisY.logBase||(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin)),new n.Rect(i,f-.5*u,r-i,e-f+u)):(this.chart.axisY.logBase||(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin)),new n.Rect(f-.5*u,i,e-f+u,r-i))},r.prototype.plotSeries=function(i,r,u,f,e,o,s){var tt=this.chart.series.indexOf(f),et=n.asType(f,t.SeriesBase),hi=this.chart.options,g=this.width,nt=0,lt,ot,d,yt,ui,ri,a,c,l,y,v,ii,p,b,w,si,h,ct,k,oi,it;hi&&hi.groupWidth&&(lt=hi.groupWidth,n.isNumber(lt)?(d=n.asNumber(lt),isFinite(d)&&d>0&&(nt=d,g=1)):n.isString(lt)&&(ot=n.asString(lt),ot&&ot.indexOf("%")>=0?(ot=ot.replace("%",""),d=parseFloat(ot),isFinite(d)&&(d<0?d=0:d>100&&(d=100),nt=0,g=d/100)):(d=parseFloat(ot),isFinite(d)&&d>0&&(nt=d,g=1))));var at=g/this.seriesCount,ai=et._getAxisY()._uniqueId,st=this.stackNegMap[ai],ht=this.stackPosMap[ai],vt=f.getValues(0),ut=f.getValues(1);if(vt){ut||(ut=this.dataInfo.getXVals());ut&&(yt=this.dataInfo.getDeltaX(),yt>0&&(g*=yt,at*=yt));var ci=et._getSymbolFill(tt),vi=et._getAltSymbolFill(tt)||ci,li=et._getSymbolStroke(tt),yi=et._getAltSymbolStroke(tt)||li,pt=vt.length;ut!=null&&(pt=Math.min(pt,ut.length));var rt=this.origin,ft=0,wt,bt,kt=this.stacking!=0,dt=this.stacking==2;if(et._getChartType()!==undefined&&(kt=dt=!1),this.rotated){rt<r.actualMin?rt=r.actualMin:rt>r.actualMax&&(rt=r.actualMax);var gt=r.convert(rt),fi=u.actualMin,ei=u.actualMax;for(a=0;a<pt;a++)if(c=ut?ut[a]:a,l=vt[a],wt=l>0?ci:vi,bt=l>0?li:yi,i.fill=wt,i.stroke=bt,t._DataInfo.isValid(c)&&t._DataInfo.isValid(l))if(kt){if(b=c-.5*g,w=c+.5*g,b<fi&&w<fi||b>ei&&w>ei)continue;b=u.convert(b);w=u.convert(w);dt&&(ii=this.dataInfo.getStackedAbsSum(c),l=l/ii);p=0;l>0?(p=isNaN(ht[c])?0:ht[c],y=r.convert(p),v=r.convert(p+l),ht[c]=p+l):(p=isNaN(st[c])?0:st[c],y=r.convert(p),v=r.convert(p+l),st[c]=p+l);h=new n.Rect(Math.min(y,v),Math.min(b,w),Math.abs(v-y),Math.abs(w-b));nt>0&&(k=1-nt/h.height,k<0&&(k=0),oi=h.top+.5*h.height,h.top+=(oi-h.top)*k,h.height=Math.min(nt,h.height));it=new t._RectArea(h);this.drawSymbol(i,h,f,a,new n.Point(v,h.top+.5*h.height));f._setPointIndex(a,ft);ft++;it.tag=new t._DataPoint(tt,a,p+l,c);this.hitTester.add(it,tt)}else{if(b=c-.5*g+o*at,w=c-.5*g+(o+1)*at,b<fi&&w<fi||b>ei&&w>ei)continue;b=u.convert(b);w=u.convert(w);si=r.convert(l);h=new n.Rect(Math.min(si,gt),Math.min(b,w),Math.abs(gt-si),Math.abs(w-b));nt>0&&(ct=nt/s,k=1-ct/h.height,k<0&&(k=0),oi=u.convert(c),h.top+=(oi-h.top)*k,h.height=Math.min(ct,h.height));it=new t._RectArea(h);this.drawSymbol(i,h,f,a,new n.Point(si,h.top+.5*h.height));f._setPointIndex(a,ft);ft++;it.tag=new t._DataPoint(tt,a,l,c);this.hitTester.add(it,tt)}}else{rt<u.actualMin?rt=u.actualMin:rt>u.actualMax&&(rt=u.actualMax);var gt=u.convert(rt),ni=r.actualMin,ti=r.actualMax;for(et._isCustomAxisY()&&(kt=dt=!1),a=0;a<pt;a++)if(c=ut?ut[a]:a,l=vt[a],wt=l>0?ci:vi,bt=l>0?li:yi,i.fill=wt,i.stroke=bt,t._DataInfo.isValid(c)&&t._DataInfo.isValid(l))if(kt){if(y=c-.5*g,v=c+.5*g,y<ni&&v<ni||y>ti&&v>ti)continue;if(y=r.convert(y),v=r.convert(v),!t._DataInfo.isValid(y)||!t._DataInfo.isValid(v))continue;dt&&(ii=this.dataInfo.getStackedAbsSum(c),l=l/ii);p=0;l>0?(p=isNaN(ht[c])?0:ht[c],b=u.convert(p),w=u.convert(p+l),ht[c]=p+l):(p=isNaN(st[c])?0:st[c],b=u.convert(p),w=u.convert(p+l),st[c]=p+l);h=new n.Rect(Math.min(y,v),Math.min(b,w),Math.abs(v-y),Math.abs(w-b));nt>0&&(k=1-nt/h.width,k<0&&(k=0),ri=h.left+.5*h.width,h.left+=(ri-h.left)*k,h.width=Math.min(nt,h.width));it=new t._RectArea(h);this.drawSymbol(i,h,f,a,new n.Point(h.left+.5*h.width,w));f._setPointIndex(a,ft);ft++;it.tag=new t._DataPoint(tt,a,c,p+l);this.hitTester.add(it,tt)}else{if(y=c-.5*g+o*at,v=c-.5*g+(o+1)*at,y<ni&&v<ni||y>ti&&v>ti)continue;if(y=r.convert(y),v=r.convert(v),!t._DataInfo.isValid(y)||!t._DataInfo.isValid(v))continue;ui=u.convert(l);h=new n.Rect(Math.min(y,v),Math.min(ui,gt),Math.abs(v-y),Math.abs(gt-ui));nt>0&&(ct=nt/s,k=1-ct/h.width,k<0&&(k=0),ri=r.convert(c),h.left+=(ri-h.left)*k,h.width=Math.min(ct,h.width));it=new t._RectArea(h);this.drawSymbol(i,h,f,a,new n.Point(h.left+.5*h.width,ui));f._setPointIndex(a,ft);ft++;it.tag=new t._DataPoint(tt,a,c,l);this.hitTester.add(it,tt)}}}},r.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f,8),e._setData(r,u),this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},r.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},r}(t._BasePlotter);t._BarPlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this.hasSymbols=!1;this.hasLines=!0;this.isSpline=!1;this.stacking=0;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&!this.chart.axisY.logBase&&(f=.1*(u-i),i-=f,u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.plotSeries=function(i,r,u,f){var c=n.asType(f,t.SeriesBase),h=this.chart.series.indexOf(f),k=f.getValues(0),p=f.getValues(1),g,nt,ct,tt,ft,lt,et,b,l,y,e,o,s;if(k){p||(p=this.dataInfo.getXVals());var it=t._BasePlotter.cloneStyle(f.style,["fill"]),w=k.length,ot=!0;p?w=Math.min(w,p.length):(ot=!1,p=new Array(w));var at=this._DEFAULT_WIDTH,d=c._getSymbolFill(h),vt=c._getAltSymbolFill(h)||d,rt=c._getSymbolStroke(h),yt=c._getAltSymbolStroke(h)||rt,ut=c._getSymbolSize();i.stroke=rt;i.strokeWidth=at;i.fill=d;var a=[],v=[],pt=this.rotated,st=this.stacking!=0&&!c._isCustomAxisY(),ht=this.stacking==2&&!c._isCustomAxisY();for(c._getChartType()!==undefined&&(st=ht=!1),g=this.chart.interpolateNulls,nt=!1,e=0;e<w;e++)o=ot?p[e]:e,s=k[e],t._DataInfo.isValid(o)&&t._DataInfo.isValid(s)?(st&&(ht&&(ct=this.dataInfo.getStackedAbsSum(o),s=s/ct),s>=0?(tt=isNaN(this.stackPos[o])?0:this.stackPos[o],s=this.stackPos[o]=tt+s):(tt=isNaN(this.stackNeg[o])?0:this.stackNeg[o],s=this.stackNeg[o]=tt+s)),pt?(ft=new t._DataPoint(h,e,s,o),lt=r.convert(s),s=u.convert(o),o=lt):(ft=new t._DataPoint(h,e,o,s),o=r.convert(o),s=u.convert(s)),isNaN(o)||isNaN(s)?(nt=!0,g!==!0&&(a.push(undefined),v.push(undefined))):(a.push(o),v.push(s),et=new t._CircleArea(new n.Point(o,s),.5*ut),et.tag=ft,this.hitTester.add(et,h))):(nt=!0,g!==!0&&(a.push(undefined),v.push(undefined)));if(b=0,this.hasLines)if(i.fill=null,nt&&g!==!0){for(l=[],y=[],e=0;e<w;e++)a[e]===undefined?(l.length>1&&(this._drawLines(i,l,y,null,it,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(l,y),h),b++),l=[],y=[]):(l.push(a[e]),y.push(v[e]));l.length>1&&(this._drawLines(i,l,y,null,it,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(l,y),h),b++)}else this._drawLines(i,a,v,null,it,this.chart._plotrectId),this.hitTester.add(new t._LinesArea(a,v),h),b++;if((this.hasSymbols||this.chart.itemFormatter)&&ut>0)for(i.fill=d,e=0;e<w;e++)o=a[e],s=v[e],this.hasLines===!1&&(i.fill=k[e]>0?d:vt,i.stroke=k[e]>0?rt:yt),this.isValid(o,s,r,u)&&(this._drawSymbol(i,o,s,ut,c,e),f._setPointIndex(e,b),b++)}},r.prototype._drawLines=function(n,t,i,r,u,f){this.isSpline?n.drawSplines(t,i,r,u,f):n.drawLines(t,i,r,u,f)},r.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u),8),s._setData(e,o),this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},r.prototype._drawDefaultSymbol=function(n,t,i,r,u,f){u==0?n.drawEllipse(t,i,.5*r,.5*r,null,f):u==1&&n.drawRect(t-.5*r,i-.5*r,r,r,null,f)},r}(t._BasePlotter);t._LinePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this.stacking=0;this.isSpline=!1;this.stackPos={};this.stackNeg={}}return __extends(r,i),r.prototype.adjustLimits=function(t){var f;this.dataInfo=t;var r=t.getMinX(),i=t.getMinY(),e=t.getMaxX(),u=t.getMaxY();return this.isSpline&&(f=.1*(u-i),this.chart.axisY.logBase||(i-=f),u+=f),this.rotated?new n.Rect(i,r,u-i,e-r):new n.Rect(r,i,e-r,u-i)},r.prototype.clear=function(){i.prototype.clear.call(this);this.stackNeg={};this.stackPos={}},r.prototype.plotSeries=function(i,r,u,f,e){var w=this.chart.series.indexOf(f),ht=f,ct=f.getValues(0),g=f.getValues(1),nt,lt,c,v,y,gt,p,b,ut,o,l,a,k,bt;if(ct){nt=ct.length;g||(g=this.dataInfo.getXVals());lt=!0;g?g.length<nt&&(nt=g.length):(lt=!1,g=new Array(nt));var s=[],h=[],tt=[],it=[],d=this.stacking!=0&&!ht._isCustomAxisY(),kt=this.stacking==2&&!ht._isCustomAxisY();ht._getChartType()!==undefined&&(d=kt=!1);var rt=this.rotated,ot=!1,st=this.chart.interpolateNulls,ft=null,et=null,dt=this.chart._plotRect;for(a=0;a<nt;a++)c=lt?g[a]:a,v=ct[a],(ft===null||c>ft)&&(ft=c),(et===null||c<et)&&(et=c),t._DataInfo.isValid(c)&&t._DataInfo.isValid(v)?(y=rt?u.convert(c):r.convert(c),d&&(kt&&(gt=this.dataInfo.getStackedAbsSum(c),v=v/gt),p=0,v>=0?(p=isNaN(this.stackPos[c])?0:this.stackPos[c],v=this.stackPos[c]=p+v):(p=isNaN(this.stackNeg[c])?0:this.stackNeg[c],v=this.stackNeg[c]=p+v),rt?(p<r.actualMin&&(p=r.actualMin),tt.push(r.convert(p)),it.push(y)):(tt.push(y),p<u.actualMin&&(p=u.actualMin),it.push(u.convert(p)))),rt?(b=r.convert(v),isNaN(y)||isNaN(b)?(ot=!0,d||st===!0||(s.push(undefined),h.push(undefined))):(s.push(b),h.push(y),t.FlexChart._contains(dt,new n.Point(b,y))&&(ut=new t._CircleArea(new n.Point(b,y),this._DEFAULT_SYM_SIZE),ut.tag=new t._DataPoint(w,a,v,c),this.hitTester.add(ut,w)))):(b=u.convert(v),isNaN(y)||isNaN(b)?(ot=!0,d||st===!0||(s.push(undefined),h.push(undefined))):(s.push(y),h.push(b),t.FlexChart._contains(dt,new n.Point(y,b))&&(ut=new t._CircleArea(new n.Point(y,b),this._DEFAULT_SYM_SIZE),ut.tag=new t._DataPoint(w,a,c,v),this.hitTester.add(ut,w))))):(ot=!0,d||st===!0||(s.push(undefined),h.push(undefined)));var at=this._DEFAULT_WIDTH,vt=e._getColorLight(w),yt=e._getColor(w),pt=t._BasePlotter.cloneStyle(f.style,["fill"]),wt=t._BasePlotter.cloneStyle(f.style,["stroke"]);if(!d&&st!==!0&&ot){for(o=[],l=[],a=0;a<nt;a++)s[a]===undefined?(o.length>1&&(this.isSpline&&(k=this._convertToSpline(o,l),o=k.xs,l=k.ys),i.stroke=yt,i.strokeWidth=at,i.fill="none",i.drawLines(o,l,null,pt),this.hitTester.add(new t._LinesArea(o,l),w),rt?(o.push(r.convert(r.actualMin),r.convert(r.actualMin)),l.push(u.convert(u.actualMax),u.convert(u.actualMin))):(o.push(o[o.length-1],o[0]),l.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=vt,i.stroke="none",i.drawPolygon(o,l,null,wt)),o=[],l=[]):(o.push(s[a]),l.push(h[a]));o.length>1&&(this.isSpline&&(k=this._convertToSpline(o,l),o=k.xs,l=k.ys),i.stroke=yt,i.strokeWidth=at,i.fill="none",i.drawLines(o,l,null,pt),this.hitTester.add(new t._LinesArea(o,l),w),rt?(o.push(r.convert(r.actualMin),r.convert(r.actualMin)),l.push(u.convert(u.actualMax),u.convert(u.actualMin))):(o.push(o[o.length-1],o[0]),l.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=vt,i.stroke="none",i.drawPolygon(o,l,null,wt))}else this.isSpline&&(k=this._convertToSpline(s,h),s=k.xs,h=k.ys),d?(this.isSpline&&(bt=this._convertToSpline(tt,it),tt=bt.xs,it=bt.ys),s=s.concat(tt.reverse()),h=h.concat(it.reverse())):rt?(s.push(r.convert(r.actualMin),r.convert(r.actualMin)),h.push(u.convert(ft),u.convert(et))):(s.push(r.convert(ft),r.convert(et)),h.push(u.convert(u.actualMin),u.convert(u.actualMin))),i.fill=vt,i.stroke="none",i.drawPolygon(s,h,null,wt),d?(s=s.slice(0,s.length-tt.length),h=h.slice(0,h.length-it.length)):(s=s.slice(0,s.length-2),h=h.slice(0,h.length-2)),i.stroke=yt,i.strokeWidth=at,i.fill="none",i.drawLines(s,h,null,pt),this.hitTester.add(new t._LinesArea(s,h),w);this._drawSymbols(i,f,w)}},r.prototype._convertToSpline=function(n,i){if(n&&i){var u=new t._Spline(n,i),r=u.calculate();return{xs:r.xs,ys:r.ys}}return{xs:n,ys:i}},r.prototype._drawSymbols=function(i,r,u){var o,f,e,h,s;if(this.chart.itemFormatter!=null)for(o=this.hitTester._map[u],f=0;f<o.length;f++)e=n.tryCast(o[f],t._CircleArea),e&&(h=e.tag,i.startGroup(),s=new t.HitTestInfo(this.chart,e.center,8),s._setDataPoint(h),this.chart.itemFormatter(i,s,function(){}),i.endGroup())},r}(t._BasePlotter);t._AreaPlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(r,i),r.prototype.adjustLimits=function(n,r){var v=this.getNumOption("minSize","bubble"),c,h,p,u,w,f,b,l,k,a;this._minSize=v?v:this._MIN_SIZE;c=this.getNumOption("maxSize","bubble");this._maxSize=c?c:this._MAX_SIZE;var y=this.chart.series,d=y.length,o=NaN,s=NaN;for(h=0;h<d;h++)if(p=y[h],u=p._getBindingValues(1),u)for(w=u.length,f=0;f<w;f++)t._DataInfo.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=i.prototype.adjustLimits.call(this,n,r),g=this.chart.axisX,nt=this.chart.axisY;return g.logBase<=0&&(b=r.width-this._maxSize,l=b/e.width,e.left-=this._maxSize*.5/l,e.width+=this._maxSize/l),nt.logBase<=0&&(k=r.height-this._maxSize,a=k/e.height,e.top-=this._maxSize*.5/a,e.height+=this._maxSize/a),e},r.prototype._drawSymbol=function(i,r,u,f,e,o){var a=this,c=e._getItem(o),s,f,l,h;c&&(s=e._getBinding(1),s&&(f=c[s],t._DataInfo.isValid(f)&&(l=this._minValue==this._maxValue?1:Math.sqrt((f-this._minValue)/(this._maxValue-this._minValue)),f=this._minSize+(this._maxSize-this._minSize)*l,this.chart.itemFormatter?(h=new t.HitTestInfo(this.chart,new n.Point(r,u),8),h._setData(e,o),i.startGroup(),this.chart.itemFormatter(i,h,function(){a._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle))))},r}(t._LinePlotter);t._BubblePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(){i.apply(this,arguments);this.isCandle=!0;this.isArms=!1;this.isEqui=!1;this.isVolume=!1;this._volHelper=null;this._symWidth=.7}return __extends(r,i),r.prototype.clear=function(){i.prototype.clear.call(this);this._volHelper=null},r.prototype.load=function(){var r,e,f,s,l,u,h,o,a,v,c;if(i.prototype.load.call(this),this.isVolume)for(a=null,v=null,u=0;u<this.chart.series.length;u++){if(r=this.chart.series[u],l=r.getDataType(1)||r.chart._xDataType,e=r._getAxisX(),f=r._getChartType(),f=f===null||n.isUndefined(f)?this.chart._getChartType():f,s=f===0?r._getBindingValues(1):f===7?r._getBindingValues(4):null,l===4)for(h=[],o=[],u=0;u<r._getLength();u++)c=r._getItem(u)[r.bindingX].valueOf(),h.push(c),o.push({value:c,text:n.Globalize.format(new Date(c),e.format||"d")});else h=this.dataInfo.getXVals();if(a=this.dataInfo.getMinX(),v=this.dataInfo.getMaxX(),s&&s.length>0){this._volHelper=new t._VolumeHelper(s,h,a,v,l);e._customConvert=this._volHelper.convert.bind(this._volHelper);e._customConvertBack=this._volHelper.convertBack.bind(this._volHelper);o&&o.length>0&&(this._itemsSource=e.itemsSource=o);break}}},r.prototype.unload=function(){var r,n,t;for(i.prototype.unload.call(this),t=0;t<this.chart.series.length;t++)r=this.chart.series[t],n=r._getAxisX(),n&&(n._customConvert=null,n._customConvertBack=null,n.itemsSource&&n.itemsSource==this._itemsSource&&(this._itemsSource=n.itemsSource=null))},r.prototype.parseSymbolWidth=function(t){var u,r,i;this._isPixel=undefined;t&&(n.isNumber(t)?(u=n.asNumber(t),isFinite(u)&&u>0&&(this._symWidth=u,this._isPixel=!0)):n.isString(t)&&(r=n.asString(t),r&&r.indexOf("%")>=0?(r=r.replace("%",""),i=parseFloat(r),isFinite(i)&&(i<0?i=0:i>100&&(i=100),this._symWidth=i/100,this._isPixel=!1)):(i=parseFloat(t),isFinite(i)&&i>0&&(this._symWidth=i,this._isPixel=!0))))},r.prototype.adjustLimits=function(i){var a,u,s,v,h,tt,o,c,y;this.dataInfo=i;var f=i.getMinX(),r=i.getMinY(),p=i.getMaxX(),e=i.getMaxY(),l=i.getDeltaX(),it=this.chart._xDataType;l<=0&&(l=1);var w=this.chart.series,rt=w.length,b=0;for(this.parseSymbolWidth(this.symbolWidth),this.isVolume&&(this.chart._getChartType()===0||this.chart._getChartType()===7)?this.load():this.unload(),a=0;a<rt;a++)if(u=w[a],!u._isCustomAxisY()){var k=u._getBinding(1),d=u._getBinding(2),g=u._getBinding(3),nt=u._getLength();if(nt)for(s=u._getSymbolSize(),s>b&&(b=s),v=0;v<nt;v++)h=u._getItem(v),h&&(tt=[k?h[k]:null,d?h[d]:null,g?h[g]:null],tt.forEach(function(n){t._DataInfo.isValid(n)&&n!==null&&((isNaN(r)||n<r)&&(r=n),(isNaN(e)||n>e)&&(e=n))}))}return o=p-f,c=this.chart._plotRect,c&&c.width&&!this.isVolume&&(s+=2,y=c.width/(c.width-s)*o,f=f-.5*(y-o),o=y),it===4&&this.isVolume&&(this.chart._getChartType()===0||this.chart._getChartType()===7)?new n.Rect(f-.5*l,r,p-f+l,e-r):this.chart._isRotated()?new n.Rect(r,f,e-r,o):new n.Rect(f,r,o,e-r)},r.prototype.plotSeries=function(i,r,u,f){var yt=this,o=n.asType(f,t.SeriesBase),a=this.chart.series.indexOf(f),d=f.getValues(0),c=f.getValues(1),ft=this._symWidth,et=this.chart._isRotated(),g,v,nt,e,l,ut;if(d){c||(c=this.dataInfo.getXVals());c&&(g=this.dataInfo.getDeltaX(),g>0&&this._isPixel===!1&&(ft*=g));v=d.length;nt=!0;c?v=Math.min(v,c.length):(nt=!1,c=new Array(v));var pt=this._DEFAULT_WIDTH,tt=o._getSymbolFill(a),ot=o._getAltSymbolFill(a)||"transparent",w=o._getSymbolStroke(a),st=o._getAltSymbolStroke(a)||w,ht=this._isPixel===undefined?o._getSymbolSize():ft;i.stroke=w;i.strokeWidth=pt;i.fill=tt;var ct=o._getBinding(1),lt=o._getBinding(2),h=o._getBinding(3),wt=et?u.actualMin:r.actualMin,bt=et?u.actualMax:r.actualMax,at=0,y,it,s=null,p=null;for(e=0;e<v;e++)if(s=o._getItem(e),s){if(l=nt?c[e]:e,t._DataInfo.isValid(l)&&wt<=l&&l<=bt){var rt=d[e],vt=ct?s[ct]:null,b=lt?s[lt]:null,k=h?s[h]:null;i.startGroup();this.isEqui&&p!==null?p[h]!==s[h]&&(y=p[h]<s[h]?ot:tt,it=p[h]<s[h]?st:w):(y=b<k?ot:tt,it=b<k?st:w);i.fill=y;i.stroke=it;this.chart.itemFormatter?(ut=new t.HitTestInfo(this.chart,new n.Point(r.convert(l),u.convert(rt)),8),ut._setData(o,e),this.chart.itemFormatter(i,ut,function(){yt._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k)})):this._drawSymbol(i,r,u,a,e,y,ht,l,rt,vt,b,k);i.endGroup();f._setPointIndex(e,at);at++}p=s}}},r.prototype._drawSymbol=function(i,r,u,f,e,o,s,h,c,l,a,v){var g=new t._DataPoint(f,e,h,c),k,y=null,w=null,p=null,b=null,d=this.chart._isRotated(),nt,tt;d&&(nt=u,u=r,r=nt);this._isPixel===!1&&(p=r.convert(h-.5*s),b=r.convert(h+.5*s),p>b&&(tt=p,p=b,b=tt));h=r.convert(h);this._isPixel!==!1&&(p=h-.5*s,b=h+.5*s);this.isCandle?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),d?(i.drawRect(y,p,w-y,b-p),k=new t._RectArea(new n.Rect(y,p,w-y,b-p))):(i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(c)&&(c=u.convert(c),y!==null&&(d?i.drawLine(w,h,c,h):i.drawLine(h,y,h,c))),t._DataInfo.isValid(l)&&(l=u.convert(l),w!==null&&(d?i.drawLine(y,h,l,h):i.drawLine(h,w,h,l)))):this.isEqui?t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f)):this.isArms?(t._DataInfo.isValid(a)&&t._DataInfo.isValid(v)&&(a=u.convert(a),v=u.convert(v),y=Math.min(a,v),w=y+Math.abs(a-v),i.drawRect(p,y,b-p,w-y)),t._DataInfo.isValid(c)&&y!==null&&(c=u.convert(c),i.drawLine(h,y,h,c)),t._DataInfo.isValid(l)&&w!==null&&(l=u.convert(l),i.drawLine(h,w,h,l)),t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(i.fill="transparent",y=Math.min(c,l),w=y+Math.abs(c-l),i.drawRect(p,y,b-p,w-y),k=new t._RectArea(new n.Rect(p,y,b-p,w-y)),k.tag=g,this.hitTester.add(k,f))):(t._DataInfo.isValid(c)&&t._DataInfo.isValid(l)&&(c=u.convert(c),l=u.convert(l),d?(i.drawLine(l,h,c,h),k=new t._RectArea(new n.Rect(Math.min(c,l),h-.5*s,Math.abs(c-l),s))):(i.drawLine(h,l,h,c),k=new t._RectArea(new n.Rect(h-.5*s,Math.min(c,l),s,Math.abs(c-l)))),k.tag=g,this.hitTester.add(k,f)),t._DataInfo.isValid(a)&&(a=u.convert(a),d?i.drawLine(a,p,a,h):i.drawLine(p,a,h,a)),t._DataInfo.isValid(v)&&(v=u.convert(v),d?i.drawLine(v,h,v,b):i.drawLine(h,v,b,v)))},r}(t._BasePlotter);t._FinancePlotter=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function t(t,i,r,u,f){this._volumes=n.asArray(t);this._xVals=n.asArray(i);this._xDataMin=n.asNumber(r,!0,!1);this._xDataMax=n.asNumber(u,!0,!1);this._xDataType=n.asEnum(f,n.DataType,!0);this._calcData=[];this._init()}return t.prototype.convert=function(i,r,u){var o=undefined,e=this._calcData.length,f=-1;return this._hasXs&&this._xDataType===4?(f=this._xVals.indexOf(i),f===-1&&(f=this._xVals.indexOf(new Date(i).setHours(0,0,0,0))),f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,e-1))):this._hasXs?(f=this._xVals.indexOf(i),f===-1&&(f=this._xVals.indexOf(Math.floor(i)),f=n.clamp(f,0,e-1))):f=n.clamp(Math.round(i),0,e-1),0<=f&&f<e&&(this._hasXs&&(i=t.convertToRange(i,0,e-1,this._xDataMin,this._xDataMax)),o=this._calcData[f].value+(i-f)*this._calcData[f].width-.5*this._calcData[f].width,r=this._getXVolume(r),u=this._getXVolume(u),o=(o-r)/(u-r)),o},t.prototype.convertBack=function(n){for(var u=undefined,f=this._calcData.length,r=-1,i=0;i<f;i++)if(this._calcData[i].x1<=n&&n<=this._calcData[i].x2||i===0&&n<=this._calcData[i].x2||i===f-1&&this._calcData[i].x1<=n){r=i;break}return 0<=r&&r<f&&(u=n/this._calcData[r].width-this._calcData[r].value/this._calcData[r].width+.5+i,this._hasXs&&(u=t.convertToRange(u,this._xDataMin,this._xDataMax,0,f-1))),u},t.prototype._init=function(){var r,u,i;this._hasXs=this._xVals!==null&&this._xVals.length>0;this._hasXs&&!n.isNumber(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals));this._hasXs&&!n.isNumber(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals));this._hasXs&&(this._hasXs=n.isNumber(this._xDataMin)&&n.isNumber(this._xDataMax));this._hasXs&&this._xDataType===4&&this._fillGaps();for(var f=0,t=0,e=this._volumes!==null&&this._volumes.length>0?this._volumes.length:0,t=0;t<e;t++)f+=this._volumes[t];for(i=0,t=0;t<e;t++)u=this._volumes[t]/f,r=i+u,this._calcData.push({value:r,width:u,x1:i,x2:r}),i=this._calcData[t].value},t.prototype._getXVolume=function(i){var u=this._calcData.length,r=-1;return this._hasXs&&(r=this._xVals.indexOf(i),this._xDataType===4&&r===-1&&(r=this._xVals.indexOf(new Date(i).setHours(0,0,0,0)))),this._hasXs&&(i=t.convertToRange(i,0,u-1,this._xDataMin,this._xDataMax)),r===-1&&(r=n.clamp(Math.round(i),0,u-1)),this._calcData[r].value+(i-r)*this._calcData[r].width-.5*this._calcData[r].width},t.convertToRange=function(n,t,i,r,u){return t===i||r===u?0:(n-r)*(i-t)/(u-r)+t},t.prototype._fillGaps=function(){if(this._xDataType===4&&this._xVals!==null&&!(this._xVals.length<=0))for(var n=this._xDataMin,i=this._xDataMax,t=1;n<i;t++)n=new Date(n),n.setDate(n.getDate()+1),n=n.valueOf(),n!==this._xVals[t]&&(this._xVals.splice(t,0,n),this._volumes.splice(t,0,0))},t}();t._VolumeHelper=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))